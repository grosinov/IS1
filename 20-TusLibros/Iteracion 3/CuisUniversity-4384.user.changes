

----STARTUP---- (15 October 2020 19:29:35) as /home/grosinov/linux64/CuisUniversity-4383.image!


!testRun: #BackpackTest #test09ShouldAddPortableObjectsIfWeightUnderMaxWeightCapacity stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test01CanNotCreateBackpackWithZeroMaxWeight stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test02CanNotCreateBackpackWithNegativeMaxWeight stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test03CanNotCreateBackpackWithZeroMaxPoints stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test04CanNotCreateBackpackWithNegativeMaxPoints stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test05CanNotCreateBackpackWithNoIntegerMaxWeight stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test06CanNotCreateBackpackWithNoIntegerMaxPoints stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test07ShouldNotAddNoPointsPortableObjectIfWeightExceeded stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test08ShouldNotAddPointsPortableObjectIfWeightExceeded stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test09ShouldAddPortableObjectsIfWeightUnderMaxWeightCapacity stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test10ShouldAddPortableObjectsIfWeightEqualsMaxWeightCapacity stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test11ShouldAddZeroWeightWhenEmpty stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test12ShouldAddWeightWhenAddingPortableObjects stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test13ShouldAddZeroPointsWhenEmpty stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test14ShouldAddPointsWhenAddingPointsPortableObjects stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #BackpackTest #test15ShouldNotAddPointsWhenAddingNoPointsPortableObjects stamp: 'GR 10/15/2020 19:29:40'!
PASSED!

!testRun: #DoorTest #test09ADoorKeyClosedCanBeOpenWithTheCorrectKey stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test01ADoorOpenedCanNotBeOpenedAgain stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test02ADoorOpenedCanBeClosed stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test03ADoorClosedCanNotBeClosedAgain stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test04ADoorClosedCanBeOpened stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test05ADoorClosedCanNotBeOpenedWithAKey stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test06ADoorKeyClosedCanNotBeClosedAgain stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test07ADoorKeyClosedCanNotBeOpenedWithoutAKey stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test08ADoorKeyClosedCanNotBeOpenWithAnyKey stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test09ADoorKeyClosedCanBeOpenWithTheCorrectKey stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test10WhenUsingADoorClosedGetsOpened stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test11WhenUsingADoorOpenedGetsClosed stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test12WhenUsingADoorKeyClosedCanNotBeOpened stamp: 'GR 10/15/2020 19:29:44'!
PASSED!

!testRun: #DoorTest #test09ADoorKeyClosedCanBeOpenWithTheCorrectKey stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test01ADoorOpenedCanNotBeOpenedAgain stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test02ADoorOpenedCanBeClosed stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test03ADoorClosedCanNotBeClosedAgain stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test04ADoorClosedCanBeOpened stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test05ADoorClosedCanNotBeOpenedWithAKey stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test06ADoorKeyClosedCanNotBeClosedAgain stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test07ADoorKeyClosedCanNotBeOpenedWithoutAKey stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test08ADoorKeyClosedCanNotBeOpenWithAnyKey stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test09ADoorKeyClosedCanBeOpenWithTheCorrectKey stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test10WhenUsingADoorClosedGetsOpened stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test11WhenUsingADoorOpenedGetsClosed stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #DoorTest #test12WhenUsingADoorKeyClosedCanNotBeOpened stamp: 'GR 10/15/2020 19:29:55'!
PASSED!

!testRun: #BackpackTest #test14ShouldAddPointsWhenAddingPointsPortableObjects stamp: 'GR 10/15/2020 19:29:58'!
PASSED!

!testRun: #BackpackTest #test01CanNotCreateBackpackWithZeroMaxWeight stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test02CanNotCreateBackpackWithNegativeMaxWeight stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test03CanNotCreateBackpackWithZeroMaxPoints stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test04CanNotCreateBackpackWithNegativeMaxPoints stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test05CanNotCreateBackpackWithNoIntegerMaxWeight stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test06CanNotCreateBackpackWithNoIntegerMaxPoints stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test07ShouldNotAddNoPointsPortableObjectIfWeightExceeded stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test08ShouldNotAddPointsPortableObjectIfWeightExceeded stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test09ShouldAddPortableObjectsIfWeightUnderMaxWeightCapacity stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test10ShouldAddPortableObjectsIfWeightEqualsMaxWeightCapacity stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test11ShouldAddZeroWeightWhenEmpty stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test12ShouldAddWeightWhenAddingPortableObjects stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test13ShouldAddZeroPointsWhenEmpty stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test14ShouldAddPointsWhenAddingPointsPortableObjects stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

!testRun: #BackpackTest #test15ShouldNotAddPointsWhenAddingNoPointsPortableObjects stamp: 'GR 10/15/2020 19:29:59'!
PASSED!

----QUIT----(15 October 2020 19:30:06) CuisUniversity-4383.image priorSource: 18402574!

----STARTUP---- (15 October 2020 19:50:15) as /home/grosinov/linux64/CuisUniversity-4383.image!


!classRemoval: #PointsPortableObject stamp: 'GR 10/15/2020 19:50:20'!
PortableObject subclass: #PointsPortableObject
	instanceVariableNames: 'points'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #NoPointsPortableObject stamp: 'GR 10/15/2020 19:50:20'!
PortableObject subclass: #NoPointsPortableObject
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #PortableObject stamp: 'GR 10/15/2020 19:50:21'!
StageObject subclass: #PortableObject
	instanceVariableNames: 'name weight'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #Door stamp: 'GR 10/15/2020 19:50:21'!
StageObject subclass: #Door
	instanceVariableNames: 'state key'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #StageObject stamp: 'GR 10/15/2020 19:50:21'!
Object subclass: #StageObject
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #PlayableCharacter stamp: 'GR 10/15/2020 19:50:21'!
Object subclass: #PlayableCharacter
	instanceVariableNames: 'name backpack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #Opened stamp: 'GR 10/15/2020 19:50:22'!
DoorState subclass: #Opened
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #KeyClosed stamp: 'GR 10/15/2020 19:50:22'!
DoorState subclass: #KeyClosed
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #Closed stamp: 'GR 10/15/2020 19:50:22'!
DoorState subclass: #Closed
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #DoorState stamp: 'GR 10/15/2020 19:50:23'!
Object subclass: #DoorState
	instanceVariableNames: 'door'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #Backpack stamp: 'GR 10/15/2020 19:50:23'!
Object subclass: #Backpack
	instanceVariableNames: 'weightCapacity gamePointsCapacity container'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #DoorTest stamp: 'GR 10/15/2020 19:50:23'!
TestCase subclass: #DoorTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #BackpackTest stamp: 'GR 10/15/2020 19:50:23'!
TestCase subclass: #BackpackTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

----End fileIn of /home/grosinov/linux64/ISW1-2020-2C-Parcial-Enunciado.st----!

!testRun: #BackpackTest #test05CanNotCreateBackpackWithNoIntegerMaxWeight stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test01CanNotCreateBackpackWithZeroMaxWeight stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test02CanNotCreateBackpackWithNegativeMaxWeight stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test03CanNotCreateBackpackWithZeroMaxPoints stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test04CanNotCreateBackpackWithNegativeMaxPoints stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test05CanNotCreateBackpackWithNoIntegerMaxWeight stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test06CanNotCreateBackpackWithNoIntegerMaxPoints stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test07ShouldNotAddNoPointsPortableObjectIfWeightExceeded stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test08ShouldNotAddPointsPortableObjectIfWeightExceeded stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test09ShouldAddPortableObjectsIfWeightUnderMaxWeightCapacity stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test10ShouldAddPortableObjectsIfWeightEqualsMaxWeightCapacity stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test11ShouldAddZeroWeightWhenEmpty stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test12ShouldAddWeightWhenAddingPortableObjects stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test13ShouldAddZeroPointsWhenEmpty stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test14ShouldAddPointsWhenAddingPointsPortableObjects stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #BackpackTest #test15ShouldNotAddPointsWhenAddingNoPointsPortableObjects stamp: 'GR 10/15/2020 19:50:39'!
PASSED!

!testRun: #DoorTest #test06ADoorKeyClosedCanNotBeClosedAgain stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test01ADoorOpenedCanNotBeOpenedAgain stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test02ADoorOpenedCanBeClosed stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test03ADoorClosedCanNotBeClosedAgain stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test04ADoorClosedCanBeOpened stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test05ADoorClosedCanNotBeOpenedWithAKey stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test06ADoorKeyClosedCanNotBeClosedAgain stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test07ADoorKeyClosedCanNotBeOpenedWithoutAKey stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test08ADoorKeyClosedCanNotBeOpenWithAnyKey stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test09ADoorKeyClosedCanBeOpenWithTheCorrectKey stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test10WhenUsingADoorClosedGetsOpened stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test11WhenUsingADoorOpenedGetsClosed stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!testRun: #DoorTest #test12WhenUsingADoorKeyClosedCanNotBeOpened stamp: 'GR 10/15/2020 19:50:43'!
PASSED!

!classRemoval: #PointsPortableObject stamp: 'GR 10/15/2020 19:50:51'!
PortableObject subclass: #PointsPortableObject
	instanceVariableNames: 'points'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #NoPointsPortableObject stamp: 'GR 10/15/2020 19:50:52'!
PortableObject subclass: #NoPointsPortableObject
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #PortableObject stamp: 'GR 10/15/2020 19:50:52'!
StageObject subclass: #PortableObject
	instanceVariableNames: 'name weight'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #Door stamp: 'GR 10/15/2020 19:50:52'!
StageObject subclass: #Door
	instanceVariableNames: 'state key'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #StageObject stamp: 'GR 10/15/2020 19:50:52'!
Object subclass: #StageObject
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #PlayableCharacter stamp: 'GR 10/15/2020 19:50:53'!
Object subclass: #PlayableCharacter
	instanceVariableNames: 'name backpack'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #Opened stamp: 'GR 10/15/2020 19:50:53'!
DoorState subclass: #Opened
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #KeyClosed stamp: 'GR 10/15/2020 19:50:53'!
DoorState subclass: #KeyClosed
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #Closed stamp: 'GR 10/15/2020 19:50:54'!
DoorState subclass: #Closed
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #DoorState stamp: 'GR 10/15/2020 19:50:54'!
Object subclass: #DoorState
	instanceVariableNames: 'door'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #Backpack stamp: 'GR 10/15/2020 19:50:54'!
Object subclass: #Backpack
	instanceVariableNames: 'weightCapacity gamePointsCapacity container'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #DoorTest stamp: 'GR 10/15/2020 19:50:55'!
TestCase subclass: #DoorTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

!classRemoval: #BackpackTest stamp: 'GR 10/15/2020 19:50:55'!
TestCase subclass: #BackpackTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'ISW1-2020-2C-Parcial-Enunciado'!

----QUIT----(15 October 2020 19:50:58) CuisUniversity-4383.image priorSource: 18409173!

----STARTUP---- (19 October 2020 17:19:04) as /home/grosinov/linux64/CuisUniversity-4383.image!


----QUIT----(19 October 2020 20:48:16) CuisUniversity-4383.image priorSource: 18456754!

----STARTUP---- (22 October 2020 17:17:02) as /home/grosinov/linux64/CuisUniversity-4383.image!


TestCase subclass: #Rot13Test
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Rot13'!

!classDefinition: #Rot13Test category: 'Rot13' stamp: 'GR 10/22/2020 17:18:33'!
TestCase subclass: #Rot13Test
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Rot13'!
!Rot13Test methodsFor: 'no messages' stamp: 'GR 10/22/2020 17:21:33'!
test01

	self assert: ''  equals: '' asRot13.! !
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 17:21:47' prior: 50908446!
test01

	self assert: ''  equals: '' asRot13. ! !

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:21:47'!
ERROR!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:22:09'!
asRot13
	self shouldBeImplemented.! !
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:22:19' prior: 50908457!
asRot13
	
	^self.! !

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:22:24'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:22:24'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 17:27:15'!
test02

	self assert: 'n'  equals: 'a' asRot13. ! !

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:27:22'!
FAILURE!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:28:12'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:29:45' prior: 50908461!
asRot13
	
	^self isEmpty ifTrue: [ self ] ifFalse: [ 'n' ].! !

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:29:53'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:29:53'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:29:53'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 17:33:44'!
test03

	self assert: 'ubyn'  equals: 'hola' asRot13. ! !

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:33:45'!
FAILURE!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 17:34:58' prior: 50908490!
test03

	self assert: 'u'  equals: 'h' asRot13. ! !

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:35:22'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:37:08' prior: 50908478!
asRot13
	
	^self < 'n' ifTrue: [ self + 13 ] ifFalse: [ self - 13 ].! !

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:37:10'!
ERROR!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:37:25'!
ERROR!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:39:36' prior: 50908504!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	^self = 'a' ifTrue: [ 'n' ] ifFalse: [ 'u' ].! !

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:39:38'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:39:38'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:39:38'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:39:38'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 17:43:28' prior: 50908497!
test03

	self assert: 'u' equals: 'h' asRot13. ! !
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:45:45' prior: 50908514!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	self = 'a' ifTrue: [ ^'n' ].
	self = 'h' ifTrue: [ ^'u' ].! !

'a' asCharacterSet !

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:49:32'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:49:32'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:49:32'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:49:32'!
PASSED!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:50:22' prior: 50908534!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	^(Character asciiValue: (self first asciiValue + 13)) asString.! !

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:50:25'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:50:29'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:50:29'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:50:29'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:50:29'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 17:51:33' prior: 50908529!
test03

	self assert: 'u' equals: 'h' asRot13.! !
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 17:52:26'!
test04

	self assert: 'a' equals: 'n' asRot13.! !

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 17:52:27'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:53:13' prior: 50908550!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	^(Character asciiValue: (self first asciiValue + 13)) asString.! !
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:54:40' prior: 50908579!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	
	^ self < 'n' 
		ifTrue: [ (Character asciiValue: (self first asciiValue + 13)) asString ]
		ifFalse: [ (Character asciiValue: (self first asciiValue - 13)) asString ].! !
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:54:55' prior: 50908585!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	
	^ self < 'n' 
		ifTrue: [ (Character asciiValue: (self first asciiValue + 13)) asString ]
		ifFalse: [ 'a' ].! !

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 17:54:57'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:54:57'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:54:57'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:54:57'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 17:54:57'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 17:56:57'!
test05

	self assert: 'h' equals: 'u' asRot13.! !

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:56:58'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:58:39' prior: 50908595!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	
	self < 'n' 
		ifTrue: [ ^(Character asciiValue: (self first asciiValue + 13)) asString ].
	
	^self = 'n' ifTrue: [ 'a' ] ifFalse: [ 'u' ]! !

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:58:40'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:58:54' prior: 50908621!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	
	self < 'n' 
		ifTrue: [ ^(Character asciiValue: (self first asciiValue + 13)) asString ].
	
	^self = 'n' ifTrue: [ 'a' ] ifFalse: [ 'h' ]! !

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:58:55'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:58:55'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:58:55'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:58:55'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 17:58:55'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:58:55'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:59:00'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:59:00'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:59:00'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:59:00'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 17:59:00'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:59:00'!
PASSED!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 17:59:40' prior: 50908632!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	
	^self < 'n' 
		ifTrue: [ (Character asciiValue: (self first asciiValue + 13)) asString ]
		ifFalse: [ (Character asciiValue: (self first asciiValue - 13)) asString ]! !

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:59:42'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:59:45'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 17:59:45'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 17:59:45'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 17:59:45'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 17:59:45'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 17:59:45'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 18:04:58'!
test06

	self assert: 'ubyn' equals: 'hola' asRot13.! !

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:05:03'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:05:09' prior: 50908667!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	^self < 'n' 
		ifTrue: [ (Character asciiValue: (self first asciiValue + 13)) asString ]
		ifFalse: [ (Character asciiValue: (self first asciiValue - 13)) asString ]! !
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:06:15' prior: 50908699!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	self size = 1 ifTrue: [
	^self < 'n' 
		ifTrue: [ (Character asciiValue: (self first asciiValue + 13)) asString ]
		ifFalse: [ (Character asciiValue: (self first asciiValue - 13)) asString ] ].
	^'hola'! !
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:06:49' prior: 50908709!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	self size = 1 ifTrue: [
	^self < 'n' 
		ifTrue: [ (Character asciiValue: (self first asciiValue + 13)) asString ]
		ifFalse: [ (Character asciiValue: (self first asciiValue - 13)) asString ] ].
	^'ubyn'! !
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:11:50' prior: 50908720!
asRot13
	
	| retString |
	
	self isEmpty ifTrue: [ ^self ].
	retString := ''.
	
	self do: [ :aChar | retString addLast: (aChar < 'n' 
		ifTrue: [ (Character asciiValue: (aChar asciiValue + 13)) asString ]
		ifFalse: [ (Character asciiValue: (aChar asciiValue - 13)) asString ] ) ].! !

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:11:52'!
ERROR!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:12:25' prior: 50908731!
asRot13
	
	| retString |
	
	self isEmpty ifTrue: [ ^self ].
	retString := ''.
	
	self do: [ :aChar | retString addLast: (aChar < $n 
		ifTrue: [ (Character asciiValue: (aChar asciiValue + 13)) asString ]
		ifFalse: [ (Character asciiValue: (aChar asciiValue - 13)) asString ] ) ].! !

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:12:28'!
ERROR!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:14:20' prior: 50908745!
asRot13
	
	| retString |
	
	self isEmpty ifTrue: [ ^self ].
	retString := ''.
	
	self do: [ :aChar | retString nextPutAll: (aChar < $n 
		ifTrue: [ (Character asciiValue: (aChar asciiValue + 13)) asString ]
		ifFalse: [ (Character asciiValue: (aChar asciiValue - 13)) asString ] ) ].! !

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:14:23'!
ERROR!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:16:47' prior: 50908759!
asRot13
	
	| retString |
	
	self isEmpty ifTrue: [ ^self ].
	retString := ''.
	
	self do: [ :aChar | aChar < $n 
		ifTrue: [ 
			retString := retString, (Character asciiValue: (aChar asciiValue + 13)) asString ]
		ifFalse: [ retString := retString, (Character asciiValue: (aChar asciiValue - 13)) asString ]  ].! !

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:16:49'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:19:29' prior: 50908773!
asRot13
	
	self isEmpty ifTrue: [ ^self ].
	
	^ self collect: [:aChar | aChar < $n 
		ifTrue: [Character asciiValue: (aChar asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (aChar asciiValue - 13) ]
		].! !

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:19:30'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:19:32'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 18:19:32'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:19:32'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 18:19:32'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 18:19:32'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 18:19:32'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:19:32'!
PASSED!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:23:53' prior: 50908788!
asRot13
	
	"test01:
		^self
	test02:
		^self isEmpty ifTrue: [^self]
		^a
	test03:
		^self isEmpty ifTrue: [^self]
		^self = 'a' ifTrue: [ 'n' ]
		^u
	"
	
	self isEmpty ifTrue: [ ^self ].
	
	^ self collect: [:aChar | aChar < $n 
		ifTrue: [Character asciiValue: (aChar asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (aChar asciiValue - 13) ]
		].! !
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 18:31:52'!
test07

	self assert: 'UBYN' equals: 'HOLA' asRot13.! !

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:31:59'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:32:29' prior: 50908815!
asRot13
	
	"test01:
		^self
	test02:
		^self isEmpty ifTrue: [^self]
		^a
	test03:
		^self isEmpty ifTrue: [^self]
		^self = 'a' ifTrue: [ 'n' ]
		^u
	
	test06:
	self isEmpty ifTrue: [ ^self ].
	
	^ self collect: [:aChar | aChar < $n 
		ifTrue: [Character asciiValue: (aChar asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (aChar asciiValue - 13) ]
		].
	"! !

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:32:36'!
FAILURE!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:32:46'!
FAILURE!
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:33:51' prior: 50908836!
asRot13
	
	"test01:
		^self
	test02:
		^self isEmpty ifTrue: [^self]
		^a
	test03:
		^self isEmpty ifTrue: [^self]
		^self = 'a' ifTrue: [ 'n' ]
		^u
	
	test06:
	self isEmpty ifTrue: [ ^self ].
	
	^ self collect: [:aChar | aChar < $n 
		ifTrue: [Character asciiValue: (aChar asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (aChar asciiValue - 13) ]
		].
	"
	
	self isEmpty ifTrue: [ ^self ].
	
	^ self collect: [:aChar | 
		aChar asLowercase < $n 
		ifTrue: [Character asciiValue: (aChar asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (aChar asciiValue - 13) ]
		].! !

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:33:56'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 18:33:56'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:33:56'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 18:33:56'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 18:33:56'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 18:33:56'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:33:56'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:33:56'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:39:37'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 18:39:37'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:39:37'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 18:39:37'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 18:39:37'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 18:39:37'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:39:37'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:39:37'!
PASSED!
!Character methodsFor: 'nil' stamp: 'GR 10/22/2020 18:40:49'!
asRot13

	! !
!String methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:41:26' prior: 50908855!
asRot13
	
	"test01:
		^self
	test02:
		^self isEmpty ifTrue: [^self]
		^a
	test03:
		^self isEmpty ifTrue: [^self]
		^self = 'a' ifTrue: [ 'n' ]
		^u
	
	test06:
	self isEmpty ifTrue: [ ^self ].
	
	^ self collect: [:aChar | aChar < $n 
		ifTrue: [Character asciiValue: (aChar asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (aChar asciiValue - 13) ]
		].
	"
	
	self isEmpty ifTrue: [ ^self ].
	
	^ self collect: [:aChar | 
		aChar asRot13
		].! !
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:41:43' prior: 50908911!
asRot13

	self asLowercase < $n 
		ifTrue: [Character asciiValue: (self asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (self asciiValue - 13) ]! !

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:41:50'!
FAILURE!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:42:09'!
FAILURE!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:43:00'!
FAILURE!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 18:43:36'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:43:37'!
FAILURE!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:43:37'!
FAILURE!
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:44:26' prior: 50908931!
asRot13

	^self asLowercase < $n 
		ifTrue: [Character asciiValue: (self asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (self asciiValue - 13) ]! !

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:44:29'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:44:31'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 18:44:31'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:44:31'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 18:44:31'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 18:44:31'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 18:44:31'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:44:31'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:44:31'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 18:47:10'!
test08

	self assert: 'U&%N' equals: 'H&%A' asRot13.! !
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:49:08' prior: 50908952!
asRot13

	(self asLowercase > $z or: self asLowercase < $a) ifTrue: [ ^self ].
	^self asLowercase < $n 
		ifTrue: [Character asciiValue: (self asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (self asciiValue - 13) ]! !

!testRun: #Rot13Test #test08 stamp: 'GR 10/22/2020 18:49:11'!
PASSED!

!testRun: #Rot13Test #test08 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!

!testRun: #Rot13Test #test08 stamp: 'GR 10/22/2020 18:49:14'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 18:52:51'!
test09

	self assert: 'ñ' equals: 'ñ' asRot13.! !

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 18:56:34'!
FAILURE!
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:57:03' prior: 50908985!
asRot13

	(self asLowercase asciiValue > $z or: self asLowercase asciiValue  < $a) ifTrue: [ ^self ].
	^self asLowercase < $n 
		ifTrue: [Character asciiValue: (self asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (self asciiValue - 13) ]! !

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 18:57:04'!
ERROR!
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:57:40' prior: 50909024!
asRot13

	(self asLowercase asciiValue > $z asciiValue or: self asLowercase asciiValue  < $a asciiValue) ifTrue: [ ^self ].
	^self asLowercase < $n 
		ifTrue: [Character asciiValue: (self asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (self asciiValue - 13) ]! !

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test08 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 18:57:42'!
PASSED!
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:58:22' prior: 50909037!
asRot13

	| selfAsLowerCaseAsciiValue |
	selfAsLowerCaseAsciiValue := self asLowercase asciiValue.
	(selfAsLowerCaseAsciiValue > $z asciiValue or: self asLowercase asciiValue  < $a asciiValue) ifTrue: [ ^self ].
	^self asLowercase < $n 
		ifTrue: [Character asciiValue: (self asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (self asciiValue - 13) ]! !
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 18:58:36' prior: 50909071!
asRot13

	| selfAsLowerCaseAsciiValue |
	
	selfAsLowerCaseAsciiValue := self asLowercase asciiValue.
	
	(selfAsLowerCaseAsciiValue > $z asciiValue or: selfAsLowerCaseAsciiValue  < $a asciiValue) ifTrue: [ ^self ].
	^self asLowercase < $n 
		ifTrue: [Character asciiValue: (self asciiValue + 13) ]
		ifFalse: [ Character asciiValue: (self asciiValue - 13) ]! !

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test08 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 18:58:41'!
PASSED!
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 19:00:29' prior: 50909085!
asRot13

	| selfAsLowerCaseAsciiValue |
	
	selfAsLowerCaseAsciiValue := self asLowercase asciiValue.
	
	(selfAsLowerCaseAsciiValue > $z asciiValue or: selfAsLowerCaseAsciiValue  < $a asciiValue) ifTrue: [ ^self ].
	^self asLowercase < $n 
		ifTrue: [self class asciiValue: (self asciiValue + 13) ]
		ifFalse: [ self class asciiValue: (self asciiValue - 13) ]! !
!Character methodsFor: '*Rot13' stamp: 'GR 10/22/2020 19:03:47' prior: 50909121!
asRot13

	| selfAsLowerCaseAsciiValue |
	
	selfAsLowerCaseAsciiValue := self asLowercase asciiValue.
	
	(selfAsLowerCaseAsciiValue > `$z asciiValue` or: selfAsLowerCaseAsciiValue  < `$a asciiValue`) ifTrue: [ ^self ].
	^self class asciiValue: (self asciiValue + ( selfAsLowerCaseAsciiValue  < `$n asciiValue`
		ifTrue: [ 13 ]
		ifFalse: [ -13 ])).! !

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 19:03:50'!
PASSED!

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test01 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test02 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test03 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test04 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test05 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test06 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test08 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!

!testRun: #Rot13Test #test09 stamp: 'GR 10/22/2020 19:03:51'!
PASSED!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:04:53'!
test01EmptyStringIsNotConverted

	self assert: ''  equals: '' asRot13. ! !

!methodRemoval: Rot13Test #test01 stamp: 'GR 10/22/2020 19:04:53'!
test01

	self assert: ''  equals: '' asRot13. !
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:05:34'!
test02CharsInFirstHalfAreConvertedCorrectly

	self assert: 'n'  equals: 'a' asRot13. ! !

!methodRemoval: Rot13Test #test02 stamp: 'GR 10/22/2020 19:05:34'!
test02

	self assert: 'n'  equals: 'a' asRot13. !

!methodRemoval: Rot13Test #test03 stamp: 'GR 10/22/2020 19:05:41'!
test03

	self assert: 'u' equals: 'h' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:06:06'!
test03CharsInSecondHalfAreConvertedCorrectly

	self assert: 'a' equals: 'n' asRot13.! !

!methodRemoval: Rot13Test #test04 stamp: 'GR 10/22/2020 19:06:06'!
test04

	self assert: 'a' equals: 'n' asRot13.!

!methodRemoval: Rot13Test #test05 stamp: 'GR 10/22/2020 19:06:19'!
test05

	self assert: 'h' equals: 'u' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:08:15'!
test06WordsGetConvertedCorrectly

	self assert: 'ubyn' equals: 'hola' asRot13.! !

!methodRemoval: Rot13Test #test06 stamp: 'GR 10/22/2020 19:08:15'!
test06

	self assert: 'ubyn' equals: 'hola' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:08:53'!
test07UppercaseCharsWordAreConvertedCorrectly

	self assert: 'UBYN' equals: 'HOLA' asRot13.! !

!methodRemoval: Rot13Test #test07 stamp: 'GR 10/22/2020 19:08:53'!
test07

	self assert: 'UBYN' equals: 'HOLA' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:12:34'!
test08NotEnglishCharsAreNotConverted

	self assert: 'U&%N' equals: 'H&%A' asRot13.! !

!methodRemoval: Rot13Test #test08 stamp: 'GR 10/22/2020 19:12:34'!
test08

	self assert: 'U&%N' equals: 'H&%A' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:12:41'!
test04WordsGetConvertedCorrectly

	self assert: 'ubyn' equals: 'hola' asRot13.! !

!methodRemoval: Rot13Test #test06WordsGetConvertedCorrectly stamp: 'GR 10/22/2020 19:12:41'!
test06WordsGetConvertedCorrectly

	self assert: 'ubyn' equals: 'hola' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:12:47'!
test05UppercaseCharsWordAreConvertedCorrectly

	self assert: 'UBYN' equals: 'HOLA' asRot13.! !

!methodRemoval: Rot13Test #test07UppercaseCharsWordAreConvertedCorrectly stamp: 'GR 10/22/2020 19:12:47'!
test07UppercaseCharsWordAreConvertedCorrectly

	self assert: 'UBYN' equals: 'HOLA' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:12:53'!
test06NotEnglishCharsAreNotConverted

	self assert: 'U&%N' equals: 'H&%A' asRot13.! !

!methodRemoval: Rot13Test #test08NotEnglishCharsAreNotConverted stamp: 'GR 10/22/2020 19:12:53'!
test08NotEnglishCharsAreNotConverted

	self assert: 'U&%N' equals: 'H&%A' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:12:57'!
test07

	self assert: 'ñ' equals: 'ñ' asRot13.! !

!methodRemoval: Rot13Test #test09 stamp: 'GR 10/22/2020 19:12:57'!
test09

	self assert: 'ñ' equals: 'ñ' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:13:24' prior: 50909182!
test02CharsInFirstHalfAreConvertedCorrectly

	self assert: 'n'  equals: 'a' asRot13.
	self assert: 'z'  equals: 'm' asRot13. ! !

!testRun: #Rot13Test #test02CharsInFirstHalfAreConvertedCorrectly stamp: 'GR 10/22/2020 19:13:28'!
PASSED!

!testRun: #Rot13Test #test01EmptyStringIsNotConverted stamp: 'GR 10/22/2020 19:13:28'!
PASSED!

!testRun: #Rot13Test #test02CharsInFirstHalfAreConvertedCorrectly stamp: 'GR 10/22/2020 19:13:28'!
PASSED!

!testRun: #Rot13Test #test03CharsInSecondHalfAreConvertedCorrectly stamp: 'GR 10/22/2020 19:13:28'!
PASSED!

!testRun: #Rot13Test #test04WordsGetConvertedCorrectly stamp: 'GR 10/22/2020 19:13:28'!
PASSED!

!testRun: #Rot13Test #test05UppercaseCharsWordAreConvertedCorrectly stamp: 'GR 10/22/2020 19:13:28'!
PASSED!

!testRun: #Rot13Test #test06NotEnglishCharsAreNotConverted stamp: 'GR 10/22/2020 19:13:28'!
PASSED!

!testRun: #Rot13Test #test07 stamp: 'GR 10/22/2020 19:13:28'!
PASSED!

!methodRemoval: Rot13Test #test07 stamp: 'GR 10/22/2020 19:16:34'!
test07

	self assert: 'ñ' equals: 'ñ' asRot13.!
!Rot13Test methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 19:16:43'!
test06NonEnglishCharsAreNotConverted

	self assert: 'U&%N' equals: 'H&%A' asRot13.! !

!methodRemoval: Rot13Test #test06NotEnglishCharsAreNotConverted stamp: 'GR 10/22/2020 19:16:43'!
test06NotEnglishCharsAreNotConverted

	self assert: 'U&%N' equals: 'H&%A' asRot13.!

TestCase subclass: #GameOfLifeTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!classDefinition: #GameOfLifeTest category: 'GameOfLife' stamp: 'GR 10/22/2020 20:00:15'!
TestCase subclass: #GameOfLifeTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:12:31'!
Object subclass: #GameOfLife
	instanceVariableNames: 'board'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!
!GameOfLifeTest methodsFor: 'nil' stamp: 'GR 10/22/2020 20:12:04'!
test01

	| emptyGameOfLife emptyGameOfLifeRow|
	
	emptyGameOfLife := OrderedCollection new.
	emptyGameOfLifeRow := OrderedCollection new.
	10 timesRepeat: (emptyGameOfLifeRow add: 0).
	10 timesRepeat: (emptyGameOfLife add: emptyGameOfLifeRow ). 
	
	self assert: emptyGameOfLife equals: GameOfLife new board! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:12:49'!
ERROR!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:13:10'!
ERROR!
!GameOfLife methodsFor: 'accessing' stamp: 'GR 10/22/2020 20:13:31'!
board
	self shouldBeImplemented.
	^board! !
!GameOfLife methodsFor: 'accessing' stamp: 'GR 10/22/2020 20:13:36' prior: 50909361!
board
	^board! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:13:41'!
FAILURE!
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 20:21:58' prior: 50909344!
test01

	| emptyGameOfLife |
	
	emptyGameOfLife := GameOfLife new.
	
	self assert: 0 equals: emptyGameOfLife aliveCellsAmount.! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:22:06'!
ERROR!
!GameOfLife methodsFor: 'accessing' stamp: 'GR 10/22/2020 20:22:22'!
aliveCellsAmount
	self shouldBeImplemented.! !
!GameOfLife methodsFor: 'accessing' stamp: 'GR 10/22/2020 20:22:35' prior: 50909382!
aliveCellsAmount
	
	^0! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:22:37'!
PASSED!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:22:37'!
PASSED!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:22:41'!
PASSED!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:22:41'!
PASSED!

Point!

2@3!

2@3 x !

2@3 negated !
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 20:27:58'!
test02

	| gameOfLife |
	
	gameOfLife := GameOfLife new.
	
	gameOfLife addCellIn: (Point x: 0 y: 0).
	
	self assert: 1 equals: gameOfLife aliveCellsAmount.
	
	! !

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 20:28:14'!
ERROR!
!GameOfLife methodsFor: 'adding' stamp: 'GR 10/22/2020 20:28:25'!
addCellIn: aPoint 
	self shouldBeImplemented.! !
!GameOfLife methodsFor: 'adding' stamp: 'GR 10/22/2020 20:32:04' prior: 50909412!
addCellIn: aPoint 
	
	(board at: aPoint x) at: aPoint y put: 1! !

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 20:32:15'!
ERROR!
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 20:38:14' prior: 50909373!
test01

	| gameOfLife |
	
	gameOfLife := GameOfLife withAliveCells: {1@1} ofSize: 3@3.
	gameOfLife calculateNextGeneration.
	
	self deny: (gameOfLife isAlive: 1@1).! !
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 20:39:13' prior: 50909425!
test01

	| gameOfLife |
	
	gameOfLife := GameOfLife withAliveCells: {1@1} ofSize: 3@3.
	gameOfLife calculateNextGeneration.
	
	self assert: (gameOfLife isDead: 1@1).! !
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 20:40:02' prior: 50909402!
test02

	| gameOfLife |
	
	gameOfLife := GameOfLife withAliveCells: {1@1, 1@2, 2@1} ofSize: 3@3.
	gameOfLife calculateNextGeneration.
	
	self assert: (gameOfLife isDead: 1@1).
	! !

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 20:40:17'!
ERROR!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:40:25'!
ERROR!
!GameOfLife class methodsFor: 'instance creation' stamp: 'GR 10/22/2020 20:40:42'!
withAliveCells: anArray ofSize: aPoint 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithAliveCells: anArray ofSize: aPoint ! !
!GameOfLife class methodsFor: 'instance creation' stamp: 'GR 10/22/2020 20:41:07' prior: 50909456!
withAliveCells: anArray ofSize: aPoint 
	
	^self new initializeWithAliveCells: anArray ofSize: aPoint ! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:41:20'!
ERROR!

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:41:34'!
Object subclass: #GameOfLife
	instanceVariableNames: 'board array'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:41:34'!
Object subclass: #GameOfLife
	instanceVariableNames: 'board array point'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!
!GameOfLife methodsFor: 'initialization' stamp: 'GR 10/22/2020 20:41:34'!
initializeWithAliveCells: anArray ofSize: aPoint 
	self shouldBeImplemented.
	array := anArray.
	point := aPoint.! !
!GameOfLife class methodsFor: 'instance creation' stamp: 'GR 10/22/2020 20:48:01' prior: 50909466!
withAliveCells: anArray ofSize: aMatrixSize 
	
	^self new initializeWithAliveCells: anArray ofSize: aMatrixSize ! !
!GameOfLife class methodsFor: 'instance creation' stamp: 'GR 10/22/2020 20:48:14' prior: 50909496!
withAliveCells: anArray ofSize: aBoardSize 
	
	^self new initializeWithAliveCells: anArray ofSize: aBoardSize ! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:48:33'!
ERROR!
!GameOfLife methodsFor: 'initialization' stamp: 'GR 10/22/2020 20:48:56' prior: 50909489!
initializeWithAliveCells: anArray ofSize: aBoardSize 
	
	array := anArray.
	point := aBoardSize.! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:49:02'!
ERROR!
!GameOfLife methodsFor: 'execute' stamp: 'GR 10/22/2020 20:49:22'!
calculateNextGeneration
	self shouldBeImplemented.! !

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:51:34'!
Object subclass: #GameOfLife
	instanceVariableNames: 'board array point aliveCells'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!
!GameOfLife methodsFor: 'initialization' stamp: 'GR 10/22/2020 20:51:30' prior: 50909512!
initializeWithAliveCells: anArray ofSize: aBoardSize 
	
	aliveCells := anArray.
	point := aBoardSize.! !

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:51:45'!
Object subclass: #GameOfLife
	instanceVariableNames: 'board array point aliveCells size'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!
!GameOfLife methodsFor: 'initialization' stamp: 'GR 10/22/2020 20:51:44' prior: 50909533!
initializeWithAliveCells: anArray ofSize: aBoardSize 
	
	aliveCells := anArray.
	size := aBoardSize.! !

Object subclass: #GameOfLife
	instanceVariableNames: 'board size'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:51:54'!
Object subclass: #GameOfLife
	instanceVariableNames: 'board size'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

Object subclass: #GameOfLife
	instanceVariableNames: 'board'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:53:55'!
Object subclass: #GameOfLife
	instanceVariableNames: 'board'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!methodRemoval: GameOfLife #board stamp: 'GR 10/22/2020 20:54:08'!
board
	^board!

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:54:28'!
Object subclass: #GameOfLife
	instanceVariableNames: 'board aliveCells'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!
!GameOfLife methodsFor: 'initialization' stamp: 'GR 10/22/2020 20:54:27' prior: 50909547!
initializeWithAliveCells: anArray ofSize: aBoardSize 
	
	aliveCells := anArray.! !

Object subclass: #GameOfLife
	instanceVariableNames: 'aliveCells'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 20:54:35'!
Object subclass: #GameOfLife
	instanceVariableNames: 'aliveCells'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!methodRemoval: GameOfLife #calculateNextGeneration stamp: 'GR 10/22/2020 20:54:46'!
calculateNextGeneration
	self shouldBeImplemented.!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 20:54:58'!
ERROR!
!GameOfLife methodsFor: 'execute' stamp: 'GR 10/22/2020 20:55:09'!
calculateNextGeneration
	self shouldBeImplemented.! !

1@2 eightNeighbors !

(1@2) eightNeighbors !
!GameOfLife methodsFor: 'execute' stamp: 'GR 10/22/2020 21:01:16' prior: 50909609!
calculateNextGeneration
	
	aliveCells remove: (1@1).! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:01:18'!
ERROR!
!GameOfLife methodsFor: 'initialization' stamp: 'GR 10/22/2020 21:01:58' prior: 50909586!
initializeWithAliveCells: anOrderedCollection ofSize: aBoardSize 
	
	aliveCells := anOrderedCollection.! !
!GameOfLife class methodsFor: 'instance creation' stamp: 'GR 10/22/2020 21:02:05' prior: 50909503!
withAliveCells: anOrderedCollection ofSize: aBoardSize 
	
	^self new initializeWithAliveCells: anOrderedCollection ofSize: aBoardSize ! !
!GameOfLife methodsFor: 'initialization' stamp: 'GR 10/22/2020 21:02:57' prior: 50909622!
initializeWithAliveCells: anArray ofSize: aBoardSize 
	
	aliveCells := anArray asOrderedCollection.! !
!GameOfLife class methodsFor: 'instance creation' stamp: 'GR 10/22/2020 21:03:02' prior: 50909629!
withAliveCells: anArray ofSize: aBoardSize 
	
	^self new initializeWithAliveCells: anArray ofSize: aBoardSize ! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:03:11'!
ERROR!
!GameOfLife methodsFor: 'testing' stamp: 'GR 10/22/2020 21:03:19'!
isDead: aPoint 
	self shouldBeImplemented.! !
!GameOfLife methodsFor: 'testing' stamp: 'GR 10/22/2020 21:03:54' prior: 50909652!
isDead: aPoint 

	^(self isAlive: aPoint) not! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:03:56'!
ERROR!
!GameOfLife methodsFor: 'testing' stamp: 'GR 10/22/2020 21:04:12'!
isAlive: aPoint 
	self shouldBeImplemented.! !
!GameOfLife methodsFor: 'testing' stamp: 'GR 10/22/2020 21:04:39' prior: 50909663!
isAlive: aPoint 
	
	aliveCells includes: aPoint! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:04:40'!
ERROR!
!GameOfLife methodsFor: 'testing' stamp: 'GR 10/22/2020 21:05:02' prior: 50909668!
isAlive: aPoint 
	
	^aliveCells includes: aPoint! !

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:05:04'!
PASSED!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:05:04'!
PASSED!

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:05:04'!
ERROR!

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:05:04'!
ERROR!
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 21:05:26' prior: 50909443!
test02

	| gameOfLife |
	
	gameOfLife := GameOfLife withAliveCells: {1@1. 1@2. 2@1} ofSize: 3@3.
	gameOfLife calculateNextGeneration.
	
	self assert: (gameOfLife isDead: 1@1).
	! !

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:05:27'!
PASSED!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:05:27'!
PASSED!

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:05:27'!
PASSED!
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 21:06:07' prior: 50909690!
test02

	| gameOfLife |
	
	gameOfLife := GameOfLife withAliveCells: {1@1. 1@2. 2@1} ofSize: 3@3.
	gameOfLife calculateNextGeneration.
	
	self assert: (gameOfLife isAlive: 1@1).
	! !

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:06:47'!
FAILURE!
!GameOfLife methodsFor: 'execute' stamp: 'GR 10/22/2020 21:17:48' prior: 50909615!
calculateNextGeneration
	
	| cellVecinity |
	
	cellVecinity := (1@1) eightNeighbors.
	
	cellVecinity select: [:aCell | aliveCells includes: aCell].
	
	(cellVecinity size >= 2 and: cellVecinity size <= 3) ifFalse: [ aliveCells remove: (1@1) ].! !

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:17:52'!
FAILURE!
!GameOfLife methodsFor: 'execute' stamp: 'GR 10/22/2020 21:21:25' prior: 50909717!
calculateNextGeneration
	
	| cellVecinity aliveCellVecinity |
	
	cellVecinity := (1@1) eightNeighbors.
	
	aliveCellVecinity := cellVecinity select: [:aCell | aliveCells includes: aCell].
	
	(aliveCellVecinity size >= 2 and: aliveCellVecinity size <= 3) ifFalse: [ aliveCells remove: (1@1) ].! !

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:21:29'!
PASSED!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:21:29'!
PASSED!

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:21:29'!
PASSED!
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 21:23:13'!
test03

	| gameOfLife |
	
	gameOfLife := GameOfLife withAliveCells: {0@0. 0@1. 1@1. 1@2. 2@1} ofSize: 3@3.
	gameOfLife calculateNextGeneration.
	
	self assert: (gameOfLife isDead: 1@1).
	! !

!testRun: #GameOfLifeTest #test03 stamp: 'GR 10/22/2020 21:23:15'!
PASSED!

!testRun: #GameOfLifeTest #test01 stamp: 'GR 10/22/2020 21:23:15'!
PASSED!

!testRun: #GameOfLifeTest #test02 stamp: 'GR 10/22/2020 21:23:15'!
PASSED!

!testRun: #GameOfLifeTest #test03 stamp: 'GR 10/22/2020 21:23:15'!
PASSED!

Object subclass: #GameOfLife
	instanceVariableNames: 'aliveCells size'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!

!classDefinition: #GameOfLife category: 'GameOfLife' stamp: 'GR 10/22/2020 21:27:13'!
Object subclass: #GameOfLife
	instanceVariableNames: 'aliveCells size'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'GameOfLife'!
!GameOfLife methodsFor: 'initialization' stamp: 'GR 10/22/2020 21:28:05' prior: 50909637!
initializeWithAliveCells: anArray ofSize: aBoardSize 
	
	aliveCells := anArray asOrderedCollection.
	size := aBoardSize.! !
!GameOfLifeTest methodsFor: 'as yet unclassified' stamp: 'GR 10/22/2020 21:31:42'!
test04

	| gameOfLife |
	
	gameOfLife := GameOfLife withAliveCells: {0@0. 0@1. 1@2. 2@1} ofSize: 3@3.
	gameOfLife calculateNextGeneration.
	
	self assert: (gameOfLife isAlive: 1@1).
	! !

!testRun: #GameOfLifeTest #test04 stamp: 'GR 10/22/2020 21:31:47'!
ERROR!
!GameOfLife methodsFor: 'execute' stamp: 'GR 10/22/2020 21:36:57' prior: 50909730!
calculateNextGeneration
	
	| cellVecinity aliveCellVecinity |
	
	cellVecinity := (1@1) eightNeighbors.
	
	aliveCellVecinity := cellVecinity select: [:aCell | aliveCells includes: aCell].
	
	((self isAlive: (1@1)) and: aliveCellVecinity size >= 2 and: aliveCellVecinity size <= 3) ifFalse: [ aliveCells remove: (1@1) ].
	((self isDead: (1@1)) and: aliveCellVecinity size = 3) ifTrue: [aliveCells add: (1@1)]! !

!testRun: #GameOfLifeTest #test04 stamp: 'GR 10/22/2020 21:37:00'!
ERROR!

----QUIT----(22 October 2020 21:46:30) CuisUniversity-4383.image priorSource: 18456941!

----STARTUP---- (24 October 2020 16:06:54) as /home/grosinov/linux64/CuisUniversity-4383.image!


TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #MarsRoverTest category: 'MarsRover' stamp: 'GR 10/24/2020 16:09:35'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #MarsRover category: 'MarsRover' stamp: 'GR 10/24/2020 16:20:39'!
Object subclass: #MarsRover
	instanceVariableNames: 'position direction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRoverTest methodsFor: 'nil' stamp: 'GR 10/24/2020 16:20:24'!
test01

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover giveComand: $f.
	
	self assert: (1@0) equals: MarsRover position.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:20:44'!
ERROR!
!MarsRover class methodsFor: 'instance creation' stamp: 'GR 10/24/2020 16:21:04'!
newInPosition: aPoint andDirection: aCharacter 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeNewInPosition: aPoint andDirection: aCharacter ! !
!MarsRover class methodsFor: 'instance creation' stamp: 'GR 10/24/2020 16:21:33' prior: 50909849!
newInPosition: aCardinalPoint andDirection: aDirection
	
	^self new initializeNewInPosition: aCardinalPoint andDirection: aDirection ! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:21:35'!
ERROR!

!classDefinition: #MarsRover category: 'MarsRover' stamp: 'GR 10/24/2020 16:21:59'!
Object subclass: #MarsRover
	instanceVariableNames: 'position direction cardinalPoint'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRover methodsFor: 'initialization' stamp: 'GR 10/24/2020 16:21:59'!
initializeNewInPosition: aCardinalPoint andDirection: aDirection 
	self shouldBeImplemented.
	cardinalPoint := aCardinalPoint.
	direction := aDirection.! !
!MarsRover methodsFor: 'initialization' stamp: 'GR 10/24/2020 16:22:04' prior: 50909876!
initializeNewInPosition: aCardinalPoint andDirection: aDirection 
	
	cardinalPoint := aCardinalPoint.
	direction := aDirection.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:22:07'!
ERROR!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:23:14'!
giveComand: aCharacter 
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:23:38' prior: 50909893!
giveComand: aCommand

	 
	
	! !

position y !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:25:35' prior: 50909839!
test01

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'f'.
	
	self assert: (1@0) equals: MarsRover position.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:25:47'!
ERROR!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:25:56'!
sendCommand: aString 
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:27:50' prior: 50909913!
sendCommand: aCommandSet

	position - (0@1)! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:28:00'!
ERROR!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:29:04' prior: 50909903!
test01

	| rover |
	
	rover := MarsRover newInPosition: 1@1 andDirection: $N.
	
	rover sendCommand: 'f'.
	
	self assert: (1@0) equals: MarsRover position.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:29:14' prior: 50909925!
test01

	| rover |
	
	rover := MarsRover newInPosition: 1@1 andDirection: $N.
	
	rover sendCommand: 'f'.
	
	self assert: (1@0) equals: MarsRover position.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:29:27'!
ERROR!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:29:36' prior: 50909918!
sendCommand: aCommandSet

	position - 0@1! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:29:38'!
ERROR!
!MarsRover methodsFor: 'initialization' stamp: 'GR 10/24/2020 16:30:32' prior: 50909884!
initializeNewInPosition: aCoordinate andDirection: aDirection 
	
	cardinalPoint := aCoordinate.
	direction := aDirection.! !

Object subclass: #MarsRover
	instanceVariableNames: 'position direction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #MarsRover category: 'MarsRover' stamp: 'GR 10/24/2020 16:30:48'!
Object subclass: #MarsRover
	instanceVariableNames: 'position direction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRover methodsFor: 'initialization' stamp: 'GR 10/24/2020 16:30:59' prior: 50909950!
initializeNewInPosition: aCoordinate andDirection: aDirection 
	
	position := aCoordinate.
	direction := aDirection.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:31:03'!
ERROR!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:31:14' prior: 50909943!
sendCommand: aCommandSet

	position - (0@1)! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:31:19'!
ERROR!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:31:31' prior: 50909933!
test01

	| rover |
	
	rover := MarsRover newInPosition: 1@1 andDirection: $N.
	
	rover sendCommand: 'f'.
	
	self assert: (1@0) equals: rover position.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:31:36'!
ERROR!
!MarsRover methodsFor: 'accessing' stamp: 'GR 10/24/2020 16:31:44'!
position
	self shouldBeImplemented.
	^position! !
!MarsRover methodsFor: 'accessing' stamp: 'GR 10/24/2020 16:31:47' prior: 50909995!
position
	
	^position! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:31:51'!
FAILURE!

MarsRover!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:32:49' prior: 50909985!
test01

	| rover |
	
	rover := MarsRover newInPosition: 1@1 andDirection: $N.
	
	rover sendCommand: 'f'.
	
	self assert: (1@0) equals: rover position.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:33:12'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:33:32' prior: 50910007!
test01

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'f'.
	
	self assert: (1@0) equals: rover position.! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:34:20' prior: 50909978!
sendCommand: aCommandSet

	position y - 1! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:34:34'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:35:14' prior: 50910026!
sendCommand: aCommandSet

	position y + 1! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:35:20'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:35:57' prior: 50910018!
test01

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'f'.
	
	self assert: (1@2) equals: rover position.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:36:06'!
FAILURE!

(0@0) - (0@1)!

(0@0) y - 1!

(0@0) y - 1 !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:37:26' prior: 50910033!
sendCommand: aCommandSet

	(position) + (0@1)! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:37:27'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:38:26' prior: 50910052!
sendCommand: aCommandSet

	position := position + (0@1)! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:38:29'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:38:32'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:38:32'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:38:44'!
test02

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'b'.
	
	self assert: (1@0) equals: rover position.! !

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:38:45'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:39:53' prior: 50910059!
sendCommand: aCommandSet

	position := position + 
		aCommandSet = 'f' ifTrue: [ (0@1) ] ifFalse: [ (0@-1) ]! !

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:39:55'!
ERROR!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:40:11' prior: 50910081!
sendCommand: aCommandSet

	position := position + 
		(aCommandSet = 'f' ifTrue: [ (0@1) ] ifFalse: [ (0@-1) ])! !

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:40:15'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:40:15'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:40:15'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:40:37' prior: 50910071!
test02

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'l'.
	
	self assert: $O equals: rover direction.! !

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:40:45'!
ERROR!
!MarsRover methodsFor: 'accessing' stamp: 'GR 10/24/2020 16:40:57'!
direction
	self shouldBeImplemented.
	^direction! !
!MarsRover methodsFor: 'accessing' stamp: 'GR 10/24/2020 16:40:59' prior: 50910114!
direction
	
	^direction! !

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:41:04'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:45:50' prior: 50910090!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := $O]
	ifFalse: [
		position := position + 
		(aCommandSet = 'f' ifTrue: [ (0@1) ] ifFalse: [ (0@-1) ]).
		]
	! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:45:54' prior: 50910125!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := $O]
	ifFalse: [
		position := position + 
		(aCommandSet = 'f' ifTrue: [ (0@1) ] ifFalse: [ (0@-1) ]).
		]! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:46:03' prior: 50910134!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) 
	ifTrue: [direction := $O]
	ifFalse: [
		position := position + 
		(aCommandSet = 'f' ifTrue: [ (0@1) ] ifFalse: [ (0@-1) ]).
		]! !

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:46:04'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:46:04'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:46:04'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:40:37' prior: 50910104!
test02

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'l'.
	
	self assert: $O equals: rover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:40:37' prior: 50910159!
test02

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'l'.
	
	self assert: $O equals: rover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:38:44' prior: 50910167!
test02

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'b'.
	
	self assert: (1@0) equals: rover position.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:47:26'!
test03

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'l'.
	
	self assert: $O equals: rover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:47:53'!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'r'.
	
	self assert: $E equals: rover direction.! !

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 16:47:56'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 16:48:00'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:50:57' prior: 50910143!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) 
	ifTrue: [direction := $O]
	ifFalse: [
		(aCommandSet = 'r' ) ifTrue: [ direction := $E ] 
			ifFalse: [ position := position + 
			(aCommandSet = 'f' ifTrue: [ (0@1) ] ifFalse: [ (0@-1) ]) 
			].
		]! !

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 16:51:01'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:51:01'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:51:01'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 16:51:01'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 16:51:01'!
PASSED!

!methodRemoval: MarsRover #giveComand: stamp: 'GR 10/24/2020 16:52:32'!
giveComand: aCommand

	 
	
	!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 16:55:03' prior: 50910204!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := $O].
	(aCommandSet = 'r' ) ifTrue: [direction := $E].
	(aCommandSet = 'f' ) ifTrue: [position := position + (0@1)].
	(aCommandSet = 'b' ) ifTrue: [position := position - (0@1)].! !

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 16:55:11'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:55:11'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:55:11'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 16:55:11'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 16:55:11'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:57:10' prior: 50910191!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $E.
	
	rover sendCommand: 'r'.
	
	self assert: $S equals: rover direction.! !

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 16:57:13'!
FAILURE!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:57:20'!
test05

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $E.
	
	rover sendCommand: 'r'.
	
	self assert: $S equals: rover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:57:10' prior: 50910253!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $E.
	
	rover sendCommand: 'r'.
	
	self assert: $S equals: rover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 16:47:53' prior: 50910271!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $N.
	
	rover sendCommand: 'r'.
	
	self assert: $E equals: rover direction.! !

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 16:57:40'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 16:57:40'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 16:57:40'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 16:57:40'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 16:57:40'!
PASSED!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 16:57:40'!
FAILURE!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 16:57:40'!
FAILURE!

!classDefinition: #MarsRover category: 'MarsRover' stamp: 'GR 10/24/2020 16:59:03'!
Object subclass: #MarsRover
	instanceVariableNames: 'position direction cardinalPoints'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRover methodsFor: 'initialization' stamp: 'GR 10/24/2020 16:59:00' prior: 50909969!
initializeNewInPosition: aCoordinate andDirection: aDirection 
	
	position := aCoordinate.
	direction := aDirection.
	cardinalPoints := #($N $E $S $O)! !

-1 \\ 4!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 17:05:50' prior: 50910230!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := cardinalPoints at: (((cardinalPoints indexOf: direction) - 1) \\ 4)].
	(aCommandSet = 'r' ) ifTrue: [direction := cardinalPoints at: (((cardinalPoints indexOf: direction) + 1) \\ 4)].	
	(aCommandSet = 'f' ) ifTrue: [position := position + (0@1)].
	(aCommandSet = 'b' ) ifTrue: [position := position - (0@1)].! !

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:05:51'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:05:52'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:05:52'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:05:52'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:05:52'!
ERROR!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:05:52'!
PASSED!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:05:52'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:05:52'!
ERROR!

((cardinalPoints indexOf: direction) - 1) \\ 4!

#(1 2 3) at: 0!

#(1 2 3) at: 1!

hola := OrderedCollection with: 0!

hola at: 0!

hola at: 0!

hola at: 1!

{ 0. 1. } at: 0!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 17:11:45' prior: 50910319!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) - 1) \\ 5) + 1)].
	(aCommandSet = 'r' ) ifTrue: [direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) + 1) \\ 5) + 1)].	
	(aCommandSet = 'f' ) ifTrue: [position := position + (0@1)].
	(aCommandSet = 'b' ) ifTrue: [position := position - (0@1)].! !

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:11:48'!
FAILURE!
!MarsRover methodsFor: 'initialization' stamp: 'GR 10/24/2020 17:12:47' prior: 50910311!
initializeNewInPosition: aCoordinate andDirection: aDirection 
	
	position := aCoordinate.
	direction := aDirection.
	cardinalPoints := OrderedCollection with: $N with: $E with: $S with: $O.! !

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:13:26'!
FAILURE!

cardinalPoints indexOf: direction!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 17:16:10' prior: 50910358!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) - 2) \\ 4) + 1)].
	(aCommandSet = 'r' ) ifTrue: [direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) + 1) \\ 5) + 1)].	
	(aCommandSet = 'f' ) ifTrue: [position := position + (0@1)].
	(aCommandSet = 'b' ) ifTrue: [position := position - (0@1)].! !

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:16:12'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 17:17:25' prior: 50910389!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) - 2) \\ 4) + 1)].
	(aCommandSet = 'r' ) ifTrue: [direction := cardinalPoints at: (((cardinalPoints indexOf: direction) + 1) \\ 4)].	
	(aCommandSet = 'f' ) ifTrue: [position := position + (0@1)].
	(aCommandSet = 'b' ) ifTrue: [position := position - (0@1)].! !

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:17:27'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:17:27'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:17:27'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:17:27'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:17:27'!
PASSED!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:17:27'!
PASSED!
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 17:22:52' prior: 50910263!
test05

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $E.
	
	rover sendCommand: 'f'.
	
	self assert: (2@1) equals: rover position.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 17:23:03'!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $E.
	
	rover sendCommand: 'b'.
	
	self assert: (0@1) equals: rover position.! !

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 17:23:48'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 17:28:25' prior: 50910407!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) - 2) \\ 4) + 1)].
	
	(aCommandSet = 'r' ) ifTrue: [direction := cardinalPoints at: (((cardinalPoints indexOf: direction) + 1) \\ 4)].	
	
	(aCommandSet = 'f' ) ifTrue: [
		(direction = $N) ifTrue: [ position := position + (0@1) ].
		(direction = $E) ifTrue: [ position := position + (1@0) ].
		(direction = $S) ifTrue: [ position := position - (0@1) ].
		(direction = $O)	 ifTrue: [ position := position - (1@0) ].
		].
	
	(aCommandSet = 'b' ) ifTrue: [position := position - (0@1)].! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 17:28:59' prior: 50910455!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) - 2) \\ 4) + 1)].
	
	(aCommandSet = 'r' ) ifTrue: [direction := cardinalPoints at: (((cardinalPoints indexOf: direction) + 1) \\ 4)].	
	
	(aCommandSet = 'f' ) ifTrue: [
		(direction = $N) ifTrue: [ position := position + (0@1) ].
		(direction = $E) ifTrue: [ position := position + (1@0) ].
		(direction = $S) ifTrue: [ position := position - (0@1) ].
		(direction = $O)	 ifTrue: [ position := position - (1@0) ].
		].
	
	(aCommandSet = 'b' ) ifTrue: [
		(direction = $N) ifTrue: [ position := position - (0@1) ].
		(direction = $E) ifTrue: [ position := position - (1@0) ].
		(direction = $S) ifTrue: [ position := position + (0@1) ].
		(direction = $O)	 ifTrue: [ position := position + (1@0) ].
		].! !

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 17:29:03'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:29:03'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:29:03'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:29:03'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:29:03'!
PASSED!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:29:03'!
PASSED!

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 17:29:03'!
PASSED!

!methodRemoval: MarsRoverTest #test06 stamp: 'GR 10/24/2020 17:29:37'!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: $E.
	
	rover sendCommand: 'b'.
	
	self assert: (0@1) equals: rover position.!

!classDefinition: #North category: 'MarsRover' stamp: 'GR 10/24/2020 17:32:35'!
ProtoObject subclass: #North
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 17:32:19' prior: 50910040!
test01

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommand: 'f'.
	
	self assert: (1@2) equals: rover position.! !

!classDefinition: #Direction category: 'MarsRover' stamp: 'GR 10/24/2020 17:32:54'!
Object subclass: #Direction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

Direction subclass: #North
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #North category: 'MarsRover' stamp: 'GR 10/24/2020 17:32:54'!
Direction subclass: #North
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 17:37:57' prior: 50910477!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [ direction := direction leftCardinalPoint.
		"direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) - 2) \\ 4) + 1)"].
	
	(aCommandSet = 'r' ) ifTrue: [ direction := direction rightCardinalPoint.
		"direction := cardinalPoints at: (((cardinalPoints indexOf: direction) + 1) \\ 4)"].	
	
	(aCommandSet = 'f' ) ifTrue: [
		direction moveForward.
		"(direction = $N) ifTrue: [ position := position + (0@1) ].
		(direction = $E) ifTrue: [ position := position + (1@0) ].
		(direction = $S) ifTrue: [ position := position - (0@1) ].
		(direction = $O)	 ifTrue: [ position := position - (1@0) ]."
		].
	
	(aCommandSet = 'b' ) ifTrue: [
		direction moveBackward.
		"(direction = $N) ifTrue: [ position := position - (0@1) ].
		(direction = $E) ifTrue: [ position := position - (1@0) ].
		(direction = $S) ifTrue: [ position := position + (0@1) ].
		(direction = $O)	 ifTrue: [ position := position + (1@0) ]."
		].! !

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:38:25'!
ERROR!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 17:38:44' prior: 50910175!
test02

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommand: 'b'.
	
	self assert: (1@0) equals: rover position.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 17:38:47' prior: 50910183!
test03

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommand: 'l'.
	
	self assert: $O equals: rover direction.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 17:38:51' prior: 50910279!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommand: 'r'.
	
	self assert: $E equals: rover direction.! !

!classDefinition: #East category: 'MarsRover' stamp: 'GR 10/24/2020 17:39:11'!
Direction subclass: #East
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 17:39:00' prior: 50910437!
test05

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommand: 'f'.
	
	self assert: (2@1) equals: rover position.! !

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:39:23'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:39:55'!
ERROR!
!East methodsFor: 'actions' stamp: 'GR 10/24/2020 17:40:12'!
moveForward
	self shouldBeImplemented.! !

!classDefinition: #East category: 'MarsRover' stamp: 'GR 10/24/2020 17:41:03'!
Direction subclass: #East
	instanceVariableNames: 'rover'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!East methodsFor: 'actions' stamp: 'GR 10/24/2020 17:41:01' prior: 50910640!
moveForward
	
	rover moveForwardTowardsEast.! !

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:41:25'!
ERROR!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 17:45:14' prior: 50910561!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [ direction := direction leftCardinalPoint.
		"direction := cardinalPoints at: ((((cardinalPoints indexOf: direction) - 2) \\ 4) + 1)"].
	
	(aCommandSet = 'r' ) ifTrue: [ direction := direction rightCardinalPoint.
		"direction := cardinalPoints at: (((cardinalPoints indexOf: direction) + 1) \\ 4)"].	
	
	(aCommandSet = 'f' ) ifTrue: [
		direction moveForward: self.
		"(direction = $N) ifTrue: [ position := position + (0@1) ].
		(direction = $E) ifTrue: [ position := position + (1@0) ].
		(direction = $S) ifTrue: [ position := position - (0@1) ].
		(direction = $O)	 ifTrue: [ position := position - (1@0) ]."
		].
	
	(aCommandSet = 'b' ) ifTrue: [
		direction moveBackward: self.
		"(direction = $N) ifTrue: [ position := position - (0@1) ].
		(direction = $E) ifTrue: [ position := position - (1@0) ].
		(direction = $S) ifTrue: [ position := position + (0@1) ].
		(direction = $O)	 ifTrue: [ position := position + (1@0) ]."
		].! !
!Direction methodsFor: 'nil' stamp: 'GR 10/24/2020 17:45:42'!
moveForward: aMarsRover

	self subclassResponsibility.! !
!Direction methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 17:46:00'!
moveBackward: aMarsRover

	self subclassResponsibility.! !
!East methodsFor: 'actions' stamp: 'GR 10/24/2020 17:46:25' overrides: 50910692!
moveForward: moveForward
	
	rover moveForwardTowardsEast.! !

!methodRemoval: East #moveForward stamp: 'GR 10/24/2020 17:46:25'!
moveForward
	
	rover moveForwardTowardsEast.!
!East methodsFor: 'actions' stamp: 'GR 10/24/2020 17:46:43' prior: 50910702 overrides: 50910692!
moveForward: aMarsRover
	
	aMarsRover moveForwardTowardsEast.! !
!North methodsFor: 'nil' stamp: 'GR 10/24/2020 17:47:10' overrides: 50910692!
moveForward: aMarsRover
	
	aMarsRover moveForwardTowardsNorth.! !

Direction subclass: #South
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #South category: 'MarsRover' stamp: 'GR 10/24/2020 17:48:06'!
Direction subclass: #South
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

Direction subclass: #West
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #West category: 'MarsRover' stamp: 'GR 10/24/2020 17:48:10'!
Direction subclass: #West
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!South methodsFor: 'nil' stamp: 'GR 10/24/2020 17:48:35' overrides: 50910692!
moveForward: aMarsRover
	
	aMarsRover moveForwardTowardsSouth.! !
!West methodsFor: 'no messages' stamp: 'GR 10/24/2020 17:48:48' overrides: 50910692!
moveForward: aMarsRover
	
	aMarsRover moveForwardTowardsWest.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:04'!
ERROR!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:04'!
ERROR!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:07'!
ERROR!
!MarsRover methodsFor: 'private' stamp: 'GR 10/24/2020 17:49:21'!
moveForwardTowardsNorth
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'private' stamp: 'GR 10/24/2020 17:49:37' prior: 50910759!
moveForwardTowardsNorth
	
	position := position + (0@1).! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:41'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:41'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:49:41'!
ERROR!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:49:41'!
ERROR!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:49:41'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:49:41'!
ERROR!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:49'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:52'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:52'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:49:52'!
ERROR!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:49:52'!
ERROR!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:49:52'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:49:52'!
ERROR!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:56'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:56'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:49:56'!
ERROR!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:49:56'!
ERROR!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:49:56'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:49:56'!
ERROR!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:58'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:49:59'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:50:08'!
ERROR!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:50:22'!
ERROR!
!North methodsFor: 'actions' stamp: 'GR 10/24/2020 17:51:28' overrides: 50910697!
moveBackward: aMarsRover 
	self shouldBeImplemented.! !
!North methodsFor: 'actions' stamp: 'GR 10/24/2020 17:53:10' prior: 50910822 overrides: 50910697!
moveBackward: aMarsRover 
	
	aMarsRover moveForwardTowardsSouth.! !

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:53:11'!
ERROR!
!MarsRover methodsFor: 'private' stamp: 'GR 10/24/2020 17:53:29'!
moveForwardTowardsSouth
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'private' stamp: 'GR 10/24/2020 17:53:46' prior: 50910834!
moveForwardTowardsSouth
	
	position := position - (0@1)! !

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:53:48'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:53:48'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:53:48'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:53:48'!
ERROR!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:53:48'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:53:48'!
ERROR!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:53:54'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:53:54'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:53:54'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:53:54'!
ERROR!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:53:54'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:53:54'!
ERROR!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:53:56'!
ERROR!
!Direction methodsFor: 'converting' stamp: 'GR 10/24/2020 17:54:44'!
leftCardinalPoint
	self shouldBeImplemented.! !
!Direction methodsFor: 'converting' stamp: 'GR 10/24/2020 17:54:59' prior: 50910874!
leftCardinalPoint
	
	^West new.! !
!Direction methodsFor: 'converting' stamp: 'GR 10/24/2020 17:55:28' prior: 50910879!
leftCardinalPoint
	
	^West new.! !

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:56:27'!
FAILURE!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 17:56:51' prior: 50910605!
test03

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommand: 'l'.
	
	self assert: West equals: rover direction.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 17:56:57' prior: 50910613!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommand: 'r'.
	
	self assert: West equals: rover direction.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 17:57:08' prior: 50910898!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommand: 'r'.
	
	self assert: East equals: rover direction.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:57:14'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:57:14'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:57:14'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:57:14'!
FAILURE!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:57:14'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:57:14'!
ERROR!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:57:17'!
ERROR!
!Direction methodsFor: 'converting' stamp: 'GR 10/24/2020 17:57:29'!
rightCardinalPoint
	self shouldBeImplemented.! !
!Direction methodsFor: 'converting' stamp: 'GR 10/24/2020 17:57:37' prior: 50910930!
rightCardinalPoint
	
	self subclassResponsibility.! !

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:57:42'!
ERROR!
!North methodsFor: 'converting' stamp: 'GR 10/24/2020 17:57:50' overrides: 50910935!
rightCardinalPoint
	self shouldBeImplemented.! !
!North methodsFor: 'converting' stamp: 'GR 10/24/2020 17:57:59' prior: 50910942 overrides: 50910935!
rightCardinalPoint
	
	^East new.! !

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:58:05'!
FAILURE!
!LayoutMorph methodsFor: 'accessing' stamp: 'GR 10/24/2020 17:59:05' prior: 16863010!
direction
	^direction class! !

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:59:09'!
FAILURE!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:59:15'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 17:59:15'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 17:59:15'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:59:15'!
FAILURE!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 17:59:15'!
FAILURE!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:59:15'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:59:17'!
ERROR!
!MarsRover methodsFor: 'private' stamp: 'GR 10/24/2020 17:59:31'!
moveForwardTowardsEast
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'private' stamp: 'GR 10/24/2020 17:59:51' prior: 50910976!
moveForwardTowardsEast
	
	position := position + (1@0)! !

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 17:59:56'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 17:59:58'!
FAILURE!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 18:00:38'!
FAILURE!
!MarsRover methodsFor: 'accessing' stamp: 'GR 10/24/2020 18:00:45' prior: 50910119!
direction
	
	^direction class! !

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 18:00:51'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 18:00:51'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 18:00:51'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 18:00:51'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 18:00:51'!
PASSED!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 18:00:51'!
PASSED!
!Direction methodsFor: 'converting' stamp: 'GR 10/24/2020 18:01:47' prior: 50910883!
leftCardinalPoint
	
	self subclassResponsibility .! !
!East methodsFor: 'actions' stamp: 'GR 10/24/2020 18:03:08' overrides: 50910697!
moveBackward: aMarsRover
	
	aMarsRover moveForwardTowardsWest.! !
!East methodsFor: 'nil' stamp: 'GR 10/24/2020 18:04:04'!
leftCardinatePoint

	^North new.! !
!East methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:04:14'!
rightCardinatePoint

	^South new.! !
!North methodsFor: 'converting' stamp: 'GR 10/24/2020 18:05:03' overrides: 50911011!
leftCardinalPoint
	
	^West new.! !
!South methodsFor: 'actions' stamp: 'GR 10/24/2020 18:05:20' overrides: 50910697!
moveBackward: aMarsRover
	
	aMarsRover moveForwardTowardsNorth.! !
!South methodsFor: 'nil' stamp: 'GR 10/24/2020 18:05:49' overrides: 50911011!
leftCardinalPoint

	^East new.! !
!South methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:06:12' overrides: 50910935!
rightCardinalPoint

	^West new.! !
!West methodsFor: 'actions' stamp: 'GR 10/24/2020 18:06:37' overrides: 50910697!
moveBackward: aMarsRover
	
	aMarsRover moveForwardTowardsEast.! !
!West methodsFor: 'nil' stamp: 'GR 10/24/2020 18:06:56' overrides: 50911011!
leftCardinalPoint

	^South new.! !
!West methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:07:07' overrides: 50910935!
rightCardinalPoint

	^North new.! !
!MarsRover methodsFor: 'private' stamp: 'GR 10/24/2020 18:07:52'!
moveForwardTowardsWest
	
	position := position - (0@1)! !
!MarsRover methodsFor: 'private' stamp: 'GR 10/24/2020 18:08:04' prior: 50911058!
moveForwardTowardsWest
	
	position := position - (1@0)! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:08:39' prior: 50910658!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [ direction := direction leftCardinalPoint. ].
	
	(aCommandSet = 'r' ) ifTrue: [ direction := direction rightCardinalPoint. ].	
	
	(aCommandSet = 'f' ) ifTrue: [
		direction moveForward: self.
		].
	
	(aCommandSet = 'b' ) ifTrue: [
		direction moveBackward: self.
		].! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:08:54' prior: 50911068!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [ direction := direction leftCardinalPoint. ].
	
	(aCommandSet = 'r' ) ifTrue: [ direction := direction rightCardinalPoint. ].	
	
	(aCommandSet = 'f' ) ifTrue: [ direction moveForward: self ].
	
	(aCommandSet = 'b' ) ifTrue: [ direction moveBackward: self ].! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:11:36'!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommand: 'f'.
	
	self assert: (2@1) equals: rover position.! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:12:14'!
sendCommandSet: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [ direction := direction leftCardinalPoint. ].
	
	(aCommandSet = 'r' ) ifTrue: [ direction := direction rightCardinalPoint. ].	
	
	(aCommandSet = 'f' ) ifTrue: [ direction moveForward: self ].
	
	(aCommandSet = 'b' ) ifTrue: [ direction moveBackward: self ].! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:12:14' prior: 50911094!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (2@1) equals: rover position.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:12:14' prior: 50910597!
test02

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'b'.
	
	self assert: (1@0) equals: rover position.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:12:14' prior: 50910890!
test03

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'l'.
	
	self assert: West equals: rover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:12:14' prior: 50910906!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'r'.
	
	self assert: East equals: rover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:12:14' prior: 50910628!
test05

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (2@1) equals: rover position.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 18:12:14' prior: 50910536!
test01

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (1@2) equals: rover position.! !

!methodRemoval: MarsRover #sendCommand: stamp: 'GR 10/24/2020 18:12:14'!
sendCommand: aCommandSet

	(aCommandSet = 'l' ) ifTrue: [ direction := direction leftCardinalPoint. ].
	
	(aCommandSet = 'r' ) ifTrue: [ direction := direction rightCardinalPoint. ].	
	
	(aCommandSet = 'f' ) ifTrue: [ direction moveForward: self ].
	
	(aCommandSet = 'b' ) ifTrue: [ direction moveBackward: self ].!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:13:49' prior: 50911116!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'flbr'.
	
	self assert: (2@1) equals: rover position.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:14:26' prior: 50911182!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'flbl'.
	
	self assert: (2@1) equals: rover position.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:14:42' prior: 50911190!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'flbl'.
	
	self assert: (2@0) equals: rover position.
	self assert: South equals: rover direction.! !

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:14:46'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:16:55' prior: 50911102!
sendCommandSet: aCommandSet

	aCommandSet do: [ :aCommand | self executeCommand: aCommand ].! !

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:17:00'!
ERROR!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:17:14'!
executeCommand: aCharacter 
	self shouldBeImplemented.! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:17:35' prior: 50911218!
executeCommand: aCommand
	
	(aCommand = 'l' ) ifTrue: [ direction := direction leftCardinalPoint. ].
	
	(aCommand = 'r' ) ifTrue: [ direction := direction rightCardinalPoint. ].	
	
	(aCommand = 'f' ) ifTrue: [ direction moveForward: self ].
	
	(aCommand = 'b' ) ifTrue: [ direction moveBackward: self ].! !

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:17:38'!
FAILURE!

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:17:43'!
FAILURE!

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:17:55'!
FAILURE!

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:18:18'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:18:44' prior: 50911223!
executeCommand: aCommand
	
	(aCommand = $l ) ifTrue: [ direction := direction leftCardinalPoint. ].
	
	(aCommand = $r ) ifTrue: [ direction := direction rightCardinalPoint. ].	
	
	(aCommand = $f ) ifTrue: [ direction moveForward: self ].
	
	(aCommand = $b ) ifTrue: [ direction moveBackward: self ].! !

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:18:45'!
ERROR!
!East methodsFor: 'rotations' stamp: 'GR 10/24/2020 18:19:23' overrides: 50911011!
leftCardinalPoint

	^North new.! !

!methodRemoval: East #leftCardinatePoint stamp: 'GR 10/24/2020 18:19:23'!
leftCardinatePoint

	^North new.!
!East methodsFor: 'rotations' stamp: 'GR 10/24/2020 18:19:34' overrides: 50910935!
rightCardinalPoint

	^South new.! !

!methodRemoval: East #rightCardinatePoint stamp: 'GR 10/24/2020 18:19:34'!
rightCardinatePoint

	^South new.!

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:19:42'!
FAILURE!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:20:07' prior: 50911198!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'flbl'.
	
	self assert: (2@0) equals: rover position.
	self assert: West equals: rover direction.! !

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:20:12'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 18:20:12'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 18:20:12'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 18:20:12'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 18:20:12'!
PASSED!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 18:20:12'!
PASSED!

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:20:12'!
PASSED!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:20:27'!
test07

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'fabl'.
	
	self assert: (2@0) equals: rover position.
	self assert: West equals: rover direction.! !

!testRun: #MarsRoverTest #test07 stamp: 'GR 10/24/2020 18:20:32'!
FAILURE!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:21:21' prior: 50911245!
executeCommand: aCommand
	
	(aCommand = $l ) ifTrue: [ direction := direction leftCardinalPoint. ].
	
	(aCommand = $r ) ifTrue: [ direction := direction rightCardinalPoint. ].	
	
	(aCommand = $f ) ifTrue: [ direction moveForward: self ].
	
	(aCommand = $b ) ifTrue: [ direction moveBackward: self ].
	
	self error: MarsRover commandNotUnderstood.! !

!testRun: #MarsRoverTest #test07 stamp: 'GR 10/24/2020 18:21:24'!
ERROR!
!MarsRover class methodsFor: 'error handling' stamp: 'GR 10/24/2020 18:21:52'!
commandNotUnderstood
	self shouldBeImplemented.! !
!MarsRover class methodsFor: 'error handling' stamp: 'GR 10/24/2020 18:22:41' prior: 50911332!
commandNotUnderstood
	
	^'Command set is not valid'! !

!testRun: #MarsRoverTest #test07 stamp: 'GR 10/24/2020 18:22:42'!
ERROR!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:24:03' prior: 50911304!
test07

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	self 
		should: [ rover sendCommandSet: 'fabl'. ]	 
		raise: Error
		description: MarsRover commandNotUnderstood.! !

!testRun: #MarsRoverTest #test07 stamp: 'GR 10/24/2020 18:24:04'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 18:24:04'!
ERROR!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 18:24:04'!
ERROR!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 18:24:04'!
ERROR!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 18:24:04'!
ERROR!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 18:24:04'!
ERROR!

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:24:04'!
ERROR!

!testRun: #MarsRoverTest #test07 stamp: 'GR 10/24/2020 18:24:04'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 18:24:20'!
ERROR!
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:27:32' prior: 50911316!
executeCommand: aCommand
	
	(aCommand = $l ) ifTrue: [ direction := direction leftCardinalPoint. ].
	
	(aCommand = $r ) ifTrue: [ direction := direction rightCardinalPoint. ].	
	
	(aCommand = $f ) ifTrue: [ direction moveForward: self ].
	
	(aCommand = $b ) ifTrue: [ direction moveBackward: self ].
	
	self error: MarsRover commandNotUnderstood.! !
!MarsRover methodsFor: 'operations' stamp: 'GR 10/24/2020 18:31:00' prior: 50911374!
executeCommand: aCommand
	
	(aCommand = $l ) ifTrue: [ ^direction := direction leftCardinalPoint. ].
	
	(aCommand = $r ) ifTrue: [ ^direction := direction rightCardinalPoint. ].	
	
	(aCommand = $f ) ifTrue: [ ^direction moveForward: self ].
	
	(aCommand = $b ) ifTrue: [ ^direction moveBackward: self ].
	
	self error: MarsRover commandNotUnderstood.! !

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 18:31:08'!
PASSED!

!testRun: #MarsRoverTest #test07 stamp: 'GR 10/24/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test01 stamp: 'GR 10/24/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test02 stamp: 'GR 10/24/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test03 stamp: 'GR 10/24/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test04 stamp: 'GR 10/24/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test05 stamp: 'GR 10/24/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test07 stamp: 'GR 10/24/2020 18:31:12'!
PASSED!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:34:59'!
test01ForwardToNorthMovesOnePositionToNorth

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (1@2) equals: rover position.! !

!methodRemoval: MarsRoverTest #test01 stamp: 'GR 10/24/2020 18:34:59'!
test01

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (1@2) equals: rover position.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:35:26'!
test01ForwardToNorthMovesRoverOnePositionToNorth

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (1@2) equals: rover position.! !

!methodRemoval: MarsRoverTest #test01ForwardToNorthMovesOnePositionToNorth stamp: 'GR 10/24/2020 18:35:26'!
test01ForwardToNorthMovesOnePositionToNorth

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (1@2) equals: rover position.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:36:00'!
test02BackwardToNorthMovesRoverOnePositionToSouth

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'b'.
	
	self assert: (1@0) equals: rover position.! !

!methodRemoval: MarsRoverTest #test02 stamp: 'GR 10/24/2020 18:36:00'!
test02

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'b'.
	
	self assert: (1@0) equals: rover position.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:36:49'!
test01ForwardNorthMovesRoverOnePositionToNorth

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (1@2) equals: rover position.! !

!methodRemoval: MarsRoverTest #test01ForwardToNorthMovesRoverOnePositionToNorth stamp: 'GR 10/24/2020 18:36:49'!
test01ForwardToNorthMovesRoverOnePositionToNorth

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (1@2) equals: rover position.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:36:59'!
test02BackwardNorthMovesRoverOnePositionToSouth

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'b'.
	
	self assert: (1@0) equals: rover position.! !

!methodRemoval: MarsRoverTest #test02BackwardToNorthMovesRoverOnePositionToSouth stamp: 'GR 10/24/2020 18:36:59'!
test02BackwardToNorthMovesRoverOnePositionToSouth

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'b'.
	
	self assert: (1@0) equals: rover position.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:38:06'!
test03LeftNorthChangesRoverDirectionToWest

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'l'.
	
	self assert: West equals: rover direction.! !

!methodRemoval: MarsRoverTest #test03 stamp: 'GR 10/24/2020 18:38:06'!
test03

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'l'.
	
	self assert: West equals: rover direction.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:40:26'!
test04RightNorthChangesRoverDirectionToEast

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'r'.
	
	self assert: East equals: rover direction.! !

!methodRemoval: MarsRoverTest #test04 stamp: 'GR 10/24/2020 18:40:26'!
test04

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'r'.
	
	self assert: East equals: rover direction.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:41:12'!
test05ForwardEastMovesRoverOnePositionToEast

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (2@1) equals: rover position.! !

!methodRemoval: MarsRoverTest #test05 stamp: 'GR 10/24/2020 18:41:12'!
test05

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (2@1) equals: rover position.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:41:52'!
test06RoverCanHandleACommandString

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'flbl'.
	
	self assert: (2@0) equals: rover position.
	self assert: West equals: rover direction.! !

!methodRemoval: MarsRoverTest #test06 stamp: 'GR 10/24/2020 18:41:52'!
test06

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	rover sendCommandSet: 'flbl'.
	
	self assert: (2@0) equals: rover position.
	self assert: West equals: rover direction.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:44:33'!
test07RoverCanNotHandleCommandStringWithInvalidCommand

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	self 
		should: [ rover sendCommandSet: 'fabl'. ]	 
		raise: Error
		description: MarsRover commandNotUnderstood.! !

!methodRemoval: MarsRoverTest #test07 stamp: 'GR 10/24/2020 18:44:33'!
test07

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: East new.
	
	self 
		should: [ rover sendCommandSet: 'fabl'. ]	 
		raise: Error
		description: MarsRover commandNotUnderstood.!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/24/2020 18:45:13'!
PASSED!

!testRun: #MarsRoverTest #test01ForwardNorthMovesRoverOnePositionToNorth stamp: 'GR 10/24/2020 18:45:13'!
PASSED!

!testRun: #MarsRoverTest #test02BackwardNorthMovesRoverOnePositionToSouth stamp: 'GR 10/24/2020 18:45:13'!
PASSED!

!testRun: #MarsRoverTest #test03LeftNorthChangesRoverDirectionToWest stamp: 'GR 10/24/2020 18:45:13'!
PASSED!

!testRun: #MarsRoverTest #test04RightNorthChangesRoverDirectionToEast stamp: 'GR 10/24/2020 18:45:13'!
PASSED!

!testRun: #MarsRoverTest #test05ForwardEastMovesRoverOnePositionToEast stamp: 'GR 10/24/2020 18:45:13'!
PASSED!

!testRun: #MarsRoverTest #test06RoverCanHandleACommandString stamp: 'GR 10/24/2020 18:45:13'!
PASSED!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/24/2020 18:45:13'!
PASSED!

----QUIT----(24 October 2020 18:46:05) CuisUniversity-4383.image priorSource: 18501252!

----STARTUP---- (24 October 2020 18:49:44) as /home/grosinov/linux64/CuisUniversity-4383.image!

!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:51:32'!
assertMarsRoverPositionIs: aPosition andDirection: aDirection

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: (1@2) equals: rover position.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:52:06' prior: 50911634!
assertMarsRoverPositionIs: aPosition andDirection: aDirection

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: aPosition equals: rover position.
	self assert: aDirection equals: rover direction.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:52:41'!
assertMarsRoverPositionIs: aPosition andDirection: aDirection whenSendingCommandSet: aCommandSet

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: rover position.
	self assert: aDirection equals: rover direction.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:53:00' prior: 50911655!
assertMarsRoverPositionIs: aPosition andDirection: aDirection whenSendingCommandSet: aCommandSet

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: rover position.
	self assert: aDirection equals: rover direction.! !

Direction subclass: #East
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #East category: 'MarsRover' stamp: 'GR 10/24/2020 18:53:08'!
Direction subclass: #East
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!methodRemoval: MarsRoverTest #assertMarsRoverPositionIs:andDirection: stamp: 'GR 10/24/2020 18:53:16'!
assertMarsRoverPositionIs: aPosition andDirection: aDirection

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: 'f'.
	
	self assert: aPosition equals: rover position.
	self assert: aDirection equals: rover direction.!

!classDefinition: #MarsRoverTest category: 'MarsRover' stamp: 'GR 10/24/2020 18:54:20'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: 'marsRover'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:54:19' prior: 50911668!
assertMarsRoverPositionIs: aPosition andDirection: aDirection whenSendingCommandSet: aCommandSet

	marsRover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: marsRover position.
	self assert: aDirection equals: marsRover direction.! !
!MarsRoverTest methodsFor: 'nil' stamp: 'GR 10/24/2020 18:54:35' overrides: 16927572!
setUp

	marsRover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:55:48' prior: 50911475!
test01ForwardNorthMovesRoverOnePositionToNorth

	self assertMarsRoverPositionIs: (1@2) andDirection: North new whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:56:06' prior: 50911494!
test02BackwardNorthMovesRoverOnePositionToSouth

	self assertMarsRoverPositionIs: (1@0) andDirection: North new whenSendingCommandSet: 'b'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:56:42' prior: 50911513!
test03LeftNorthChangesRoverDirectionToWest

	self assertMarsRoverPositionIs: (1@1) andDirection: West whenSendingCommandSet: 'l'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:56:46' prior: 50911735!
test02BackwardNorthMovesRoverOnePositionToSouth

	self assertMarsRoverPositionIs: (1@0) andDirection: North whenSendingCommandSet: 'b'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:56:50' prior: 50911727!
test01ForwardNorthMovesRoverOnePositionToNorth

	self assertMarsRoverPositionIs: (1@2) andDirection: North whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:57:17' prior: 50911529!
test04RightNorthChangesRoverDirectionToEast

	self assertMarsRoverPositionIs: (1@1) andDirection: East whenSendingCommandSet: 'r'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:57:43' prior: 50911545!
test05ForwardEastMovesRoverOnePositionToEast

	self assertMarsRoverPositionIs: (2@1) andDirection: East whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:58:11' prior: 50911561!
test06RoverCanHandleACommandString

	self assertMarsRoverPositionIs: (2@0) andDirection: West whenSendingCommandSet: 'flbl'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:58:25' prior: 50911580!
test07RoverCanNotHandleCommandStringWithInvalidCommand

	self 
		should: [ marsRover sendCommandSet: 'fabl'. ]	 
		raise: Error
		description: MarsRover commandNotUnderstood.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:58:32' prior: 50911786!
test07RoverCanNotHandleCommandStringWithInvalidCommand

	self 
		should: [ marsRover sendCommandSet: 'gaston'. ]	 
		raise: Error
		description: MarsRover commandNotUnderstood.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 18:58:43' prior: 50911795!
test07RoverCanNotHandleCommandStringWithInvalidCommand

	self 
		should: [ marsRover sendCommandSet: 'fabi'. ]	 
		raise: Error
		description: MarsRover commandNotUnderstood.! !

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/24/2020 18:58:56'!
PASSED!

!testRun: #MarsRoverTest #test01ForwardNorthMovesRoverOnePositionToNorth stamp: 'GR 10/24/2020 18:58:56'!
PASSED!

!testRun: #MarsRoverTest #test02BackwardNorthMovesRoverOnePositionToSouth stamp: 'GR 10/24/2020 18:58:56'!
PASSED!

!testRun: #MarsRoverTest #test03LeftNorthChangesRoverDirectionToWest stamp: 'GR 10/24/2020 18:58:56'!
PASSED!

!testRun: #MarsRoverTest #test04RightNorthChangesRoverDirectionToEast stamp: 'GR 10/24/2020 18:58:56'!
PASSED!

!testRun: #MarsRoverTest #test05ForwardEastMovesRoverOnePositionToEast stamp: 'GR 10/24/2020 18:58:56'!
FAILURE!

!testRun: #MarsRoverTest #test06RoverCanHandleACommandString stamp: 'GR 10/24/2020 18:58:56'!
FAILURE!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/24/2020 18:58:56'!
PASSED!

!testRun: #MarsRoverTest #test05ForwardEastMovesRoverOnePositionToEast stamp: 'GR 10/24/2020 18:59:10'!
FAILURE!
!MarsRoverTest methodsFor: 'private' stamp: 'GR 10/24/2020 19:01:23' prior: 50911710!
assertMarsRoverPositionIs: aPosition andDirection: aDirection whenSendingCommandSet: aCommandSet

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: marsRover position.
	self assert: aDirection equals: marsRover direction.! !

TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #MarsRoverTest category: 'MarsRover' stamp: 'GR 10/24/2020 19:01:30'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

TestCase subclass: #MarsRoverTest
	instanceVariableNames: 'marsRoverNorth marsRoverEast marsRoverSouth marsRoverWest'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!

!classDefinition: #MarsRoverTest category: 'MarsRover' stamp: 'GR 10/24/2020 19:03:16'!
TestCase subclass: #MarsRoverTest
	instanceVariableNames: 'marsRoverNorth marsRoverEast marsRoverSouth marsRoverWest'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'MarsRover'!
!MarsRoverTest methodsFor: 'setUp' stamp: 'GR 10/24/2020 19:03:51' prior: 50911721 overrides: 16927572!
setUp

	marsRoverNorth := MarsRover newInPosition: (1@1) andDirection: North new.
	
	marsRoverEast := MarsRover newInPosition: (1@1) andDirection: East new.
	
	marsRoverSouth := MarsRover newInPosition: (1@1) andDirection: South new.
	
	marsRoverWest := MarsRover newInPosition: (1@1) andDirection: West new.
	
	! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 19:04:50' prior: 50911758!
test01ForwardNorthMovesRoverOnePositionToNorth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@2) andDirection: North whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 19:04:56' prior: 50911897!
test01ForwardNorthMovesRoverOnePositionToNorth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@2) withDirection: North whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'private' stamp: 'GR 10/24/2020 19:06:00'!
assertMarsRover: aMarsRover assertMarsRoverPositionIs: aPosition andDirection: aDirection whenSendingCommandSet: aCommandSet

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: marsRover position.
	self assert: aDirection equals: marsRover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:00' prior: 50911772!
test05ForwardEastMovesRoverOnePositionToEast

	self assertMarsRover: marsRover assertMarsRoverPositionIs: (2@1) andDirection: East whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:00' prior: 50911779!
test06RoverCanHandleACommandString

	self assertMarsRover: marsRover assertMarsRoverPositionIs: (2@0) andDirection: West whenSendingCommandSet: 'flbl'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:00' prior: 50911750!
test02BackwardNorthMovesRoverOnePositionToSouth

	self assertMarsRover: marsRover assertMarsRoverPositionIs: (1@0) andDirection: North whenSendingCommandSet: 'b'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:00' prior: 50911743!
test03LeftNorthChangesRoverDirectionToWest

	self assertMarsRover: marsRover assertMarsRoverPositionIs: (1@1) andDirection: West whenSendingCommandSet: 'l'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:00' prior: 50911765!
test04RightNorthChangesRoverDirectionToEast

	self assertMarsRover: marsRover assertMarsRoverPositionIs: (1@1) andDirection: East whenSendingCommandSet: 'r'.! !

!methodRemoval: MarsRoverTest #assertMarsRoverPositionIs:andDirection:whenSendingCommandSet: stamp: 'GR 10/24/2020 19:06:00'!
assertMarsRoverPositionIs: aPosition andDirection: aDirection whenSendingCommandSet: aCommandSet

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: marsRover position.
	self assert: aDirection equals: marsRover direction.!
!MarsRoverTest methodsFor: 'private' stamp: 'GR 10/24/2020 19:06:28'!
assertMarsRover: aMarsRover endsInPosition: aPosition withDirection: aDirection whenSendingCommandSet: aCommandSet

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: marsRover position.
	self assert: aDirection equals: marsRover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:28' prior: 50911945!
test02BackwardNorthMovesRoverOnePositionToSouth

	self assertMarsRover: marsRover endsInPosition: (1@0) withDirection: North whenSendingCommandSet: 'b'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:28' prior: 50911954!
test03LeftNorthChangesRoverDirectionToWest

	self assertMarsRover: marsRover endsInPosition: (1@1) withDirection: West whenSendingCommandSet: 'l'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:28' prior: 50911937!
test06RoverCanHandleACommandString

	self assertMarsRover: marsRover endsInPosition: (2@0) withDirection: West whenSendingCommandSet: 'flbl'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:28' prior: 50911963!
test04RightNorthChangesRoverDirectionToEast

	self assertMarsRover: marsRover endsInPosition: (1@1) withDirection: East whenSendingCommandSet: 'r'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/24/2020 19:06:28' prior: 50911928!
test05ForwardEastMovesRoverOnePositionToEast

	self assertMarsRover: marsRover endsInPosition: (2@1) withDirection: East whenSendingCommandSet: 'f'.! !

!methodRemoval: MarsRoverTest #assertMarsRover:assertMarsRoverPositionIs:andDirection:whenSendingCommandSet: stamp: 'GR 10/24/2020 19:06:28'!
assertMarsRover: aMarsRover assertMarsRoverPositionIs: aPosition andDirection: aDirection whenSendingCommandSet: aCommandSet

	| rover |
	
	rover := MarsRover newInPosition: (1@1) andDirection: North new.
	
	rover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: marsRover position.
	self assert: aDirection equals: marsRover direction.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 19:06:49' prior: 50911999!
test02BackwardNorthMovesRoverOnePositionToSouth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@0) withDirection: North whenSendingCommandSet: 'b'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 19:06:53' prior: 50912007!
test03LeftNorthChangesRoverDirectionToWest

	self assertMarsRover: marsRoverNorth endsInPosition: (1@1) withDirection: West whenSendingCommandSet: 'l'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 19:06:57' prior: 50912023!
test04RightNorthChangesRoverDirectionToEast

	self assertMarsRover: marsRoverNorth endsInPosition: (1@1) withDirection: East whenSendingCommandSet: 'r'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 19:07:01' prior: 50912031!
test05ForwardEastMovesRoverOnePositionToEast

	self assertMarsRover: marsRoverNorth endsInPosition: (2@1) withDirection: East whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 19:07:08' prior: 50912078!
test05ForwardEastMovesRoverOnePositionToEast

	self assertMarsRover: marsRoverEast endsInPosition: (2@1) withDirection: East whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/24/2020 19:07:24' prior: 50912015!
test06RoverCanHandleACommandString

	self assertMarsRover: marsRoverEast endsInPosition: (2@0) withDirection: West whenSendingCommandSet: 'flbl'.! !
!MarsRoverTest methodsFor: 'private' stamp: 'GR 10/24/2020 19:08:14' prior: 50911985!
assertMarsRover: aMarsRover endsInPosition: aPosition withDirection: aDirection whenSendingCommandSet: aCommandSet

	aMarsRover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: aMarsRover position.
	self assert: aDirection equals: aMarsRover direction.! !

!testRun: #MarsRoverTest #test06RoverCanHandleACommandString stamp: 'GR 10/24/2020 19:08:23'!
PASSED!

!testRun: #MarsRoverTest #test01ForwardNorthMovesRoverOnePositionToNorth stamp: 'GR 10/24/2020 19:08:23'!
PASSED!

!testRun: #MarsRoverTest #test02BackwardNorthMovesRoverOnePositionToSouth stamp: 'GR 10/24/2020 19:08:23'!
PASSED!

!testRun: #MarsRoverTest #test03LeftNorthChangesRoverDirectionToWest stamp: 'GR 10/24/2020 19:08:23'!
PASSED!

!testRun: #MarsRoverTest #test04RightNorthChangesRoverDirectionToEast stamp: 'GR 10/24/2020 19:08:23'!
PASSED!

!testRun: #MarsRoverTest #test05ForwardEastMovesRoverOnePositionToEast stamp: 'GR 10/24/2020 19:08:23'!
PASSED!

!testRun: #MarsRoverTest #test06RoverCanHandleACommandString stamp: 'GR 10/24/2020 19:08:23'!
PASSED!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/24/2020 19:08:23'!
PASSED!

----QUIT----(24 October 2020 19:08:45) CuisUniversity-4383.image priorSource: 18559269!

----STARTUP---- (26 October 2020 11:56:36) as /home/grosinov/linux64/CuisUniversity-4383.image!

!MarsRover class methodsFor: 'instance creation' stamp: 'GR 10/26/2020 11:58:13'!
newInPosition: aCardinalPoint facing: aDirection
	
	^self new initializeNewInPosition: aCardinalPoint andDirection: aDirection ! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/26/2020 11:58:13' prior: 50911884 overrides: 16927572!
setUp

	marsRoverNorth := MarsRover newInPosition: (1@1) facing: North new.
	
	marsRoverEast := MarsRover newInPosition: (1@1) facing: East new.
	
	marsRoverSouth := MarsRover newInPosition: (1@1) facing: South new.
	
	marsRoverWest := MarsRover newInPosition: (1@1) facing: West new.
	
	! !

!methodRemoval: MarsRover class #newInPosition:andDirection: stamp: 'GR 10/26/2020 11:58:13'!
newInPosition: aCardinalPoint andDirection: aDirection
	
	^self new initializeNewInPosition: aCardinalPoint andDirection: aDirection !
!MarsRover methodsFor: 'initialization' stamp: 'GR 10/26/2020 11:58:38'!
initializeNewInPosition: aCoordinate facing: aDirection 
	
	position := aCoordinate.
	direction := aDirection.
	cardinalPoints := OrderedCollection with: $N with: $E with: $S with: $O.! !
!MarsRover class methodsFor: 'as yet unclassified' stamp: 'GR 10/26/2020 11:58:38' prior: 50912147!
newInPosition: aCardinalPoint facing: aDirection
	
	^self new initializeNewInPosition: aCardinalPoint facing: aDirection ! !

!methodRemoval: MarsRover #initializeNewInPosition:andDirection: stamp: 'GR 10/26/2020 11:58:38'!
initializeNewInPosition: aCoordinate andDirection: aDirection 
	
	position := aCoordinate.
	direction := aDirection.
	cardinalPoints := OrderedCollection with: $N with: $E with: $S with: $O.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/26/2020 12:01:38'!
test01ForwardFacingNorthMovesRoverOnePositionToNorth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@2) withDirection: North whenSendingCommandSet: 'f'.! !

!methodRemoval: MarsRoverTest #test01ForwardNorthMovesRoverOnePositionToNorth stamp: 'GR 10/26/2020 12:01:38'!
test01ForwardNorthMovesRoverOnePositionToNorth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@2) withDirection: North whenSendingCommandSet: 'f'.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/26/2020 12:01:45'!
test02BackwardFacingNorthMovesRoverOnePositionToSouth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@0) withDirection: North whenSendingCommandSet: 'b'.! !

!methodRemoval: MarsRoverTest #test02BackwardNorthMovesRoverOnePositionToSouth stamp: 'GR 10/26/2020 12:01:45'!
test02BackwardNorthMovesRoverOnePositionToSouth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@0) withDirection: North whenSendingCommandSet: 'b'.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/26/2020 12:01:52'!
test03LeftFacingNorthChangesRoverDirectionToWest

	self assertMarsRover: marsRoverNorth endsInPosition: (1@1) withDirection: West whenSendingCommandSet: 'l'.! !

!methodRemoval: MarsRoverTest #test03LeftNorthChangesRoverDirectionToWest stamp: 'GR 10/26/2020 12:01:52'!
test03LeftNorthChangesRoverDirectionToWest

	self assertMarsRover: marsRoverNorth endsInPosition: (1@1) withDirection: West whenSendingCommandSet: 'l'.!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/26/2020 12:01:58'!
test04RightFacingNorthChangesRoverDirectionToEast

	self assertMarsRover: marsRoverNorth endsInPosition: (1@1) withDirection: East whenSendingCommandSet: 'r'.! !

!methodRemoval: MarsRoverTest #test04RightNorthChangesRoverDirectionToEast stamp: 'GR 10/26/2020 12:01:58'!
test04RightNorthChangesRoverDirectionToEast

	self assertMarsRover: marsRoverNorth endsInPosition: (1@1) withDirection: East whenSendingCommandSet: 'r'.!
!MarsRoverTest methodsFor: 'private' stamp: 'GR 10/26/2020 12:05:05'!
assertMarsRover: aMarsRover endsInPosition: aPosition facing: aDirection whenSendingCommandSet: aCommandSet

	aMarsRover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: aMarsRover position.
	self assert: aDirection equals: aMarsRover direction.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/26/2020 12:05:05' prior: 50912215!
test02BackwardFacingNorthMovesRoverOnePositionToSouth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@0) facing: North whenSendingCommandSet: 'b'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/26/2020 12:05:05' prior: 50912199!
test01ForwardFacingNorthMovesRoverOnePositionToNorth

	self assertMarsRover: marsRoverNorth endsInPosition: (1@2) facing: North whenSendingCommandSet: 'f'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/26/2020 12:05:05' prior: 50912247!
test04RightFacingNorthChangesRoverDirectionToEast

	self assertMarsRover: marsRoverNorth endsInPosition: (1@1) facing: East whenSendingCommandSet: 'r'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/26/2020 12:05:05' prior: 50912231!
test03LeftFacingNorthChangesRoverDirectionToWest

	self assertMarsRover: marsRoverNorth endsInPosition: (1@1) facing: West whenSendingCommandSet: 'l'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/26/2020 12:05:05' prior: 50912094!
test06RoverCanHandleACommandString

	self assertMarsRover: marsRoverEast endsInPosition: (2@0) facing: West whenSendingCommandSet: 'flbl'.! !
!MarsRoverTest methodsFor: 'as yet unclassified' stamp: 'GR 10/26/2020 12:05:05' prior: 50912086!
test05ForwardEastMovesRoverOnePositionToEast

	self assertMarsRover: marsRoverEast endsInPosition: (2@1) facing: East whenSendingCommandSet: 'f'.! !

!methodRemoval: MarsRoverTest #assertMarsRover:endsInPosition:withDirection:whenSendingCommandSet: stamp: 'GR 10/26/2020 12:05:05'!
assertMarsRover: aMarsRover endsInPosition: aPosition withDirection: aDirection whenSendingCommandSet: aCommandSet

	aMarsRover sendCommandSet: aCommandSet.
	
	self assert: aPosition equals: aMarsRover position.
	self assert: aDirection equals: aMarsRover direction.!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test01ForwardFacingNorthMovesRoverOnePositionToNorth stamp: 'GR 10/26/2020 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test02BackwardFacingNorthMovesRoverOnePositionToSouth stamp: 'GR 10/26/2020 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test03LeftFacingNorthChangesRoverDirectionToWest stamp: 'GR 10/26/2020 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test04RightFacingNorthChangesRoverDirectionToEast stamp: 'GR 10/26/2020 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test05ForwardEastMovesRoverOnePositionToEast stamp: 'GR 10/26/2020 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test06RoverCanHandleACommandString stamp: 'GR 10/26/2020 12:05:54'!
PASSED!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 12:05:54'!
PASSED!

----QUIT----(26 October 2020 12:13:07) CuisUniversity-4383.image priorSource: 18575693!

----STARTUP---- (26 October 2020 17:22:01) as /home/grosinov/linux64/CuisUniversity-4383.image!


!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 18:09:05'!
PASSED!

!testRun: #MarsRoverTest #test01ForwardFacingNorthMovesRoverOnePositionToNorth stamp: 'GR 10/26/2020 18:09:05'!
PASSED!

!testRun: #MarsRoverTest #test02BackwardFacingNorthMovesRoverOnePositionToSouth stamp: 'GR 10/26/2020 18:09:05'!
PASSED!

!testRun: #MarsRoverTest #test03LeftFacingNorthChangesRoverDirectionToWest stamp: 'GR 10/26/2020 18:09:05'!
PASSED!

!testRun: #MarsRoverTest #test04RightFacingNorthChangesRoverDirectionToEast stamp: 'GR 10/26/2020 18:09:05'!
PASSED!

!testRun: #MarsRoverTest #test05ForwardEastMovesRoverOnePositionToEast stamp: 'GR 10/26/2020 18:09:05'!
PASSED!

!testRun: #MarsRoverTest #test06RoverCanHandleACommandString stamp: 'GR 10/26/2020 18:09:05'!
PASSED!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 18:09:05'!
PASSED!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/26/2020 18:09:17' prior: 50911804!
test07RoverCanNotHandleCommandStringWithInvalidCommand

	self 
		should: [ marsRoverNorth sendCommandSet: 'fabi'. ]	 
		raise: Error
		description: MarsRover commandNotUnderstood.! !

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 18:09:24'!
PASSED!

!testRun: #MarsRoverTest #test01ForwardFacingNorthMovesRoverOnePositionToNorth stamp: 'GR 10/26/2020 18:09:24'!
PASSED!

!testRun: #MarsRoverTest #test02BackwardFacingNorthMovesRoverOnePositionToSouth stamp: 'GR 10/26/2020 18:09:24'!
PASSED!

!testRun: #MarsRoverTest #test03LeftFacingNorthChangesRoverDirectionToWest stamp: 'GR 10/26/2020 18:09:24'!
PASSED!

!testRun: #MarsRoverTest #test04RightFacingNorthChangesRoverDirectionToEast stamp: 'GR 10/26/2020 18:09:24'!
PASSED!

!testRun: #MarsRoverTest #test05ForwardEastMovesRoverOnePositionToEast stamp: 'GR 10/26/2020 18:09:24'!
PASSED!

!testRun: #MarsRoverTest #test06RoverCanHandleACommandString stamp: 'GR 10/26/2020 18:09:24'!
PASSED!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 18:09:24'!
PASSED!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/26/2020 18:31:01' prior: 50912402!
test07RoverCanNotHandleCommandStringWithInvalidCommand

	self 
		should: [ marsRoverNorth sendCommandSet: 'fabi'. ]	 
		raise: Error
		withExceptionDo: [:anError |
			self assert: MarsRover commandNotUnderstood equals: anError errorMessage ]! !

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 18:31:02'!
ERROR!
!MarsRoverTest methodsFor: 'testing' stamp: 'GR 10/26/2020 18:31:11' prior: 50912440!
test07RoverCanNotHandleCommandStringWithInvalidCommand

	self 
		should: [ marsRoverNorth sendCommandSet: 'fabi'. ]	 
		raise: Error
		withExceptionDo: [:anError |
			self assert: MarsRover commandNotUnderstood equals: anError messageText ]! !

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test01ForwardFacingNorthMovesRoverOnePositionToNorth stamp: 'GR 10/26/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test02BackwardFacingNorthMovesRoverOnePositionToSouth stamp: 'GR 10/26/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test03LeftFacingNorthChangesRoverDirectionToWest stamp: 'GR 10/26/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test04RightFacingNorthChangesRoverDirectionToEast stamp: 'GR 10/26/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test05ForwardEastMovesRoverOnePositionToEast stamp: 'GR 10/26/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test06RoverCanHandleACommandString stamp: 'GR 10/26/2020 18:31:12'!
PASSED!

!testRun: #MarsRoverTest #test07RoverCanNotHandleCommandStringWithInvalidCommand stamp: 'GR 10/26/2020 18:31:12'!
PASSED!

----QUIT----(26 October 2020 21:51:49) CuisUniversity-4383.image priorSource: 18582897!

----STARTUP---- (28 October 2020 14:22:44) as /home/grosinov/linux64/CuisUniversity-4383.image!


----QUIT----(28 October 2020 15:03:00) CuisUniversity-4383.image priorSource: 18587007!

----STARTUP---- (29 October 2020 17:06:55) as /home/grosinov/linux64/CuisUniversity-4383.image!


TestCase subclass: #TerniLapilliTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilliTest category: 'Terni Lapilli' stamp: 'GR 10/29/2020 17:19:51'!
TestCase subclass: #TerniLapilliTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilliTest methodsFor: 'nil' stamp: 'GR 10/29/2020 17:41:06'!
test01XCanPlaceAPieceInXTurnOnEmptyPosition! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 17:41:31'!
test02XCanNotPlaceAPieceInOTurn! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 17:41:53'!
test01XCanPlaceAPieceInItsTurnOnEmptyPosition! !

!methodRemoval: TerniLapilliTest #test01XCanPlaceAPieceInXTurnOnEmptyPosition stamp: 'GR 10/29/2020 17:41:53'!
test01XCanPlaceAPieceInXTurnOnEmptyPosition!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 17:44:35'!
test03XCanMoveAPieceToEmptyPosition! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 17:46:06'!
test03OCanPlaceAPieceInItsTurnOnEmptyPosition! !

!methodRemoval: TerniLapilliTest #test03XCanMoveAPieceToEmptyPosition stamp: 'GR 10/29/2020 17:46:12'!
test03XCanMoveAPieceToEmptyPosition!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:04:31'!
test01GameStartsWithXTurn! !

!methodRemoval: TerniLapilliTest #test01XCanPlaceAPieceInItsTurnOnEmptyPosition stamp: 'GR 10/29/2020 18:04:31'!
test01XCanPlaceAPieceInItsTurnOnEmptyPosition!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:04:49'!
test02AfterXTurnIsOTurn! !

!methodRemoval: TerniLapilliTest #test02XCanNotPlaceAPieceInOTurn stamp: 'GR 10/29/2020 18:04:49'!
test02XCanNotPlaceAPieceInOTurn!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/29/2020 18:13:37'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:12:11' prior: 50912550!
test01GameStartsWithXTurn

	| juego |

	juego := TerniLapilli new.
	
	self assert: juego isPlayingX.! !

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:13:43'!
ERROR!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:13:43'!
ERROR!
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 18:13:50'!
isPlayingX
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 18:14:02' prior: 50912587!
isPlayingX
	
	^turn = 'X'! !

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:14:34'!
FAILURE!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:15:22' prior: 50912575!
test01GameStartsWithXTurn

	| juego |

	juego := TerniLapilli new.
	
	self assert: juego isPlayingX.! !
!TerniLapilli methodsFor: 'nil' stamp: 'GR 10/29/2020 18:19:27' overrides: 16896425!
initialize

	turn := 'X'.
	occupiedPositions  := OrderedCollection new.! !

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:19:41'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:19:43'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:21:05' prior: 50912559!
test02AfterXTurnIsOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: juego isPlayingO.
	self deny: juego isPlayingX.! !

!testRun: #TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:21:10'!
ERROR!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 18:21:43'!
putXAt: aPoint 
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 18:22:08' prior: 50912628!
putXAt: aPoint 
	
	turn := 'O'! !

!testRun: #TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:22:10'!
ERROR!
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 18:22:16'!
isPlayingO
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 18:22:28' prior: 50912640!
isPlayingO
	
	^self isPlayingX not! !
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 18:22:39' prior: 50912644!
isPlayingO
	
	^turn := 'O'! !

!testRun: #TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:22:45'!
ERROR!

!testRun: #TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:23:07'!
ERROR!
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 18:23:21' prior: 50912648!
isPlayingO
	
	^turn = 'O'! !

!testRun: #TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:23:22'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:23:22'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:23:22'!
PASSED!

!testRun: #TerniLapilliTest #test03OCanPlaceAPieceInItsTurnOnEmptyPosition stamp: 'GR 10/29/2020 18:23:22'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:23:55'!
test03AfterOTurnIsXTurn! !

!methodRemoval: TerniLapilliTest #test03OCanPlaceAPieceInItsTurnOnEmptyPosition stamp: 'GR 10/29/2020 18:23:55'!
test03OCanPlaceAPieceInItsTurnOnEmptyPosition!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:23:59' prior: 50912675!
test03AfterOTurnIsXTurn

	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:24:06' prior: 50912685!
test03AfterOTurnIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: juego isPlayingO.
	self deny: juego isPlayingX.! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:24:24' prior: 50912690!
test03AfterOTurnIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@0).
	
	self deny: juego isPlayingO.
	self assert: juego isPlayingX.! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:24:32' prior: 50912699!
test03AfterOTurnIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@0).
	
	self assert: juego isPlayingX.
	self deny: juego isPlayingO.! !

!testRun: #TerniLapilliTest #test03AfterOTurnIsXTurn stamp: 'GR 10/29/2020 18:24:34'!
ERROR!

!testRun: #TerniLapilliTest #test03AfterOTurnIsXTurn stamp: 'GR 10/29/2020 18:24:34'!
ERROR!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 18:24:44'!
putOAt: aPoint 
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 18:24:52' prior: 50912722!
putOAt: aPoint 
	
	turn := 'X'! !

!testRun: #TerniLapilliTest #test03AfterOTurnIsXTurn stamp: 'GR 10/29/2020 18:24:54'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOTurnIsXTurn stamp: 'GR 10/29/2020 18:24:58'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:24:58'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:24:58'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOTurnIsXTurn stamp: 'GR 10/29/2020 18:24:58'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:25:10' prior: 50912708!
test03AfterOTurnIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self assert: juego isPlayingX.
	self deny: juego isPlayingO.! !

!testRun: #TerniLapilliTest #test03AfterOTurnIsXTurn stamp: 'GR 10/29/2020 18:25:11'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:25:11'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:25:11'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOTurnIsXTurn stamp: 'GR 10/29/2020 18:25:11'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:33:07'!
test04XCanPlacePieceInEmptyPosition

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self assert: juego isPlayingX.
	self deny: juego isPlayingO.! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:34:03' prior: 50912768!
test04XCanPlacePieceInEmptyPosition

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: (0@0)! !

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn '
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/29/2020 18:34:42'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/29/2020 18:48:41'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:51:50'!
test03AfterOPlaysIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self assert: juego isPlayingX.
	self deny: juego isPlayingO.! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:52:55' prior: 50912809!
test03AfterOPlaysIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self assert: juego isPlayingX.
	self deny: juego isPlayingO.
	self assert: (juego isOccupied: (0@1))! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:53:09'!
test02AfterXPlaysIsOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: juego isPlayingO.
	self deny: juego isPlayingX.! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:53:16' prior: 50912828!
test02AfterXPlaysIsOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: juego isPlayingO.
	self deny: juego isPlayingX.
	self assert: (juego isOccupied: (0@0))! !

!methodRemoval: TerniLapilliTest #test02AfterXTurnIsOTurn stamp: 'GR 10/29/2020 18:53:22'!
test02AfterXTurnIsOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: juego isPlayingO.
	self deny: juego isPlayingX.!

!methodRemoval: TerniLapilliTest #test03AfterOTurnIsXTurn stamp: 'GR 10/29/2020 18:53:26'!
test03AfterOTurnIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self assert: juego isPlayingX.
	self deny: juego isPlayingO.!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 18:53:42'!
ERROR!
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 18:53:52'!
isOccupied: aPoint 
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 18:54:05' prior: 50912865!
isOccupied: aPoint 
	
	^occupiedPositions includes: aPoint! !

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 18:54:09'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 18:54:40' prior: 50912633!
putXAt: aPoint 
	
	occupiedPositions add: aPoint.
	turn := 'O'! !

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 18:54:42'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:54:42'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 18:54:42'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 18:54:42'!
FAILURE!

!testRun: #TerniLapilliTest #test04XCanPlacePieceInEmptyPosition stamp: 'GR 10/29/2020 18:54:42'!
ERROR!

!methodRemoval: TerniLapilliTest #test04XCanPlacePieceInEmptyPosition stamp: 'GR 10/29/2020 18:54:55'!
test04XCanPlacePieceInEmptyPosition

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: (0@0)!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 18:54:58'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 18:55:19' prior: 50912727!
putOAt: aPoint 
	
	occupiedPositions add: aPoint.
	turn := 'X'! !

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 18:55:27'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:55:27'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 18:55:27'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 18:55:27'!
PASSED!
!TerniLapilli methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:55:36' prior: 50912605 overrides: 16896425!
initialize

	turn := 'X'.
	occupiedPositions  := Set new.! !

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 18:55:45'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:55:45'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 18:55:45'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 18:55:45'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:57:59'!
test04xCanNotPlayInOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putXAt: (0@1).
	
	self assert: juego isPlayingX.
	self deny: juego isPlayingO.
	self assert: (juego isOccupied: (0@1))! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:58:21' prior: 50912944!
test04xCanNotPlayInOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putXAt: (0@1).
	
	self assert: (juego isOccupied: (0@1)) not! !

!testRun: #TerniLapilliTest #test04xCanNotPlayInOTurn stamp: 'GR 10/29/2020 18:58:22'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 18:58:55' prior: 50912878!
putXAt: aPoint 
	
	self isPlayingX ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'O' ]! !

!testRun: #TerniLapilliTest #test04xCanNotPlayInOTurn stamp: 'GR 10/29/2020 18:58:57'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 18:58:57'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 18:58:57'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 18:58:57'!
PASSED!

!testRun: #TerniLapilliTest #test04xCanNotPlayInOTurn stamp: 'GR 10/29/2020 18:58:57'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:59:06'!
test04XCanNotPlayInOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putXAt: (0@1).
	
	self assert: (juego isOccupied: (0@1)) not! !

!methodRemoval: TerniLapilliTest #test04xCanNotPlayInOTurn stamp: 'GR 10/29/2020 18:59:06'!
test04xCanNotPlayInOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putXAt: (0@1).
	
	self assert: (juego isOccupied: (0@1)) not!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:59:45'!
test05OCanNotPlayInXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putOAt: (1@1).
		
	self assert: (juego isOccupied: (0@1)) not! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 18:59:48' prior: 50913003!
test05OCanNotPlayInXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putOAt: (1@1).
		
	self assert: (juego isOccupied: (1@1)) not! !

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 18:59:50'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:00:09' prior: 50912909!
putOAt: aPoint 
	
	self isPlayingO ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'X' ]! !

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:00:10'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:00:10'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:00:10'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:00:10'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:00:10'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:00:10'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:02:38'!
test06CanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putOAt: (1@1).
		
	self assert: (juego isOccupied: (1@1)) not! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:05:41' prior: 50913048!
test06CanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (4@0).
		
	self assert: (juego isOccupied: (4@1)) not! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:06:22' prior: 50912599!
test01GameStartsWithXTurn

	| juego |

	juego := TerniLapilli new.
	
	self assert: juego isPlayingX.
	self assert: juego isEmpty.! !

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:06:28'!
ERROR!
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 19:06:33'!
isEmpty
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/29/2020 19:06:48' prior: 50913076!
isEmpty
	
	^occupiedPositions isEmpty.! !

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:06:50'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:06:50'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:06:50'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:06:50'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:06:50'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:06:50'!
PASSED!

!testRun: #TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:06:50'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:06:59' prior: 50913058!
test06CanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (4@0).
		
	self assert: (juego isOccupied: (4@0)) not! !

!testRun: #TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:07:00'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:08:25' prior: 50912966!
putXAt: aPoint 
	
	(self isPlayingX and: ((0@0) eightNeighbors includes: aPoint)) 
		ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'O' ]! !

!testRun: #TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:08:26'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:08:26'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:08:26'!
FAILURE!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:08:26'!
FAILURE!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:08:26'!
FAILURE!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:08:26'!
PASSED!

!testRun: #TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:08:26'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:08:40'!
FAILURE!

!testRun: #TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:09:16'!
FAILURE!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:09:16'!
FAILURE!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:09:16'!
FAILURE!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:09:18'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:09:54' prior: 50913117!
putXAt: aPoint 
	
	(self isPlayingX and: (((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0))) 
		ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'O' ]! !

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:09:55'!
PASSED!

!testRun: #TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:09:59'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:09:59'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:09:59'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:09:59'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:09:59'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:09:59'!
PASSED!

!testRun: #TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:09:59'!
PASSED!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:15:07' prior: 50913175!
putXAt: aPoint 
	
	(self isPlayingX and: (((0@0) eightNeighbors includes: aPoint) or: (aPoint = (0@0)))) 
		ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'O' ]! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:16:02' prior: 50913208!
putXAt: aPoint 
	
	(self isPlayingX and: (0@0) eightNeighbors includes: aPoint or: aPoint = (0@0)) 
		ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'O' ]! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:16:52' prior: 50913216!
putXAt: aPoint 
	
	(self isPlayingX and: ((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0)) 
		ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'O' ]! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:17:08' prior: 50913224!
putXAt: aPoint 
	
	(self isPlayingX and: (((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0))) 
		ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'O' ]! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:17:49' prior: 50913232!
putXAt: aPoint 
	
	(self isPlayingX and: (self isAValidPosition: aPoint)) 
		ifTrue: [
	occupiedPositions add: aPoint.
	turn := 'O' ]! !

0@0!
!TerniLapilli methodsFor: 'nil' stamp: 'GR 10/29/2020 19:18:09'!
isAValidPosition: aPoint

	^((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0)! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:19:49'!
test06XCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (4@0).
		
	self assert: (juego isOccupied: (4@0)) not! !

!methodRemoval: TerniLapilliTest #test06CanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:19:49'!
test06CanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (4@0).
		
	self assert: (juego isOccupied: (4@0)) not!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:19:57'!
test06OCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putOAt: (4@0).
		
	self assert: (juego isOccupied: (4@0)) not! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:20:05'!
test07OCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putOAt: (4@0).
		
	self assert: (juego isOccupied: (4@0)) not! !

!methodRemoval: TerniLapilliTest #test06OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:20:05'!
test06OCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putOAt: (4@0).
		
	self assert: (juego isOccupied: (4@0)) not!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:20:08'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:20:08'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:20:08'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:20:08'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:20:08'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:20:08'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:20:08'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:20:08'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:21:05' prior: 50913277!
test07OCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (4@0).
		
	self assert: (juego isOccupied: (4@0)) not! !

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:21:08'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:23:43' prior: 50913024!
putOAt: aPoint 
	
	self isPlayingX ifTrue: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPoint) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.
	turn := 'X'! !

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:23:47'!
ERROR!
!TerniLapilli class methodsFor: 'error handling' stamp: 'GR 10/29/2020 19:23:56'!
canNotPlacePieceInInvalidPosition
	self shouldBeImplemented.! !
!TerniLapilli class methodsFor: 'error handling' stamp: 'GR 10/29/2020 19:24:32' prior: 50913345!
canNotPlacePieceInInvalidPosition
	
	^ 'You are placing a piece in an invalid position!!'! !

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:24:34'!
ERROR!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:28:15' prior: 50913319!
test07OCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self 
		should: [ juego putOAt: (4@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError errorMessage)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:28:31' prior: 50913361!
test07OCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self 
		should: [ juego putOAt: (4@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:28:42' prior: 50913374!
test07OCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self 
		should: [ juego putOAt: (4@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:29:04' prior: 50913253!
test06XCanNotPlacePieceOutsideTheBoard

	| juego |
	
	juego := TerniLapilli new.
		
	self 
		should: [ juego putXAt: (4@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:29:28' prior: 50913012!
test05OCanNotPlayInXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putOAt: (1@1).
		! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:29:50' prior: 50913412!
test05OCanNotPlayInXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self 
		should: [ juego putOAt: (1@1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:30:04' prior: 50913420!
test05OCanNotPlayInXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self 
		should: [ juego putOAt: (1@1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli  = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:30:24' prior: 50913433!
test05OCanNotPlayInXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self 
		should: [ juego putOAt: (1@1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlayInOthersTurn = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:30:42' prior: 50913445!
test05OCanNotPlayInXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	self 
		should: [ juego putOAt: (1@1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlayInOthersTurn = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:31:09' prior: 50912987!
test04XCanNotPlayInOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self 
		should: [ juego putXAt: (0@1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlayInOthersTurn = anError messageText)
			]! !

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:31:12'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:32:54' prior: 50913240!
putXAt: aPoint 
	
	self isPlayingO ifTrue: [ self error: TerniLapilli canNotPlayInOthersTurn].
	
	( self isAValidPosition: aPoint ) ifFalse: [self Error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.
	turn := 'O'.! !

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:32:56'!
ERROR!
!TerniLapilli class methodsFor: 'error handling' stamp: 'GR 10/29/2020 19:33:10'!
canNotPlayInOthersTurn
	self shouldBeImplemented.! !
!TerniLapilli class methodsFor: 'error handling' stamp: 'GR 10/29/2020 19:33:42' prior: 50913498!
canNotPlayInOthersTurn
	
	^ 'You can not play in the other player`s turn!!'! !

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:33:43'!
FAILURE!
!TerniLapilli class methodsFor: 'error handling' stamp: 'GR 10/29/2020 19:34:15' prior: 50913503!
canNotPlayInOthersTurn
	
	^ 'You can not play in the other player turn!!'! !

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:34:17'!
FAILURE!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:35:09'!
FAILURE!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:35:27'!
PASSED!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:35:52' prior: 50913484!
putXAt: aPoint 
	
	self isPlayingO ifTrue: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	( self isAValidPosition: aPoint ) ifFalse: [self Error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.
	turn := 'O'.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:36:13' prior: 50913527!
putXAt: aPoint 
	
	self isPlayingO ifTrue: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	( self isAValidPosition: aPoint ) ifFalse: [self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.
	turn := 'O'.! !

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:36:15'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:36:18'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:36:18'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:36:18'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:36:18'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:36:18'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:36:18'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:36:18'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:36:18'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:36:27'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:36:27'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:36:27'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:36:27'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:36:27'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:36:27'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:36:27'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:36:27'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:38:37'!
test08XCanNotPlacePieceOnOccupiedPosition

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self 
		should: [ juego putOAt: (4@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:38:55' prior: 50913602!
test08XCanNotPlacePieceOnOccupiedPosition

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@0).
	
	self 
		should: [ juego putOAt: (4@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]! !

!testRun: #TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 19:39:08'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:39:08'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:39:08'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:39:08'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:39:08'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:39:08'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:39:08'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:39:08'!
PASSED!

!testRun: #TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 19:39:08'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:39:22' prior: 50913615!
test08XCanNotPlacePieceOnOccupiedPosition

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self 
		should: [ juego putXAt: (0@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]! !

!testRun: #TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 19:39:24'!
FAILURE!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 19:41:42' prior: 50913247!
isAValidPosition: aPoint

	^(((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0)) and: (occupiedPositions includes: aPoint) not! !

!testRun: #TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 19:41:54'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:41:54'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:41:54'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:41:54'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:41:54'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:41:54'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:41:54'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:41:54'!
PASSED!

!testRun: #TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 19:41:54'!
PASSED!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:50:24'!
placesAPieceIn: aPoint

	self isPlayingX ifTrue: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPoint) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.
	turn := 'X'! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:50:24' prior: 50913331!
putOAt: aPoint 
	
	self placesAPieceIn: aPoint! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:51:13'!
thePlayer: aPlayer placesAPieceIn: aPoint

	self isPlayingX ifTrue: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPoint) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.
	turn := 'X'! !
!TerniLapilli methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 19:51:13' prior: 50913722!
putOAt: aPoint 
	
	self thePlayer: aPlayer placesAPieceIn: aPoint! !

!methodRemoval: TerniLapilli #placesAPieceIn: stamp: 'GR 10/29/2020 19:51:13'!
placesAPieceIn: aPoint

	self isPlayingX ifTrue: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPoint) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.
	turn := 'X'!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:51:36' prior: 50913738!
putOAt: aPoint 
	
	self thePlayer: 'O' placesAPieceIn: aPoint! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:53:51' prior: 50913726!
thePlayer: aPlayer placesAPieceIn: aPoint

	self isPlayingX ifTrue: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPoint) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:53:57' prior: 50913754!
putOAt: aPoint 
	
	self thePlayer: 'O' placesAPieceIn: aPoint.
	turn := 'X'.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:54:42' prior: 50913759!
thePlayer: aPlayer placesAPieceIn: aPoint

	(self isPlaying: aPlayer) ifFalse: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPoint) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 19:56:10' prior: 50913538!
putXAt: aPoint 
	
	self thePlayer: 'X' placesAPieceIn: aPoint.
	turn := 'O'.! !

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:57:08'!
FAILURE!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:57:20'!
FAILURE!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/29/2020 19:58:05'!
isPlaying: aString 
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/29/2020 19:58:25' prior: 50913801!
isPlaying: aPlayer

	^ turn = aPlayer
	
	! !

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:58:30'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 19:58:30'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 19:58:30'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 19:58:30'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 19:58:30'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 19:58:30'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:58:30'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 19:58:30'!
PASSED!

!testRun: #TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 19:58:30'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:00:30' prior: 50912818!
test03AfterOPlaysIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self assert: (juego isPlaying: #X).
	self deny: (juego isPlaying: #O).
	self assert: (juego isOccupied: (0@1))! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:00:43' prior: 50912837!
test02AfterXPlaysIsOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: (juego isPlaying: #O).
	self deny: (juego isPlaying: #X).
	self assert: (juego isOccupied: (0@0))! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:00:49' prior: 50913066!
test01GameStartsWithXTurn

	| juego |

	juego := TerniLapilli new.
	
	self assert: (juego isPlaying: #X).
	self assert: juego isEmpty.! !
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 10/29/2020 20:01:21' prior: 50912927 overrides: 16896425!
initialize

	turn := #X.
	occupiedPositions  := Set new.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:01:30' prior: 50913771!
putOAt: aPoint 
	
	self thePlayer: 'O' placesAPieceIn: aPoint.
	turn := #X.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:01:46' prior: 50913789!
putXAt: aPoint 
	
	self thePlayer: #X placesAPieceIn: aPoint.
	turn := #O.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:01:53' prior: 50913874!
putOAt: aPoint 
	
	self thePlayer: #O placesAPieceIn: aPoint.
	turn := #X.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:02:37' prior: 50913675!
isAValidPosition: aPoint

	^(((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0)) and: (occupiedPositions includes: aPoint) not! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:03:21' prior: 50913892!
isAValidPosition: aPoint

	^(((0@0) eightNeighbors add: (0@0)) includes: aPoint) and: (occupiedPositions includes: aPoint) not! !

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:03:27'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 20:03:27'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 20:03:27'!
ERROR!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 20:03:27'!
ERROR!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:03:27'!
ERROR!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:03:27'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:03:27'!
FAILURE!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:03:27'!
ERROR!

!testRun: #TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 20:03:27'!
ERROR!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 20:03:31'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:04:27' prior: 50913899!
isAValidPosition: aPoint
	
	| positions |
	
	positions := (0@0) eightNeighbors add: (0@0).
	
	^(positions includes: aPoint) and: (occupiedPositions includes: aPoint) not! !

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:04:31'!
ERROR!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:04:40'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:05:03' prior: 50913937!
isAValidPosition: aPoint
	
	| positions |
	
	positions := (0@0) eightNeighbors.
	positions add: (0@0).
	
	^(positions includes: aPoint) and: (occupiedPositions includes: aPoint) not! !

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:05:04'!
ERROR!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:05:11'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:05:27' prior: 50913951!
isAValidPosition: aPoint
	
	| positions |
	
	positions := (0@0) eightNeighbors.
	positions addLast: (0@0).
	
	^(positions includes: aPoint) and: (occupiedPositions includes: aPoint) not! !

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:05:37'!
FAILURE!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:06:18'!
FAILURE!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:06:33'!
FAILURE!

Array!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:08:24' prior: 50913966!
isAValidPosition: aPoint
	
	| positions |
	
	positions := (0@0) eightNeighbors.
	positions addLast: (0@0).
	
	^(positions includes: aPoint) and: (occupiedPositions includes: aPoint) not! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:02:37' prior: 50913986!
isAValidPosition: aPoint

	^(((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0)) and: (occupiedPositions includes: aPoint) not! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 19:41:42' prior: 50913995!
isAValidPosition: aPoint

	^(((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0)) and: (occupiedPositions includes: aPoint) not! !

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 20:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 20:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 20:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:09:16'!
PASSED!

!testRun: #TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 20:09:16'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:09:51'!
test08CanNotPlacePieceOnOccupiedPosition

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self 
		should: [ juego putXAt: (0@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]! !

!methodRemoval: TerniLapilliTest #test08XCanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 20:09:51'!
test08XCanNotPlacePieceOnOccupiedPosition

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self 
		should: [ juego putXAt: (0@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlacePieceInInvalidPosition = anError messageText)
			]!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:12:27'!
test09EachPlayerCanNotPlaceMoreThanThreePieces

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego putXAt: (1@-1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlaceMoreThanThreePieces = anError messageText)
			]! !

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:12:40'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:15:00' prior: 50913777!
thePlayer: aPlayer placesAPieceIn: aPoint

	(self totalPiecesPlayed = 6) ifTrue: [self error: TerniLapilli canNotPlaceMoreThanThreePieces].
	
	(self isPlaying: aPlayer) ifFalse: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPoint) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	occupiedPositions add: aPoint.! !

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:15:02'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:15:16'!
totalPiecesPlayed
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:15:24' prior: 50914102!
totalPiecesPlayed
	
	^ occupiedPositions size.! !

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:15:29'!
ERROR!
!TerniLapilli class methodsFor: 'error handling' stamp: 'GR 10/29/2020 20:15:41'!
canNotPlaceMoreThanThreePieces
	self shouldBeImplemented.! !
!TerniLapilli class methodsFor: 'error handling' stamp: 'GR 10/29/2020 20:15:58' prior: 50914115!
canNotPlaceMoreThanThreePieces
	
	^ 'You can not play more than three pieces!!'! !

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:15:59'!
FAILURE!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:18:31'!
PASSED!

!methodRemoval: TerniLapilli #isPlayingO stamp: 'GR 10/29/2020 20:19:15'!
isPlayingO
	
	^turn = 'O'!

!methodRemoval: TerniLapilli #isPlayingX stamp: 'GR 10/29/2020 20:19:18'!
isPlayingX
	
	^turn = 'X'!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:20:59'!
test10PlayerCanMoveAPieceToValidPosition
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego putXAt: (1@-1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlaceMoreThanThreePieces = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:21:01' prior: 50914169!
test10PlayerCanMoveAPieceToValidPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego putXAt: (1@-1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlaceMoreThanThreePieces = anError messageText)
			]! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:23:08' prior: 50914185!
test10PlayerCanMoveAPieceToValidPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0).
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:23:54' prior: 50914201!
test10PlayerCanMoveAPieceToValidPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0).
	
	self assert: (juego isOccupied: (-1@0)).
	self deny: (juego isOccupied: (0@0)).
	! !

!testRun: #TerniLapilliTest #test10PlayerCanMoveAPieceToValidPosition stamp: 'GR 10/29/2020 20:23:58'!
ERROR!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:24:09'!
thePlayer: aSymbol movesThePieceIn: aPoint To: aPoint3 
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:24:51' prior: 50914232!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition 
	
	! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:24:57' prior: 50914238!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:25:51' prior: 50914244!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	occupiedPositions remove: aPosition ifAbsent: [].! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:26:08' prior: 50914250!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	occupiedPositions remove: aPosition ifAbsent: [].
	occupiedPositions add: anotherPosition.! !

!testRun: #TerniLapilliTest #test10PlayerCanMoveAPieceToValidPosition stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:26:09'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanMoveAPieceToValidPosition stamp: 'GR 10/29/2020 20:26:09'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:27:24'!
test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	juego thePlayer: #X movesThePieceIn: (-1@0) To: (-1@-1).
	
	self assert: (juego isOccupied: (-1@0)).
	self deny: (juego isOccupied: (0@0)).
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:27:33' prior: 50914301!
test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	
	juego thePlayer: #X movesThePieceIn: (-1@0) To: (-1@-1).
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:28:37' prior: 50914316!
test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@0) To: (-1@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotPlaceMoreThanThreePieces = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:29:22' prior: 50914329!
test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@0) To: (-1@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 20:29:24'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:30:03' prior: 50914257!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	occupiedPositions add: anotherPosition.! !

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 20:30:04'!
ERROR!
!TerniLapilli class methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:30:14'!
canNotDoAnInvalidMove
	self shouldBeImplemented.! !
!TerniLapilli class methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:30:50' prior: 50914381!
canNotDoAnInvalidMove
	
	^ 'You can not do that move!!'! !

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 20:30:52'!
FAILURE!

----SNAPSHOT----(29 October 2020 20:31:03) CuisUniversity-4383.image priorSource: 18587194!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanMoveAPieceToValidPosition stamp: 'GR 10/29/2020 20:31:05'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 20:31:05'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:31:48'!
test11PlayerCanNotMoveAPieceToAnOccupiedPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@0) To: (-1@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:31:57' prior: 50914438!
test11PlayerCanNotMoveAPieceToAnOccupiedPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) To: (0@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 20:32:00'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:33:26' prior: 50914368!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanMoveAPieceToValidPosition stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 20:33:29'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 20:33:29'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:33:51'!
test11PlayerCanNotMoveAPieceOutsideTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) To: (0@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:33:55' prior: 50914533!
test11PlayerCanNotMoveAPieceOutsideTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) To: (0@4). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 20:33:56'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:34:55' prior: 50914476!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanMoveAPieceToValidPosition stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 20:35:06'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 20:35:06'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:35:40'!
test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@0) To: (-1@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!methodRemoval: TerniLapilliTest #test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 20:35:40'!
test11PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@0) To: (-1@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:35:46'!
test13PlayerCanNotMoveAPieceToAnOccupiedPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) To: (0@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!methodRemoval: TerniLapilliTest #test11PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 20:35:46'!
test11PlayerCanNotMoveAPieceToAnOccupiedPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) To: (0@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:36:25'!
test10PlayerCanMoveAPieceToEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0).
	
	self assert: (juego isOccupied: (-1@0)).
	self deny: (juego isOccupied: (0@0)).
	! !

!methodRemoval: TerniLapilliTest #test10PlayerCanMoveAPieceToValidPosition stamp: 'GR 10/29/2020 20:36:25'!
test10PlayerCanMoveAPieceToValidPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0).
	
	self assert: (juego isOccupied: (-1@0)).
	self deny: (juego isOccupied: (0@0)).
	!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:41:38' prior: 50914702!
test10PlayerCanMoveAPieceToEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0).
	
	self assert: (juego isOccupied: (-1@0)).
	self deny: (juego isOccupied: (0@0)).
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:41:49' prior: 50914732!
test10PlayerCanMoveAPieceToEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0).
	
	self assert: (juego isOccupied: (-1@0)).
	self deny: (juego isOccupied: (0@0)).
	
	! !

0 positive!

0 negative !

!methodRemoval: TerniLapilliTest #test10PlayerCanMoveAPieceToEmptyPosition stamp: 'GR 10/29/2020 20:44:44'!
test10PlayerCanMoveAPieceToEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0).
	
	self assert: (juego isOccupied: (-1@0)).
	self deny: (juego isOccupied: (0@0)).
	
	!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:46:58'!
test10PlayerCanNotDoMoreThanOnePosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) To: (0@4). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:47:35' prior: 50914777!
test10PlayerCanNotDoMoreThanOnePosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@-1) To: (0@1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 20:47:52' prior: 50914794!
test10PlayerCanNotDoMoreThanOnePosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@-1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@-1) To: (0@1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test10PlayerCanNotDoMoreThanOnePosition stamp: 'GR 10/29/2020 20:48:12'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:51:04' prior: 50914570!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !

!testRun: #TerniLapilliTest #test10PlayerCanNotDoMoreThanOnePosition stamp: 'GR 10/29/2020 20:51:26'!
FAILURE!

!testRun: #TerniLapilliTest #test10PlayerCanNotDoMoreThanOnePosition stamp: 'GR 10/29/2020 20:51:37'!
FAILURE!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:52:13'!
isValidMoveFrom: aPoint to: aPoint2 
	self shouldBeImplemented.! !

	(0@1)-(1@2)!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:55:26' prior: 50914858!
isValidMoveFrom: aPosition to: anotherPosition
	
	(aPosition - anotherPosition) abs .
	
	! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:56:18' prior: 50914864!
isValidMoveFrom: aPosition to: anotherPosition
	
	(aPosition - anotherPosition) abs > (1@1) ifTrue: [self error: TerniLapilli canNotDoAnInvalidMove ].
	
	! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:57:21' prior: 50914831!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:57:31' prior: 50914878!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:57:34' prior: 50914895!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !

!testRun: #TerniLapilliTest #test10PlayerCanNotDoMoreThanOnePosition stamp: 'GR 10/29/2020 20:57:38'!
FAILURE!

!testRun: #TerniLapilliTest #test10PlayerCanNotDoMoreThanOnePosition stamp: 'GR 10/29/2020 20:57:41'!
FAILURE!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/29/2020 20:58:22' prior: 50914912!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:58:35' prior: 50914870!
isValidMoveFrom: aPosition to: anotherPosition
	
	(aPosition - anotherPosition) abs > (1@1) ifTrue: [self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 20:58:44' prior: 50914952!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(aPosition - anotherPosition) abs > (1@1) ifTrue: [self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 21:01:31' prior: 50914967!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(self distanceIsGreaterThanOneGoingFrom: aPosition to: anotherPosition) ifTrue: [self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/29/2020 21:02:13'!
distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition

	^(aPosition - anotherPosition) abs > (1@1)! !

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotDoMoreThanOnePosition stamp: 'GR 10/29/2020 21:02:24'!
FAILURE!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 21:02:24'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 21:02:24'!
FAILURE!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 21:02:24'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 21:02:51'!
test10PlayerCanNotMoveMoreThanOnePosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@-1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@-1) To: (0@1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!methodRemoval: TerniLapilliTest #test10PlayerCanNotDoMoreThanOnePosition stamp: 'GR 10/29/2020 21:02:51'!
test10PlayerCanNotDoMoreThanOnePosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@-1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@-1) To: (0@1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:02:53'!
FAILURE!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 21:03:38' prior: 50914982!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	! !

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:03:41'!
FAILURE!

aPosition - anotherPosition!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/29/2020 21:06:04' prior: 50914997!
distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition

	^((aPosition - anotherPosition) abs < (1@1)) not! !

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 21:06:12'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 21:06:12'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 21:08:19'!
test14PlayerCanNotMoveFromAnEdgeToOtherEdge
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) To: (0@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 21:10:28' prior: 50915162!
test14PlayerCanNotMoveFromAnEdgeToOtherEdge
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@-1) To: (1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 21:10:40'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/29/2020 21:10:40'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 21:16:40' prior: 50915179!
test14PlayerCanNotMoveFromAnEdgeToOtherEdge
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@1) To: (1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 21:16:42'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/29/2020 21:16:42'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 21:19:37' prior: 50915247!
test14PlayerCanNotMoveFromAnEdgeToOtherEdge
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@1) To: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 21:19:38'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/29/2020 21:19:38'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 21:22:20' prior: 50915315!
test14PlayerCanNotMoveFromAnEdgeToOtherEdge
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@1) To: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 21:38:01'!
test15PlayerCanMoveFromCenterToAnyEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/29/2020 21:38:04'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/29/2020 21:38:04'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/29/2020 21:38:55' prior: 50915400!
test15PlayerCanMoveFromCenterToAnyEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego thePlayer: #X movesThePieceIn: (0@0) To: (-1@0).
	
	self assert: (juego isOccupied: (-1@0))
	
	! !

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/29/2020 21:38:57'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 21:39:56' prior: 50915088!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	! !

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/29/2020 21:40:07'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/29/2020 21:40:07'!
PASSED!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 21:43:25' prior: 50915489!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [self error: TerniLapilli canNotDoAnInvalidMove ].
	
	
	
	! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 21:45:38' prior: 50915561!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/29/2020 21:47:24' prior: 50915578!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !

----SNAPSHOT----(29 October 2020 21:49:51) CuisUniversity-4383.image priorSource: 18647794!

----QUIT----(29 October 2020 21:52:22) CuisUniversity-4383.image priorSource: 18686554!

----STARTUP---- (31 October 2020 15:11:36) as /home/grosinov/linux64/CuisUniversity-4383.image!


!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:13:05'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:13:05'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 15:17:43'!
test16PlayerCanMoveFromCornerToAdjacentEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego thePlayer: #X movesThePieceIn: (-1@1) To: (-1@0).
	
	self assert: (juego isOccupied: (-1@0))
	
	! !

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:17:44'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:18:00'!
ERROR!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 15:18:48' prior: 50915108!
distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition

	^((aPosition - anotherPosition) abs <= (1@1)) not! !

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:19:51'!
FAILURE!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:19:51'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:19:51'!
FAILURE!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:19:54'!
FAILURE!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:19:54'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:19:54'!
FAILURE!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:20:28'!
FAILURE!

	(0@1) ~= (0@2)!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:23:23' prior: 50915592!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	((aPosition x ~= anotherPosition x) and: (aPosition y ~= anotherPosition y)) ifTrue: [ ^false ]
	
	^true
	
	
	
	! !

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:23:25'!
FAILURE!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:23:37'!
FAILURE!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:23:54' prior: 50915827!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	((aPosition x ~= anotherPosition x) and: (aPosition y ~= anotherPosition y)) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:24:02' prior: 50915851!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	((aPosition x ~= anotherPosition x) and: (aPosition y ~= anotherPosition y)) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:24:29'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:24:29'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 15:25:14'!
test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@1) To: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!methodRemoval: TerniLapilliTest #test14PlayerCanNotMoveFromAnEdgeToOtherEdge stamp: 'GR 10/31/2020 15:25:14'!
test14PlayerCanNotMoveFromAnEdgeToOtherEdge
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@1) To: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:27:15' prior: 50915868!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition x ~= anotherPosition x and: (aPosition y ~= anotherPosition y)) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:27:40'!
doesADiagonalMoveGoingFrom: anotherPosition to: aPosition

	^ aPosition x ~= anotherPosition x and: (aPosition y ~= anotherPosition y)! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:27:40' prior: 50915978!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(occupiedPositions includes: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	(self doesADiagonalMoveGoingFrom: anotherPosition to: aPosition) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:27:54'!
PASSED!
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 15:32:20'!
test17PlayerCanNotMoveAPieceThatIsNotThere
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@-1) To: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!testRun: #TerniLapilliTest #test17PlayerCanNotMoveAPieceThatIsNotThere stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerCanNotMoveAPieceThatIsNotThere stamp: 'GR 10/31/2020 15:32:24'!
PASSED!

!methodRemoval: TerniLapilliTest #test17PlayerCanNotMoveAPieceThatIsNotThere stamp: 'GR 10/31/2020 15:33:09'!
test17PlayerCanNotMoveAPieceThatIsNotThere
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@-1) To: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	!

('S'@4)!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn occupiedXPositions occupiedOPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 15:40:29'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn occupiedXPositions occupiedOPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:40:36'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:40:36'!
PASSED!
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 10/31/2020 15:41:04' prior: 50913869 overrides: 16896425!
initialize

	turn := #X.
	occupiedXPositions  := Set new.
	occupiedOPositions  := Set new.! !

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:41:12'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:41:34' prior: 50914107!
totalPiecesPlayed
	
	^ occupiedXPositions size + occupiedOPositions size.! !

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:41:39'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:43:37' prior: 50914002!
isAValidPosition: aPoint

	^(((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0)) and: ((occupiedXPositions includes: aPoint) and: (occupiedXPositions includes: aPoint)) not! !

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:43:50'!
ERROR!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 15:45:00' prior: 50914084!
thePlayer: aPlayer placesAPieceIn: aPoint

	(self totalPiecesPlayed = 6) ifTrue: [self error: TerniLapilli canNotPlaceMoreThanThreePieces].
	
	(self isPlaying: aPlayer) ifFalse: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPoint) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	(aPlayer = #X) 
		ifTrue: [ occupiedXPositions add: aPoint ]
		ifFalse: [ occupiedOPositions add: aPoint ].! !

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:45:17'!
FAILURE!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:45:31'!
FAILURE!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:46:49' prior: 50916002!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	((occupiedXPositions includes: anotherPosition) or: (occupiedOPositions includes: anotherPosition)) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	(self doesADiagonalMoveGoingFrom: anotherPosition to: aPosition) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:47:27'!
ERROR!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:47:27'!
ERROR!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:47:27'!
ERROR!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:47:27'!
FAILURE!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 15:47:27'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:47:27'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:47:27'!
ERROR!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:47:29'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:47:55' prior: 50913080!
isEmpty
	
	^occupiedXPositions isEmpty and: (occupiedOPositions isEmpty).! !

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:47:56'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:47:58'!
ERROR!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:48:03'!
ERROR!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 15:48:03'!
ERROR!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:48:03'!
FAILURE!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 15:48:03'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 15:48:03'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 15:48:03'!
ERROR!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:48:04'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:48:38' prior: 50912870!
isOccupied: aPoint 
	
	^(occupiedXPositions includes: aPoint) or: (occupiedOPositions includes: aPoint)! !

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 15:48:39'!
PASSED!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:48:58' prior: 50916303!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(self isOccupied: anotherPosition) ifTrue: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	(self doesADiagonalMoveGoingFrom: anotherPosition to: aPosition) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:49:40'!
FAILURE!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:49:46'!
FAILURE!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:49:46'!
FAILURE!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:49:48'!
FAILURE!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:53:14'!
FAILURE!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:55:04' prior: 50916267!
isAValidPosition: aPoint

	^(((0@0) eightNeighbors includes: aPoint) or: aPoint = (0@0)) and: ((occupiedXPositions includes: aPoint) or: (occupiedXPositions includes: aPoint)) not! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:55:24' prior: 50916501!
isAValidPosition: aPosition

	^(((0@0) eightNeighbors includes: aPosition) or: aPosition = (0@0)) and: (self isOccupied: aPosition) not! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 15:56:20' prior: 50916466!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(self isAValidPosition: aPosition) ifFalse: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	(self doesADiagonalMoveGoingFrom: anotherPosition to: aPosition) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:56:25'!
FAILURE!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:56:32'!
FAILURE!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:57:43'!
FAILURE!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 15:57:43'!
FAILURE!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 16:00:15' prior: 50916517!
isValidMoveFrom: aPosition to: anotherPosition
	
	(self isAValidPosition: anotherPosition) ifFalse: [ ^false ].
	
	(self isOccupied: aPosition) ifFalse: [ ^false ].
	
	(aPosition = (0@0)) ifTrue: [ ^ true ].
	
	(self distanceIsGreaterThanOnePositionGoingFrom: aPosition to: anotherPosition) ifTrue: [ ^false ].
	
	(self doesADiagonalMoveGoingFrom: anotherPosition to: aPosition) ifTrue: [ ^false ].
	
	^true
	
	
	
	! !

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 16:00:17'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 16:00:19'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 16:00:19'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 16:00:19'!
ERROR!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 16:00:20'!
ERROR!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:01:37' prior: 50914939!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	(aPlayer = #X) ifTrue: [
		occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
		occupiedXPositions add: anotherPosition.
		]
		ifFalse: [ 
			occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
			occupiedOPositions add: anotherPosition. ]
	
	! !

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 16:01:39'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 16:01:43'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 16:01:43'!
PASSED!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:08:04' prior: 50916279!
thePlayer: aPlayer placesAPieceIn: aPosition

	(self totalPiecesPlayed = 6) ifTrue: [self error: TerniLapilli canNotPlaceMoreThanThreePieces].
	
	(self isPlaying: aPlayer) ifFalse: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPosition) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].
	
	(aPlayer = #X) 
		ifTrue: [ occupiedXPositions add: aPosition ]
		ifFalse: [ occupiedOPositions add: aPosition ].! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:08:14' prior: 50913880!
putXAt: aPosition 
	
	self thePlayer: #X placesAPieceIn: aPosition.
	turn := #O.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:08:18' prior: 50913886!
putOAt: aPosition 
	
	self thePlayer: #O placesAPieceIn: aPosition.
	turn := #X.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 16:08:36' prior: 50915995!
doesADiagonalMoveGoingFrom: aPosition to: anotherPosition

	^ aPosition x ~= anotherPosition x and: (aPosition y ~= anotherPosition y)! !

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:11:45'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn occupiedXPositions occupiedOPositions playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:12:06'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn occupiedXPositions occupiedOPositions playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Object subclass: #Player
	instanceVariableNames: 'turn occupiedXPositions occupiedOPositions playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #Player category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:12:18'!
Object subclass: #Player
	instanceVariableNames: 'turn occupiedXPositions occupiedOPositions playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Player subclass: #PlayerX
	instanceVariableNames: 'turn occupiedXPositions occupiedOPositions playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Object subclass: #Player
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #Player category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:12:53'!
Object subclass: #Player
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Player subclass: #PlayerX
	instanceVariableNames: 'occupiedXPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #PlayerX category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:13:07'!
Player subclass: #PlayerX
	instanceVariableNames: 'occupiedXPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Player subclass: #PlayerO
	instanceVariableNames: 'occupiedOPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #PlayerO category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:13:15'!
Player subclass: #PlayerO
	instanceVariableNames: 'occupiedOPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 10/31/2020 16:13:58' prior: 50916248 overrides: 16896425!
initialize

	playerX  := PlayerX new.
	playerO  := PlayerO new.
	turn := playerX.! !
!PlayerX methodsFor: 'no messages' stamp: 'GR 10/31/2020 16:14:24' overrides: 16896425!
initialize

	occupiedXPositions := Set new.! !
!PlayerO methodsFor: 'nil' stamp: 'GR 10/31/2020 16:14:46' overrides: 16896425!
initialize

	occupiedOPositions := Set new.! !

Player subclass: #PlayerO
	instanceVariableNames: 'occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #PlayerO category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:15:05'!
Player subclass: #PlayerO
	instanceVariableNames: 'occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Player subclass: #PlayerX
	instanceVariableNames: 'occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #PlayerX category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:15:09'!
Player subclass: #PlayerX
	instanceVariableNames: 'occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!PlayerX methodsFor: 'initialization' stamp: 'GR 10/31/2020 16:15:13' prior: 50916840 overrides: 16896425!
initialize

	occupiedPositions := Set new.! !
!PlayerO methodsFor: 'initialization' stamp: 'GR 10/31/2020 16:15:18' prior: 50916844 overrides: 16896425!
initialize

	occupiedPositions := Set new.! !
!PlayerO methodsFor: 'nil' stamp: 'GR 10/31/2020 16:15:37'!
occupiedPositions

	^occupiedPositions.! !
!PlayerX methodsFor: 'nil' stamp: 'GR 10/31/2020 16:15:49'!
occupiedPositions

	^occupiedPositions.! !

Player subclass: #PlayerO
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #PlayerO category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:16:44'!
Player subclass: #PlayerO
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Player subclass: #PlayerX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #PlayerX category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:16:48'!
Player subclass: #PlayerX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Object subclass: #Player
	instanceVariableNames: 'occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #Player category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:16:56'!
Object subclass: #Player
	instanceVariableNames: 'occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!Player methodsFor: 'nil' stamp: 'GR 10/31/2020 16:17:09' overrides: 16896425!
initialize

	occupiedPositions := Set new.! !
!Player methodsFor: 'nil' stamp: 'GR 10/31/2020 16:17:22'!
occupiedPositions

	^occupiedPositions.! !

!methodRemoval: PlayerO #initialize stamp: 'GR 10/31/2020 16:17:32'!
initialize

	occupiedPositions := Set new.!

!methodRemoval: PlayerO #occupiedPositions stamp: 'GR 10/31/2020 16:17:35'!
occupiedPositions

	^occupiedPositions.!

!methodRemoval: PlayerX #initialize stamp: 'GR 10/31/2020 16:17:39'!
initialize

	occupiedPositions := Set new.!

!methodRemoval: PlayerX #occupiedPositions stamp: 'GR 10/31/2020 16:17:43'!
occupiedPositions

	^occupiedPositions.!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:17:56'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 16:18:00'!
FAILURE!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 16:18:16'!
FAILURE!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 16:18:16'!
FAILURE!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 16:18:21'!
FAILURE!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 16:18:24'!
FAILURE!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 16:18:33'!
FAILURE!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 16:18:33'!
FAILURE!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 16:21:19' prior: 50916457!
isOccupied: aPosition 
	
	^(playerX occupiedPositions includes: aPosition) or: (playerO occupiedPositions includes: aPosition)! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 16:22:07' prior: 50916258!
totalPiecesPlayed
	
	^ playerX occupiedPositions size + playerO occupiedPositions size.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 16:22:40' prior: 50916383!
isEmpty
	
	^playerX occupiedPositions isEmpty.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 16:24:08' prior: 50916510!
isAValidPosition: aPosition

	^(((0@0) eightNeighbors includes: aPosition) or: aPosition = (0@0)) and: (self isOccupied: aPosition) not! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 16:24:26' prior: 50916998!
isAValidPosition: aPosition

	^(self isInTheBoard: aPosition) and: (self isOccupied: aPosition) not! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 16:24:46'!
isInTheBoard: aPosition

	((0@0) eightNeighbors includes: aPosition) or: aPosition = (0@0)! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 16:24:54' prior: 50917011!
isInTheBoard: aPosition

	^ ((0@0) eightNeighbors includes: aPosition) or: aPosition = (0@0)! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:26:32' prior: 50916631!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	"(aPlayer = #X) ifTrue: [
		occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
		occupiedXPositions add: anotherPosition.
		]
		ifFalse: [ 
			occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
			occupiedOPositions add: anotherPosition. ]"
	
	! !

Object subclass: #Player
	instanceVariableNames: 'occupiedPositions terniLapilli'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #Player category: 'Terni Lapilli' stamp: 'GR 10/31/2020 16:26:46'!
Object subclass: #Player
	instanceVariableNames: 'occupiedPositions terniLapilli'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!Player methodsFor: 'initialization' stamp: 'GR 10/31/2020 16:26:54' prior: 50916923 overrides: 16896425!
initialize

	occupiedPositions := Set new.
	! !
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 10/31/2020 16:27:26' prior: 50916834 overrides: 16896425!
initialize

	playerX  := PlayerX newIn: self.
	playerO  := PlayerO newIn: self.
	turn := playerX.! !
!Player class methodsFor: 'no messages' stamp: 'GR 10/31/2020 16:28:06'!
newIn: aTerniLapilli

	^self new initializeNewIn: aTerniLapilli! !
!Player methodsFor: 'initialization' stamp: 'GR 10/31/2020 16:28:31'!
initializeNewIn: aTerniLapilli
	
	terniLapilli := aTerniLapilli.
	occupiedPositions := Set new.! !

!methodRemoval: Player #initialize stamp: 'GR 10/31/2020 16:28:49'!
initialize

	occupiedPositions := Set new.
	!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:31:35' prior: 50916738!
putOAt: aPosition 
	
	playerO placesAPieceIn: aPosition.
	"self thePlayer: #O placesAPieceIn: aPosition."
	turn := playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:33:15' prior: 50917082!
putOAt: aPosition 
	
	
	playerO placesAPieceIn: aPosition.
	"self thePlayer: #O placesAPieceIn: aPosition."
	turn := playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:34:12' prior: 50916732!
putXAt: aPosition 
	
	playerO placesAPieceIn: aPosition.
	turn := playerO.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:34:25' prior: 50917096!
putXAt: aPosition 
	
	"Validacion de jugada"
	playerO placesAPieceIn: aPosition.
	turn := playerO.! !
!Player methodsFor: 'nil' stamp: 'GR 10/31/2020 16:34:50'!
placeAPieceIn: aPosition

	occupiedPositions add: aPosition.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 16:37:18' prior: 50916980!
isOccupied: aPosition 
	
	^(playerX occupies: aPosition) or: (playerO occupies: aPosition)! !
!Player methodsFor: 'accessing' stamp: 'GR 10/31/2020 16:37:54'!
occupies: aPosition

	^occupiedPositions includes: aPosition ! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:38:35' prior: 50916714!
thePlayer: aPlayer placesAPieceIn: aPosition

	(self totalPiecesPlayed = 6) ifTrue: [self error: TerniLapilli canNotPlaceMoreThanThreePieces].
	
	(self isPlaying: aPlayer) ifFalse: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPosition) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:43:47'!
thePlayer: aPlayer canPlaceAPieceIn: aPosition

	(self totalPiecesPlayed = 6) ifTrue: [self error: TerniLapilli canNotPlaceMoreThanThreePieces].
	
	(self isPlaying: aPlayer) ifFalse: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPosition) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].! !
!Player methodsFor: 'actions' stamp: 'GR 10/31/2020 16:44:05'!
placesAPieceIn: aPosition

	occupiedPositions add: aPosition.! !

!methodRemoval: Player #placeAPieceIn: stamp: 'GR 10/31/2020 16:44:05'!
placeAPieceIn: aPosition

	occupiedPositions add: aPosition.!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:44:28' prior: 50917089!
putOAt: aPosition 
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	playerO placesAPieceIn: aPosition.
	"self thePlayer: #O placesAPieceIn: aPosition."
	turn := playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:44:32' prior: 50917159!
putOAt: aPosition 
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	playerO placesAPieceIn: aPosition.
	turn := playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:44:44' prior: 50917102!
putXAt: aPosition 
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	playerO placesAPieceIn: aPosition.
	turn := playerO.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:45:37' prior: 50917175!
putXAt: aPosition 
	
	(self thePlayer: playerX canPlaceAPieceIn: aPosition) ifFalse: [  ].
	playerO placesAPieceIn: aPosition.
	turn := playerO.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:45:49' prior: 50917182!
putXAt: aPosition 
	
	(self thePlayer: playerX canPlaceAPieceIn: aPosition) ifFalse: [ self error: TerniLapilli canNotPlaceMoreThanThreePieces ].
	playerO placesAPieceIn: aPosition.
	turn := playerO.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:46:14' prior: 50917190!
putXAt: aPosition 
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	playerO placesAPieceIn: aPosition.
	turn := playerO.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:46:37' prior: 50917200!
putXAt: aPosition 
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	playerX placesAPieceIn: aPosition.
	turn := playerO.! !

!methodRemoval: TerniLapilli #thePlayer:placesAPieceIn: stamp: 'GR 10/31/2020 16:47:11'!
thePlayer: aPlayer placesAPieceIn: aPosition

	(self totalPiecesPlayed = 6) ifTrue: [self error: TerniLapilli canNotPlaceMoreThanThreePieces].
	
	(self isPlaying: aPlayer) ifFalse: [ self error: TerniLapilli canNotPlayInOthersTurn ].
	
	(self isAValidPosition: aPosition) ifFalse: [ self error: TerniLapilli canNotPlacePieceInInvalidPosition ].!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:48:58' prior: 50917168!
putOAt: aPosition 
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	playerO placesAPieceIn: aPosition.
	turn := playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:49:04' prior: 50917228!
putOAt: aPosition 
	
	playerO placesAPieceIn: aPosition.
	turn := playerX.! !
!Player methodsFor: 'actions' stamp: 'GR 10/31/2020 16:49:27' prior: 50917150!
placesAPieceIn: aPosition
	
	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	occupiedPositions add: aPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:51:03' prior: 50917023!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	aPlayer moveThePieceIn: aPosition to: anotherPosition.
	
	"(aPlayer = #X) ifTrue: [
		occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
		occupiedXPositions add: anotherPosition.
		]
		ifFalse: [ 
			occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
			occupiedOPositions add: anotherPosition. ]"
	
	! !
!Player methodsFor: 'actions' stamp: 'GR 10/31/2020 16:51:55'!
movesThePieceIn: aPosition to: anotherPosition

	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!Player methodsFor: 'actions' stamp: 'GR 10/31/2020 16:52:04' prior: 50917268!
movesThePieceIn: aPosition to: anotherPosition

	(terniLapilli isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 16:52:45' prior: 50917247!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	aPlayer movesThePieceIn: aPosition to: anotherPosition.
	
	! !
!Player methodsFor: 'actions' stamp: 'GR 10/31/2020 16:58:00' prior: 50917281!
movesThePieceIn: aPosition to: anotherPosition

	(terniLapilli isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.
	
	terniLapilli changeTurnTo: self! !
!Player methodsFor: 'actions' stamp: 'GR 10/31/2020 16:58:42' prior: 50917301!
movesThePieceIn: aPosition to: anotherPosition

	(terniLapilli isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!Player methodsFor: 'actions' stamp: 'GR 10/31/2020 17:01:34' prior: 50917240!
placesAPieceIn: aPosition
	
	self subclassResponsibility.! !
!PlayerO methodsFor: 'no messages' stamp: 'GR 10/31/2020 17:02:10' overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	occupiedPositions add: aPosition.
	terniLapilli changeTurnToPlayerX ! !
!PlayerX methodsFor: 'nil' stamp: 'GR 10/31/2020 17:02:24' overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	occupiedPositions add: aPosition.
	terniLapilli changeTurnToPlayerO! !
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 17:03:26' overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	(terniLapilli isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!PlayerX methodsFor: 'actions' stamp: 'GR 10/31/2020 17:03:43' overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	(terniLapilli isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:04:38' prior: 50917294!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	aPlayer movesThePieceIn: aPosition to: anotherPosition.
	
	! !
!PlayerX methodsFor: 'actions' stamp: 'GR 10/31/2020 17:05:05' prior: 50917362 overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 17:05:11' prior: 50917349 overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:07:25'!
thePlayer: aPlayer palceAPieceIn: aPosition 
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	playerX placesAPieceIn: aPosition.
	turn := playerO.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:07:46' prior: 50917405!
thePlayer: aPlayer palceAPieceIn: aPosition 
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	aPlayer placesAPieceIn: aPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:08:20' prior: 50917413!
thePlayer: aPlayer palceAPieceIn: aPosition 
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer placesAPieceIn: aPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:10:26' prior: 50917235!
putOAt: aPosition 
	
	self thePlayer: playerO placesAPieceIn: aPosition.
	turn := playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:10:31'!
thePlayer: aPlayer palcesAPieceIn: aPosition 
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer placesAPieceIn: aPosition.! !

!methodRemoval: TerniLapilli #thePlayer:palceAPieceIn: stamp: 'GR 10/31/2020 17:10:31'!
thePlayer: aPlayer palceAPieceIn: aPosition 
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer placesAPieceIn: aPosition.!

!methodRemoval: TerniLapilli #putXAt: stamp: 'GR 10/31/2020 17:11:18'!
putXAt: aPosition 
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	playerX placesAPieceIn: aPosition.
	turn := playerO.!

!methodRemoval: TerniLapilli #putOAt: stamp: 'GR 10/31/2020 17:11:22'!
putOAt: aPosition 
	
	self thePlayer: playerO placesAPieceIn: aPosition.
	turn := playerX.!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:12:20'!
changeTurnToPlayerX

	turn := playerX! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:12:27'!
changeTurnToPlayerO

	turn := playerO! !
!PlayerX methodsFor: 'actions' stamp: 'GR 10/31/2020 17:12:39' prior: 50917341 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	
	occupiedPositions add: aPosition.
	
	terniLapilli changeTurnToPlayerO! !
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 17:12:48' prior: 50917333 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	
	occupiedPositions add: aPosition.
	
	terniLapilli changeTurnToPlayerX ! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:14:31' prior: 50913861!
test01GameStartsWithXTurn

	| juego |

	juego := TerniLapilli new.
	
	self assert: (juego isPlaying: #X).
	self assert: juego isEmpty.! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:14:51' prior: 50917488!
test01GameStartsWithXTurn

	| juego |

	juego := TerniLapilli new.
	
	self assert: (juego isPlaying: juego playerX).
	self assert: juego isEmpty.! !

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:14:58'!
ERROR!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:14:58'!
ERROR!
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/31/2020 17:15:04'!
playerX
	self shouldBeImplemented.
	^playerX! !
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/31/2020 17:15:08' prior: 50917509!
playerX
	
	^ playerX! !

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:15:10'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:15:14'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:16:03' prior: 50913851!
test02AfterXPlaysIsOTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	
	self assert: (juego isPlaying: juego playerO).
	self deny: (juego isPlaying: juego playerX).
	self assert: (juego isOccupied: (0@0))! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:17:55'!
putXAt: aPosition

	self thePlayer: playerX palcesAPieceIn: aPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:18:18'!
putOAt: aPosition

	self thePlayer: playerO palcesAPieceIn: aPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:18:43'!
thePlayer: aPlayer placesAPieceIn: aPosition 
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer placesAPieceIn: aPosition.! !
!TerniLapilli methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:18:43' prior: 50917534!
putXAt: aPosition

	self thePlayer: playerX placesAPieceIn: aPosition.! !
!TerniLapilli methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:18:43' prior: 50917539!
putOAt: aPosition

	self thePlayer: playerO placesAPieceIn: aPosition.! !

!methodRemoval: TerniLapilli #thePlayer:palcesAPieceIn: stamp: 'GR 10/31/2020 17:18:43'!
thePlayer: aPlayer palcesAPieceIn: aPosition 
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer placesAPieceIn: aPosition.!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:21:05'!
playerXMovesFrom: aPosition to: anotherPosition

	self thePlayer: playerX movesThePieceIn: aPosition to: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:21:46' prior: 50917570!
playerXMovesFrom: aPosition to: anotherPosition
	
	self thePlayer: playerX movesThePieceIn: aPosition to: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 17:21:52'!
playerOMovesFrom: aPosition to: anotherPosition
	
	self thePlayer: playerO movesThePieceIn: aPosition to: anotherPosition.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 17:22:43'!
thePlayer: aPlayer movesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	aPlayer movesThePieceIn: aPosition to: anotherPosition.
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:22:43' prior: 50915669!
test16PlayerCanMoveFromCornerToAdjacentEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego thePlayer: #X movesThePieceIn: (-1@1) to: (-1@0).
	
	self assert: (juego isOccupied: (-1@0))
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:22:43' prior: 50915051!
test10PlayerCanNotMoveMoreThanOnePosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@-1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@-1) to: (0@1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:22:43' prior: 50915944!
test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@1) to: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:22:43' prior: 50914668!
test13PlayerCanNotMoveAPieceToAnOccupiedPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) to: (0@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:22:43' prior: 50915472!
test15PlayerCanMoveFromCenterToAnyEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego thePlayer: #X movesThePieceIn: (0@0) to: (-1@0).
	
	self assert: (juego isOccupied: (-1@0))
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:22:43' prior: 50914634!
test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (-1@0) to: (-1@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 10/31/2020 17:22:43' prior: 50914550!
test11PlayerCanNotMoveAPieceOutsideTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego thePlayer: #X movesThePieceIn: (0@0) to: (0@4). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!methodRemoval: TerniLapilli #thePlayer:movesThePieceIn:To: stamp: 'GR 10/31/2020 17:22:43'!
thePlayer: aPlayer movesThePieceIn: aPosition To: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	aPlayer movesThePieceIn: aPosition to: anotherPosition.
	
	!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:23:16'!
ERROR!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:23:16'!
ERROR!
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/31/2020 17:23:21'!
playerO
	self shouldBeImplemented.
	^playerO! !
!TerniLapilli methodsFor: 'accessing' stamp: 'GR 10/31/2020 17:23:24' prior: 50917732!
playerO
	
	^playerO! !

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:23:27'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:23:28'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:23:48' prior: 50913840!
test03AfterOPlaysIsXTurn

	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	
	self assert: (juego isPlaying: juego playerX).
	self deny: (juego isPlaying: juego playerO).
	self assert: (juego isOccupied: (0@1))! !

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 17:23:49'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 17:23:53'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 17:23:55'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 17:23:57'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 17:23:57'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:23:57'!
ERROR!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:24:29' prior: 50917616!
test10PlayerCanNotMoveMoreThanOnePosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@-1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego playerXMovesFrom: (0@-1) to: (0@1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:24:36' prior: 50917699!
test11PlayerCanNotMoveAPieceOutsideTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego playerXMovesFrom: (0@0) to: (0@4). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:24:42' prior: 50917682!
test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego playerXMovesFrom: (-1@0) to: (-1@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:24:46' prior: 50917651!
test13PlayerCanNotMoveAPieceToAnOccupiedPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego playerXMovesFrom: (0@0) to: (0@-1). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:24:55' prior: 50917633!
test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [ juego playerXMovesFrom: (0@1) to: (-1@0). ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:25:03' prior: 50917668!
test15PlayerCanMoveFromCenterToAnyEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (0@0) to: (-1@0).
	
	self assert: (juego isOccupied: (-1@0))
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:25:08' prior: 50917602!
test16PlayerCanMoveFromCornerToAdjacentEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (-1@1) to: (-1@0).
	
	self assert: (juego isOccupied: (-1@0))
	
	! !

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:25:27'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 17:25:39'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:25:39'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:26:11'!
test17TurnChangesWhenAPlayerMovesPiece
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (-1@1) to: (-1@0).
	
	self assert: (juego isOccupied: (-1@0))
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:26:30' prior: 50918053!
test17TurnChangesWhenAPlayerMovesPiece
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (-1@1) to: (-1@0).
	
	self assert: (juego isPlaying: juego playerO)
	
	! !

!testRun: #TerniLapilliTest #test17TurnChangesWhenAPlayerMovesPiece stamp: 'GR 10/31/2020 17:26:35'!
FAILURE!
!PlayerX methodsFor: 'actions' stamp: 'GR 10/31/2020 17:27:47' prior: 50917386 overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.
	
	terniLapilli changeTurnToPlayerO.! !

!testRun: #TerniLapilliTest #test17TurnChangesWhenAPlayerMovesPiece stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!testRun: #TerniLapilliTest #test17TurnChangesWhenAPlayerMovesPiece stamp: 'GR 10/31/2020 17:27:54'!
PASSED!

!methodRemoval: TerniLapilliTest #test17TurnChangesWhenAPlayerMovesPiece stamp: 'GR 10/31/2020 17:28:41'!
test17TurnChangesWhenAPlayerMovesPiece
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (-1@1) to: (-1@0).
	
	self assert: (juego isPlaying: juego playerO)
	
	!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:29:12' prior: 50917908!
test15PlayerCanMoveFromCenterToAnyEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (0@0) to: (-1@0).
	
	self assert: (juego isOccupied: (-1@0)).
	self assert: (juego isPlaying: juego playerO)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:30:13' prior: 50917921!
test16PlayerCanMoveFromCornerToAdjacentEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (0@0) to: (-1@0).
	juego playerOMovesFrom: (1@1) to: (0@0).
	
	self assert: (juego isOccupied: (-1@0))
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:31:11' prior: 50918184!
test16PlayerCanMoveFromCornerToAdjacentEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (0@0) to: (-1@0).
	juego playerOMovesFrom: (1@1) to: (1@0).
	
	self assert: (juego isOccupied: (1@0)).
	self assert: (juego isPlaying: juego playerX)
	
	! !

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:31:23'!
FAILURE!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:32:12'!
FAILURE!
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 17:32:43' prior: 50917396 overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	occupiedPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedPositions add: anotherPosition.
	
	terniLapilli changeTurnToPlayerX.! !

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 17:32:45'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:32:45'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:35:33'!
test16PlayerCanMoveFromAnywhereToAdjacentPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (0@0) to: (-1@0).
	juego playerOMovesFrom: (1@1) to: (1@0).
	
	self assert: (juego isOccupied: (1@0)).
	self assert: (juego isPlaying: juego playerX)
	
	! !

!methodRemoval: TerniLapilliTest #test16PlayerCanMoveFromCornerToAdjacentEmptyPosition stamp: 'GR 10/31/2020 17:35:33'!
test16PlayerCanMoveFromCornerToAdjacentEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (0@0) to: (-1@0).
	juego playerOMovesFrom: (1@1) to: (1@0).
	
	self assert: (juego isOccupied: (1@0)).
	self assert: (juego isPlaying: juego playerX)
	
	!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO winner isOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 17:44:59'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO winner isOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO winner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 17:45:36'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO winner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:51:20'!
test17
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (0@0) to: (-1@0).
	juego playerOMovesFrom: (1@1) to: (1@0).
	
	self assert: (juego isOccupied: (1@0)).
	self assert: (juego isPlaying: juego playerX)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:52:57'!
test17PlayerXWinsVertically
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@1).
	juego putOAt: (-1@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!methodRemoval: TerniLapilliTest #test17 stamp: 'GR 10/31/2020 17:53:03'!
test17
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (0@0) to: (-1@0).
	juego playerOMovesFrom: (1@1) to: (1@0).
	
	self assert: (juego isOccupied: (1@0)).
	self assert: (juego isPlaying: juego playerX)
	
	!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 17:53:19'!
ERROR!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 17:53:59' prior: 50918365!
test17PlayerXWinsVertically
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	juego putOAt: (-1@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 17:54:00'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 17:54:15'!
hasPlayerXWon
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 17:54:32' prior: 50918409!
hasPlayerXWon
	
	^winner = playerX.! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 17:54:36'!
FAILURE!
!PlayerX methodsFor: 'actions' stamp: 'GR 10/31/2020 17:55:48' prior: 50917470 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	
	occupiedPositions add: aPosition.
	
	terniLapilli changeTurnToPlayerO.
	
	self hasPlayerXWon.! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 17:56:12'!
hasPlayerXWon
	self shouldBeImplemented.! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:01:07' prior: 50918430!
hasPlayerXWon
	
	| aPiece |
	
	aPiece := occupiedPositions detect: [ :aPosition | aPosition].
	
	occupiedPositions allSatisfy: [ :aPosition |  ]! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:01:13' prior: 50918434!
hasPlayerXWon
	
	| aPiece |
	
	aPiece := occupiedPositions detect: [ :aPosition |].
	
	occupiedPositions allSatisfy: [ :aPosition |  ]! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:01:31' prior: 50918442!
hasPlayerXWon
	
	| aPiece |
	
	aPiece := occupiedPositions detect: [ :aPosition |].
	
	occupiedPositions allSatisfy: [ :aPosition |  aPiece x = aPosition x]! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:02:29'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:03:21'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:03:26'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:03:30'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:03:50'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:03:55'!
ERROR!
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:04:17' prior: 50918449!
hasPlayerXWon
	
	| aPiece |
	
	aPiece := occupiedPositions detect: [ :aPosition | true].
	
	occupiedPositions allSatisfy: [ :aPosition |  aPiece x = aPosition x]! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:04:22'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:04:27'!
FAILURE!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:04:57'!
FAILURE!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:06:24'!
FAILURE!
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:07:52' prior: 50918475!
hasPlayerXWon
	
	| aPiece |
	
	aPiece := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aPiece x = aPosition x] ) ifTrue: [ terniLapilli playerXWon].! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:09:45' prior: 50918496!
hasPlayerXWon
	
	| aPiece |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aPiece := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aPiece x = aPosition x] ) ifTrue: [ 
		terniLapilli playerXWon.
		^true].
	
	! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:09:53' prior: 50918505!
hasPlayerXWon
	
	| aPiece |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aPiece := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aPiece x = aPosition x] ) ifTrue: [ 
		terniLapilli playerXWon.
		^true ].
	
	! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:10:08' prior: 50918516!
hasPlayerXWon
	
	| aPiece |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aPiece := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aPiece x = aPosition x] ) ifTrue: [ 
		terniLapilli playerXWon.
		^true ].
	! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:10:42'!
ERROR!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 18:10:53'!
playerXWon
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 18:11:00' prior: 50918542!
playerXWon
	
	winner := playerX.! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:11:02'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:11:19'!
isOver
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:11:40' prior: 50918554!
isOver
	
	self hasPlayerXWon or: self hasPlayerXWon ! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:11:47' prior: 50918558!
isOver
	
	self hasPlayerXWon or: self hasPlayerOWon ! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:11:49'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:12:17'!
hasPlayerOWon
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:12:22' prior: 50918570!
hasPlayerOWon
	
	winner := playerO! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:12:25'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:12:31'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:12:49' prior: 50918563!
isOver
	
	^self hasPlayerXWon or: self hasPlayerOWon ! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:12:49'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:12:49'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:13:15' prior: 50918394!
test17PlayerXWinsVertically
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:14:33' prior: 50918528!
hasPlayerXWon
	
	| aXPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aXPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aXPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli playerXWon.
		^true ].
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:15:24'!
test17PlayerOWinsVertically
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (1@-1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (0@1).
	juego putXAt: (1@1).
	juego putOAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:15:27' prior: 50918675!
test17PlayerOWinsVertically
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (1@-1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (0@1).
	juego putXAt: (1@1).
	juego putOAt: (0@-1).
	
	self assert: (juego hasPlayerOWon).
	self assert: (juego isOver)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:15:36'!
test18PlayerOWinsVertically
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (1@-1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (0@1).
	juego putXAt: (1@1).
	juego putOAt: (0@-1).
	
	self assert: (juego hasPlayerOWon).
	self assert: (juego isOver)
	
	! !

!methodRemoval: TerniLapilliTest #test17PlayerOWinsVertically stamp: 'GR 10/31/2020 18:15:36'!
test17PlayerOWinsVertically
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (1@-1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (0@1).
	juego putXAt: (1@1).
	juego putOAt: (0@-1).
	
	self assert: (juego hasPlayerOWon).
	self assert: (juego isOver)
	
	!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:15:38'!
ERROR!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:16:05' prior: 50918699!
test18PlayerOWinsVertically
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (1@-1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (0@1).
	juego putXAt: (-1@-1).
	juego putOAt: (0@-1).
	
	self assert: (juego hasPlayerOWon).
	self assert: (juego isOver)
	
	! !

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:16:08'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:16:40' prior: 50918575!
hasPlayerOWon
	
	^ winner = playerO! !

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:16:41'!
FAILURE!
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 18:17:05' prior: 50917479 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	
	occupiedPositions add: aPosition.
	
	terniLapilli changeTurnToPlayerX.
	
	self hasPlayerOWon.! !

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:17:08'!
ERROR!
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:17:33'!
hasPlayerOWon
	self shouldBeImplemented.! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:17:36' prior: 50918760!
hasPlayerOWon
	
	! !

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:17:43'!
ERROR!
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:18:16' prior: 50918663!
hasPlayerXWon
	
	self subclassResponsibility.! !
!PlayerX methodsFor: 'nil' stamp: 'GR 10/31/2020 18:18:23' overrides: 50918771!
hasPlayerXWon
	
	| aXPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aXPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aXPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli playerXWon.
		^true ].
	! !

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:18:41'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:18:41'!
FAILURE!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:18:41'!
FAILURE!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:20:24'!
ERROR!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:20:35'!
ERROR!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:20:41'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:20:41'!
FAILURE!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:20:41'!
FAILURE!

!methodRemoval: Player #hasPlayerOWon stamp: 'GR 10/31/2020 18:21:15'!
hasPlayerOWon
	
	!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:21:22'!
ERROR!
!PlayerO methodsFor: 'testing' stamp: 'GR 10/31/2020 18:21:29'!
hasPlayerOWon
	self shouldBeImplemented.! !
!PlayerO methodsFor: 'testing' stamp: 'GR 10/31/2020 18:21:56' prior: 50918936!
hasPlayerOWon

	| aOPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aOPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aOPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli playerOWon.
		^true ].
	! !

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:21:58'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:21:58'!
ERROR!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:21:58'!
ERROR!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:22:05'!
playerOWon
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 18:22:15' prior: 50919020!
playerOWon
	
	winner := playerO! !

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:22:28'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:22:31'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:22:31'!
PASSED!
!PlayerX methodsFor: 'testing' stamp: 'GR 10/31/2020 18:23:53' prior: 50918776 overrides: 50918771!
hasPlayerXWon
	
	| aXPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aXPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aXPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:24:50'!
won
	
	| anOccupiedPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:24:56' prior: 50919108!
won
	
	| anOccupiedPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  anOccupiedPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	! !

!methodRemoval: Player #hasPlayerXWon stamp: 'GR 10/31/2020 18:25:15'!
hasPlayerXWon
	
	self subclassResponsibility.!
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:25:21'!
hasWon
	
	| anOccupiedPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  anOccupiedPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	! !

!methodRemoval: Player #won stamp: 'GR 10/31/2020 18:25:21'!
won
	
	| anOccupiedPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  anOccupiedPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	!

!methodRemoval: PlayerX #hasPlayerXWon stamp: 'GR 10/31/2020 18:25:30'!
hasPlayerXWon
	
	| aXPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aXPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aXPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	!

!methodRemoval: PlayerO #hasPlayerOWon stamp: 'GR 10/31/2020 18:25:34'!
hasPlayerOWon

	| aOPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	aOPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  aOPosition x = aPosition x] ) ifTrue: [ 
		terniLapilli playerOWon.
		^true ].
	!

!methodRemoval: TerniLapilli #playerOWon stamp: 'GR 10/31/2020 18:25:53'!
playerOWon
	
	winner := playerO!

!methodRemoval: TerniLapilli #playerXWon stamp: 'GR 10/31/2020 18:26:04'!
playerXWon
	
	winner := playerX.!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:26:16'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:26:16'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:26:16'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:26:16'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:26:16'!
ERROR!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:26:25'!
ERROR!
!PlayerX methodsFor: 'actions' stamp: 'GR 10/31/2020 18:26:48' prior: 50918422 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	
	occupiedPositions add: aPosition.
	
	terniLapilli changeTurnToPlayerO.
	
	self hasWon.! !
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 18:27:05' prior: 50918749 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	
	occupiedPositions add: aPosition.
	
	terniLapilli changeTurnToPlayerX.
	
	self hasWon.! !

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:27:29'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:27:29'!
ERROR!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:27:29'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:27:36'!
ERROR!
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 18:27:45'!
won: aPlayerX 
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 18:28:17' prior: 50919340!
won: aPlayer
	
	winner := aPlayer! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:28:26'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:28:30'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:28:30'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:29:17'!
test19PlayerXWinsHorizontally
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (1@0).
	juego putOAt: (1@1).
	juego putXAt: (-1@0).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 18:29:19'!
FAILURE!
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:30:06' prior: 50919135!
hasWon
	
	| anOccupiedPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	( occupiedPositions allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y)] ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	! !

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:30:25'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 18:30:25'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:30:30'!
test19PlayerOWinsHorizontally
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (1@0).
	juego putOAt: (1@1).
	juego putXAt: (-1@0).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:30:37'!
test20PlayerOWinsHorizontally
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (1@0).
	juego putOAt: (1@1).
	juego putXAt: (-1@0).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!methodRemoval: TerniLapilliTest #test19PlayerOWinsHorizontally stamp: 'GR 10/31/2020 18:30:37'!
test19PlayerOWinsHorizontally
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (1@0).
	juego putOAt: (1@1).
	juego putXAt: (-1@0).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	!

!testRun: #TerniLapilliTest #test20PlayerOWinsHorizontally stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerOWinsHorizontally stamp: 'GR 10/31/2020 18:30:39'!
PASSED!

!methodRemoval: TerniLapilliTest #test20PlayerOWinsHorizontally stamp: 'GR 10/31/2020 18:30:55'!
test20PlayerOWinsHorizontally
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (1@0).
	juego putOAt: (1@1).
	juego putXAt: (-1@0).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:31:26'!
test20PlayerOWinsHorizontally
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (1@-1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (1@0).
	juego putXAt: (-1@-1).
	juego putOAt: (-1@0).
	
	self assert: (juego hasPlayerOWon).
	self assert: (juego isOver)
	
	! !

!testRun: #TerniLapilliTest #test20PlayerOWinsHorizontally stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerOWinsHorizontally stamp: 'GR 10/31/2020 18:31:28'!
PASSED!

!methodRemoval: TerniLapilliTest #test20PlayerOWinsHorizontally stamp: 'GR 10/31/2020 18:31:53'!
test20PlayerOWinsHorizontally
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (1@-1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (1@0).
	juego putXAt: (-1@-1).
	juego putOAt: (-1@0).
	
	self assert: (juego hasPlayerOWon).
	self assert: (juego isOver)
	
	!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:33:10'!
test20PlayerWinsDiagonallyLeftToRight
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (1@0).
	juego putOAt: (1@1).
	juego putXAt: (-1@0).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:33:43' prior: 50919722!
test20PlayerWinsDiagonallyLeftToRight
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (-1@-1).
	juego putOAt: (1@0).
	juego putXAt: (1@1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonallyLeftToRight stamp: 'GR 10/31/2020 18:33:50'!
FAILURE!
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:39:29'!
hasAWinningCondition: anOccupiedPosition

	^ occupiedPositions allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y)]! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:39:29' prior: 50919431!
hasWon
	
	| anOccupiedPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	( self hasAWinningCondition: anOccupiedPosition ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:40:01' prior: 50919757!
hasWon
	
	| anOccupiedPosition |
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	( self hasAWinningCondition: anOccupiedPosition ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	! !
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:40:19'!
hasAWinningCondition
	
	| anOccupiedPosition |
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	^ occupiedPositions allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y)]! !

!methodRemoval: Player #hasAWinningCondition: stamp: 'GR 10/31/2020 18:40:24'!
hasAWinningCondition: anOccupiedPosition

	^ occupiedPositions allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y)]!
!Player methodsFor: 'testing' stamp: 'GR 10/31/2020 18:40:34' prior: 50919768!
hasWon
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	( self hasAWinningCondition ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	! !

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 18:44:29'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonallyLeftToRight stamp: 'GR 10/31/2020 18:44:29'!
FAILURE!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonallyLeftToRight stamp: 'GR 10/31/2020 18:44:29'!
FAILURE!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 18:44:55'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonallyLeftToRight stamp: 'GR 10/31/2020 18:44:55'!
FAILURE!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonallyLeftToRight stamp: 'GR 10/31/2020 18:44:55'!
FAILURE!
!Player methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 18:46:55' prior: 50919776!
hasAWinningCondition
	
	| anOccupiedPosition |
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	^ occupiedPositions allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y) or:
		aPosition x abs = aPosition y abs]! !
!Player methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 18:47:04' prior: 50919953!
hasAWinningCondition
	
	| anOccupiedPosition |
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	^ occupiedPositions allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y) or:
		(aPosition x abs = aPosition y abs)]! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 18:48:22'!
test20PlayerWinsDiagonally
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (-1@-1).
	juego putOAt: (1@0).
	juego putXAt: (1@1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!methodRemoval: TerniLapilliTest #test20PlayerWinsDiagonallyLeftToRight stamp: 'GR 10/31/2020 18:48:22'!
test20PlayerWinsDiagonallyLeftToRight
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (-1@-1).
	juego putOAt: (1@0).
	juego putXAt: (1@1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 18:48:24'!
PASSED!

Object subclass: #Player
	instanceVariableNames: 'terniLapilli'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #Player category: 'Terni Lapilli' stamp: 'GR 10/31/2020 18:53:07'!
Object subclass: #Player
	instanceVariableNames: 'terniLapilli'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions winner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 18:53:33'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions winner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 18:56:05' prior: 50918223 overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	terniLapilli thePlayer: self movesThePieceIn: aPosition to: anotherPosition.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 18:56:56' prior: 50917591!
thePlayer: aPlayer movesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	self changeTurnToPlayerX.
	
	! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 18:57:10'!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	self changeTurnToPlayerX.
	
	! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 18:57:16' prior: 50920120!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	self changeTurnToPlayerO.
	
	! !

!methodRemoval: TerniLapilli #thePlayer:movesThePieceIn:to: stamp: 'GR 10/31/2020 18:57:24'!
thePlayer: aPlayer movesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	self changeTurnToPlayerX.
	
	!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 18:57:44'!
playerOmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedOPositions add: anotherPosition.
	
	self changeTurnToPlayerX.
	
	! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 18:58:25' prior: 50917577!
playerXMovesFrom: aPosition to: anotherPosition
	
	playerX movesThePieceIn: aPosition to: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 18:59:33' prior: 50917584!
playerOMovesFrom: aPosition to: anotherPosition
	
	playerO movesThePieceIn: aPosition to: anotherPosition.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 18:59:53' prior: 50917558!
putOAt: aPosition
	
	playerO placesAPieceIn: aPosition! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 10/31/2020 19:00:06' prior: 50917552!
putXAt: aPosition
	
	playerX placesAPieceIn: aPosition.! !
!PlayerX methodsFor: 'actions' stamp: 'GR 10/31/2020 19:00:45' prior: 50919255 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli playerXPlacesAPieceIn: aPosition.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:01:35'!
playerXPlacesAPieceIn: aPosition 
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	
	occupiedXPositions add: aPosition.
	
	turn := playerO.
	
	self hasWon: playerX.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:01:54'!
playerOPlacesAPieceIn: aPosition 
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	
	occupiedOPositions add: aPosition.
	
	turn := playerX.
	
	self hasWon: playerO.! !

!methodRemoval: TerniLapilli #thePlayer:placesAPieceIn: stamp: 'GR 10/31/2020 19:02:16'!
thePlayer: aPlayer placesAPieceIn: aPosition 
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer placesAPieceIn: aPosition.!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:02:51' prior: 50920134!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.
	
	! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:03:08' prior: 50920229!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.
	
	! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:03:31' prior: 50920162!
playerOmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedOPositions add: anotherPosition.
	
	turn := playerX
	
	! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:03:48' prior: 50920257!
playerOmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedOPositions add: anotherPosition.
	
	turn := playerX.
	
	! !
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 19:05:07' prior: 50920099 overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	terniLapilli playerOmovesThePieceIn: aPosition to: anotherPosition.! !
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 19:05:34' prior: 50919264 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli playerOPlacesAPieceIn: aPosition.
	
	"terniLapilli thePlayer: self canPlaceAPieceIn: aPosition.
	
	occupiedPositions add: aPosition.
	
	terniLapilli changeTurnToPlayerX.
	
	self hasWon."! !
!PlayerO methodsFor: 'actions' stamp: 'GR 10/31/2020 19:05:37' prior: 50920292 overrides: 50917328!
placesAPieceIn: aPosition

	terniLapilli playerOPlacesAPieceIn: aPosition.! !
!PlayerX methodsFor: 'actions' stamp: 'GR 10/31/2020 19:06:17' prior: 50918083 overrides: 50917315!
movesThePieceIn: aPosition to: anotherPosition
	
	terniLapilli playerXmovesThePieceIn: aPosition to: anotherPosition! !
!Player methodsFor: 'actions' stamp: 'GR 10/31/2020 19:06:32' prior: 50917315!
movesThePieceIn: aPosition to: anotherPosition

	self subclassResponsibility.! !
!Player methodsFor: 'initialization' stamp: 'GR 10/31/2020 19:07:45' prior: 50917072!
initializeNewIn: aTerniLapilli
	
	terniLapilli := aTerniLapilli.! !

!methodRemoval: Player #occupiedPositions stamp: 'GR 10/31/2020 19:07:54'!
occupiedPositions

	^occupiedPositions.!

!methodRemoval: Player #occupies: stamp: 'GR 10/31/2020 19:08:10'!
occupies: aPosition

	^occupiedPositions includes: aPosition !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:11:33' prior: 50920213!
playerOPlacesAPieceIn: aPosition 
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	
	occupiedOPositions add: aPosition.
	
	turn := playerX.
	
	self playerOhasWon.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:12:41' prior: 50918741!
hasPlayerOWon
	
	(occupiedOPositions size < 3) ifTrue: [ ^false ].
	
	( self hasAWinningCondition ) ifTrue: [ 
		winner := playerO.
		^true ].! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:13:40' prior: 50920344!
hasPlayerOWon
	
	(occupiedOPositions size < 3) ifTrue: [ ^false ].
	
	( self hasAWinningCondition: occupiedOPositions ) ifTrue: [ 
		winner := playerO.
		^true ].
	
	^false! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:14:05' prior: 50918414!
hasPlayerXWon
	
	(occupiedXPositions size < 3) ifTrue: [ ^false ].
	
	( self hasAWinningCondition: occupiedXPositions ) ifTrue: [ 
		winner := playerX.
		^true ].
	
	^false! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:15:08' prior: 50920205!
playerXPlacesAPieceIn: aPosition 
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	
	occupiedXPositions add: aPosition.
	
	turn := playerO.
	
	self hasPlayerXWon.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:15:18' prior: 50920335!
playerOPlacesAPieceIn: aPosition 
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	
	occupiedOPositions add: aPosition.
	
	turn := playerX.
	
	self hasPlayerOWon.! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:15:30'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:15:30'!
ERROR!

!methodRemoval: TerniLapilli #changeTurnToPlayerO stamp: 'GR 10/31/2020 19:15:46'!
changeTurnToPlayerO

	turn := playerO!

!methodRemoval: TerniLapilli #changeTurnToPlayerX stamp: 'GR 10/31/2020 19:15:50'!
changeTurnToPlayerX

	turn := playerX!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:16:06' prior: 50916993!
isEmpty
	
	^ occupiedXPositions isEmpty.! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:16:33' prior: 50917113!
isOccupied: aPosition 
	
	^(occupiedXPositions includes: aPosition) or: (occupiedOPositions includes: aPosition)! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:17:52' prior: 50916987!
totalPiecesPlayed
	
	^ occupiedXPositions size + occupiedOPositions size.! !

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 19:18:15'!
FAILURE!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:18:24'!
ERROR!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:18:24'!
ERROR!
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 10/31/2020 19:18:52' prior: 50917061 overrides: 16896425!
initialize

	playerX  := PlayerX newIn: self.
	playerO  := PlayerO newIn: self.
	occupiedXPositions  := Set new.
	occupiedOPositions  := Set new.
	turn := playerX.! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:18:57'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:18:57'!
ERROR!
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 19:19:15'!
hasAWinningCondition: aSet 
	self shouldBeImplemented.! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 19:20:47' prior: 50920443!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ aPlayerPieces allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y) or:
		(aPosition x abs = aPosition y abs)]! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:20:51'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 19:20:55'!
PASSED!

!methodRemoval: Player #hasWon stamp: 'GR 10/31/2020 19:21:23'!
hasWon
	
	(occupiedPositions size < 3) ifTrue: [ ^false ].
	
	( self hasAWinningCondition ) ifTrue: [ 
		terniLapilli won: self.
		^true ].
	!

!methodRemoval: Player #hasAWinningCondition stamp: 'GR 10/31/2020 19:21:25'!
hasAWinningCondition
	
	| anOccupiedPosition |
	
	anOccupiedPosition := occupiedPositions detect: [ :aPosition | true].
	
	^ occupiedPositions allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y) or:
		(aPosition x abs = aPosition y abs)]!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:22:15' prior: 50920352!
hasPlayerOWon
	
	( self hasAWinningCondition: occupiedOPositions ) ifTrue: [ 
		winner := playerO.
		^true ].
	
	^false! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:22:20' prior: 50920361!
hasPlayerXWon
	
	( self hasAWinningCondition: occupiedXPositions ) ifTrue: [ 
		winner := playerX.
		^true ].
	
	^false! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 19:22:32' prior: 50920448!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ aPlayerPieces allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y) or:
		(aPosition x abs = aPosition y abs)]! !

!methodRemoval: TerniLapilli #won: stamp: 'GR 10/31/2020 19:22:54'!
won: aPlayer
	
	winner := aPlayer!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:24:12' prior: 50920553!
hasPlayerOWon
	
	^ self hasAWinningCondition: occupiedOPositions! !

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 19:24:17'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:24:33' prior: 50920560!
hasPlayerXWon
	
	^self hasAWinningCondition: occupiedXPositions! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 19:25:49'!
test21PlayerCanWinWithAMovement
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@0).
	juego putXAt: (0@1).
	juego putOAt: (-1@1).
	juego putXAt: (1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (1@1) to: (0@-1).
	
	self assert: (juego isOccupied: (1@0)).
	self assert: (juego isPlaying: juego playerX)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 19:26:05' prior: 50920610!
test21PlayerCanWinWithAMovement
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@0).
	juego putXAt: (0@1).
	juego putOAt: (-1@1).
	juego putXAt: (1@1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (1@1) to: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:26:22'!
ERROR!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:27:14'!
ERROR!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 19:27:48' prior: 50920624!
test21PlayerCanWinWithAMovement
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@0).
	juego putXAt: (0@1).
	juego putOAt: (-1@1).
	juego putXAt: (1@-1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (1@1) to: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:27:50'!
ERROR!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 19:28:11' prior: 50920644!
test21PlayerCanWinWithAMovement
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@0).
	juego putXAt: (0@1).
	juego putOAt: (-1@1).
	juego putXAt: (1@-1).
	juego putOAt: (-1@-1).
	
	juego playerXMovesFrom: (1@-1) to: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 19:28:12'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:28:12'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 19:33:31'!
test22PlayerCanNotPlayIfGameFinished
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 19:33:37'!
test22PlayerCanNotPlayIfGameIsOver
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	! !

!methodRemoval: TerniLapilliTest #test22PlayerCanNotPlayIfGameFinished stamp: 'GR 10/31/2020 19:33:42'!
test22PlayerCanNotPlayIfGameFinished
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver)
	
	!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 19:34:28'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 19:35:48' prior: 50920567!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ isOver := aPlayerPieces allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y) or:
		(aPosition x abs = aPosition y abs)]! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:36:13'!
PASSED!
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 19:36:40' prior: 50920798!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ aPlayerPieces allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y) or:
		(aPosition x abs = aPosition y abs)]! !

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:36:46'!
PASSED!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:37:10' prior: 50920243!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.
	
	self hasPlayerXWon.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:37:18' prior: 50920271!
playerOmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedOPositions add: anotherPosition.
	
	turn := playerX.
	
	self hasPlayerOWon.! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 19:39:38' prior: 50920759!
test22PlayerCanNotPlayIfGameIsOver
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver).
	self
		should: [ juego putOAt: (1@0) ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: TerniLapilli canNotPlayIfGameIsOver = anError messageText ]
	
	! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:39:51' prior: 50920834!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:39:54' prior: 50920848!
playerOmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedOPositions add: anotherPosition.
	
	turn := playerX.! !

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:40:00'!
FAILURE!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:40:00'!
FAILURE!
!TerniLapilli class methodsFor: 'error handling' stamp: 'GR 10/31/2020 19:41:07'!
canNotPlayIfGameIsOver

	^ 'Game is over!!'! !

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:41:19'!
FAILURE!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:41:19'!
FAILURE!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:42:58' prior: 50920379!
playerOPlacesAPieceIn: aPosition 
	
	(self isOver) ifTrue: [ self error: TerniLapilli canNotPlayIfGameIsOver ].
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	
	occupiedOPositions add: aPosition.
	
	turn := playerX.
	
	self hasPlayerOWon.! !

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:43:20'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:43:24'!
ERROR!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:43:24'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:43:39'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 19:43:41'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:43:41'!
ERROR!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:43:41'!
PASSED!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 19:44:33' prior: 50918585!
isOver
	
	^ isOver! !

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:44:36'!
FAILURE!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:44:41'!
FAILURE!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:44:41'!
FAILURE!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:44:43'!
FAILURE!
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 10/31/2020 19:45:02' prior: 50920429 overrides: 16896425!
initialize

	playerX  := PlayerX newIn: self.
	playerO  := PlayerO newIn: self.
	occupiedXPositions  := Set new.
	occupiedOPositions  := Set new.
	isOver := false.
	turn := playerX.! !

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 19:45:05'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:45:05'!
FAILURE!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:45:05'!
FAILURE!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:45:05'!
FAILURE!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 19:45:05'!
FAILURE!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:45:05'!
FAILURE!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:45:05'!
FAILURE!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 19:46:47' prior: 50920370!
playerXPlacesAPieceIn: aPosition 

	(self isOver) ifTrue: [ self error: TerniLapilli canNotPlayIfGameIsOver ].
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	
	occupiedXPositions add: aPosition.
	
	turn := playerO.
	
	self hasPlayerXWon.! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:46:53'!
FAILURE!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:47:04'!
FAILURE!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:47:13'!
FAILURE!
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 19:47:35' prior: 50920816!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ isOver := aPlayerPieces allSatisfy: [ :aPosition |  
		(anOccupiedPosition x = aPosition x) or:
		(anOccupiedPosition y = aPosition y) or:
		(aPosition x abs = aPosition y abs)]! !

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:47:37'!
ERROR!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:47:37'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 19:47:43'!
ERROR!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 19:47:43'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 19:47:52'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:47:56'!
ERROR!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 19:47:56'!
ERROR!
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:05:38' prior: 50921224!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	isOver := 
		(self winsHorizontally: aPlayerPieces)  or:
		(self winsVertically: aPlayerPieces) or:
		(self winsDiagonally: aPlayerPieces).! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:07:16'!
winsHorizontally: aPlayerPieces
	
	
	
	| anOccupiedPosition |
	aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)]! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:07:25' prior: 50921415!
winsHorizontally: aPlayerPieces
	
	| anOccupiedPosition |
	
	aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)]! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:08:59' prior: 50921402!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	isOver := 
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: aPlayerPieces).! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:10:27' prior: 50921431!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	isOver := 
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		((aPlayerPieces allSatisfy: [ :aPosition | aPosition x abs = aPosition y abs]) and: (aPlayerPieces includes: (0@0)))! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:10:35' prior: 50921447!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ isOver := 
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		((aPlayerPieces allSatisfy: [ :aPosition | aPosition x abs = aPosition y abs]) and: (aPlayerPieces includes: (0@0)))! !

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 20:10:57'!
PASSED!

!methodRemoval: TerniLapilli #winsHorizontally: stamp: 'GR 10/31/2020 20:11:22'!
winsHorizontally: aPlayerPieces
	
	| anOccupiedPosition |
	
	aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)]!
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:13:37'!
winsDiagonally: aPlayerPieces

	^ aPlayerPieces allSatisfy: [ :aPosition | aPosition x abs = aPosition y abs]! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:13:37' prior: 50921466!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ isOver := 
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		((self winsDiagonally: aPlayerPieces) and: (aPlayerPieces includes: (0@0)))! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:13:47' prior: 50921576!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ isOver := 
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: aPlayerPieces)! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:13:55' prior: 50921569!
winsDiagonally: aPlayerPieces

	^ (aPlayerPieces allSatisfy: [ :aPosition | aPosition x abs = aPosition y abs])  and: (aPlayerPieces includes: (0@0))! !

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 20:14:52'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 20:14:52'!
PASSED!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 20:15:20'!
test22PlayerCanNotPlaceAPieceIfGameIsOver
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver).
	self
		should: [ juego putOAt: (1@0) ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: TerniLapilli canNotPlayIfGameIsOver = anError messageText ]
	
	! !

!methodRemoval: TerniLapilliTest #test22PlayerCanNotPlayIfGameIsOver stamp: 'GR 10/31/2020 20:15:20'!
test22PlayerCanNotPlayIfGameIsOver
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver).
	self
		should: [ juego putOAt: (1@0) ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: TerniLapilli canNotPlayIfGameIsOver = anError messageText ]
	
	!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 20:16:19'!
test23PlayerCanNotMoveAPieceIfGameIsOver
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (0@-1).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver).
	self
		should: [ juego putOAt: (1@0) ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: TerniLapilli canNotPlayIfGameIsOver = anError messageText ]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 20:17:03' prior: 50921728!
test23PlayerCanNotMoveAPieceIfGameIsOver
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (1@-1).
	juego putOAt: (1@0).
	
	self assert: (juego hasPlayerXWon).
	self assert: (juego isOver).
	self
		should: [ juego putOAt: (1@0) ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: TerniLapilli canNotPlayIfGameIsOver = anError messageText ]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 20:20:01' prior: 50921745!
test23PlayerCanNotMoveAPieceIfGameIsOver
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (-1@1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (0@1).
	juego putXAt: (1@-1).
	juego putOAt: (0@-1).
	
	self
		should: [ juego playerXMovesFrom: (-1@1) to: (-1@-1) ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: TerniLapilli canNotPlayIfGameIsOver = anError messageText ]
	
	! !

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:20:05'!
FAILURE!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:20:47' prior: 50920880!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.
	
	self hasPlayerXWon.! !

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:20:59'!
FAILURE!

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:21:11'!
FAILURE!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:22:06' prior: 50921783!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.! !

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 20:22:20'!
PASSED!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:23:03' prior: 50920894!
playerOmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedOPositions add: anotherPosition.
	
	turn := playerX.
	
	self hasPlayerXWon.! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:23:11' prior: 50921805!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.
	
	self hasPlayerOWon.! !

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver winner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 20:25:03'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver winner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 20:30:13' prior: 50920585!
hasPlayerOWon
	
	^ (self hasAWinningCondition: occupiedOPositions) ifTrue: [ winner := playerO ]! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:33:13'!
thePlayer: aPlayer hasAWinningConditionWith: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	isOver := 
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: aPlayerPieces).
		
	isOver ifTrue: [winner := aPlayer]! !

!methodRemoval: TerniLapilli #hasAWinningCondition: stamp: 'GR 10/31/2020 20:33:18'!
hasAWinningCondition: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	^ isOver := 
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: aPlayerPieces)!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 20:33:51' prior: 50921866!
hasPlayerOWon
	
	^ self thePlayer: playerO hasAWinningConditionWith: occupiedOPositions! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 20:34:08' prior: 50920605!
hasPlayerXWon
	
	^ self thePlayer: playerX hasAWinningConditionWith: occupiedOPositions! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 20:34:13' prior: 50921911!
hasPlayerXWon
	
	^ self thePlayer: playerX hasAWinningConditionWith: occupiedXPositions! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 20:38:48' prior: 50921905!
hasPlayerOWon
	
	
	
	^ self thePlayer: playerO hasAWinningConditionWith: occupiedOPositions! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 20:39:28' prior: 50921923!
hasPlayerOWon
	
	^ (occupiedOPositions allSatisfy: [ :aPosition | (occupiedOPositions x = aPosition x)])  or:
		(occupiedOPositions allSatisfy: [ :aPosition | (occupiedOPositions y = aPosition y)]) or:
		(self winsDiagonally: occupiedOPositions)! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 20:40:09' prior: 50921929!
hasPlayerOWon
	
	| anOccupiedPosition |
	
	(occupiedOPositions size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := occupiedOPositions detect: [ :aPosition | true].
	
	^ (occupiedOPositions allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(occupiedOPositions allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: occupiedOPositions)! !
!TerniLapilli methodsFor: 'testing' stamp: 'GR 10/31/2020 20:40:40' prior: 50921917!
hasPlayerXWon
	
	| anOccupiedPosition |
	
	(occupiedXPositions size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := occupiedXPositions detect: [ :aPosition | true].
	
	^ (occupiedXPositions allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(occupiedXPositions allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: occupiedXPositions).! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:43:16'!
seeIfPlayerXhasAWinningCondition
	
	isOver := self hasPlayerXWon .! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:43:19' prior: 50921972!
seeIfPlayerXhasAWinningCondition
	
	isOver := self hasPlayerXWon.! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 10/31/2020 20:43:28'!
seeIfPlayerOhasAWinningCondition
	
	isOver := self hasPlayerOWon.! !

!methodRemoval: TerniLapilli #thePlayer:hasAWinningConditionWith: stamp: 'GR 10/31/2020 20:43:34'!
thePlayer: aPlayer hasAWinningConditionWith: aPlayerPieces 
	
	| anOccupiedPosition |
	
	(aPlayerPieces size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aPlayerPieces detect: [ :aPosition | true].
	
	isOver := 
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
		(aPlayerPieces allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: aPlayerPieces).
		
	isOver ifTrue: [winner := aPlayer]!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:43:45' prior: 50920925!
playerOPlacesAPieceIn: aPosition 
	
	(self isOver) ifTrue: [ self error: TerniLapilli canNotPlayIfGameIsOver ].
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	
	occupiedOPositions add: aPosition.
	
	turn := playerX.
	
	self seeIfPlayerOhasAWinningCondition .! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:43:51' prior: 50921822!
playerOmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedOPositions add: anotherPosition.
	
	turn := playerX.
	
	self seeIfPlayerOhasAWinningCondition .! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:43:56' prior: 50921203!
playerXPlacesAPieceIn: aPosition 

	(self isOver) ifTrue: [ self error: TerniLapilli canNotPlayIfGameIsOver ].
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	
	occupiedXPositions add: aPosition.
	
	turn := playerO.
	
	self seeIfPlayerXhasAWinningCondition .! !
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:44:02' prior: 50921836!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.
	
	self seeIfPlayerXhasAWinningCondition .! !

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlaceAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:44:05'!
PASSED!

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:44:05'!
FAILURE!

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:44:05'!
FAILURE!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 10/31/2020 20:45:29' prior: 50921763!
test23PlayerCanNotMoveAPieceIfGameIsOver
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (-1@1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (0@1).
	juego putXAt: (1@-1).
	juego putOAt: (0@-1).
	
	self
		should: [ juego playerXMovesFrom: (-1@1) to: (-1@0) ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: TerniLapilli canNotPlayIfGameIsOver = anError messageText ]
	
	! !

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:45:31'!
FAILURE!

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:46:08'!
FAILURE!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:47:17' prior: 50922045!
playerXmovesThePieceIn: aPosition to: anotherPosition
	
	( self isOver ) ifTrue: [ self error: TerniLapilli canNotPlayIfGameIsOver ].
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedXPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedXPositions add: anotherPosition.
	
	turn := playerO.
	
	self seeIfPlayerXhasAWinningCondition .! !

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlaceAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:47:32'!
PASSED!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 10/31/2020 20:55:02'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

----SNAPSHOT----(31 October 2020 20:55:11) CuisUniversity-4383.image priorSource: 18686647!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerXWinsVertically stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerOWinsVertically stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerXWinsHorizontally stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerWinsDiagonally stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerCanWinWithAMovement stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanNotPlaceAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:55:15'!
PASSED!

!testRun: #TerniLapilliTest #test23PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 10/31/2020 20:55:15'!
PASSED!
!TerniLapilli methodsFor: 'private' stamp: 'GR 10/31/2020 20:56:07' prior: 50922018!
playerOmovesThePieceIn: aPosition to: anotherPosition

	(self isOver) ifTrue: [ self error: TerniLapilli canNotPlayIfGameIsOver ].
	
	(self isValidMoveFrom: aPosition to: anotherPosition) ifFalse: [ self error: TerniLapilli canNotDoAnInvalidMove ].
	
	occupiedOPositions remove: aPosition ifAbsent: [self error: TerniLapilli canNotDoAnInvalidMove].
	
	occupiedOPositions add: anotherPosition.
	
	turn := playerX.
	
	self seeIfPlayerOhasAWinningCondition .! !

----QUIT----(31 October 2020 20:57:25) CuisUniversity-4383.image priorSource: 18900195!

----STARTUP---- (31 October 2020 20:58:08) as /home/grosinov/linux64/CuisUniversity-4383.image!


----QUIT----(31 October 2020 20:58:23) CuisUniversity-4383.image priorSource: 18903466!

----STARTUP---- (2 November 2020 14:42:16) as /home/grosinov/linux64/CuisUniversity-4383.image!


!classRemoval: #TerniLapilli stamp: 'GR 11/2/2020 14:43:01'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #PlayerX stamp: 'GR 11/2/2020 14:43:02'!
Player subclass: #PlayerX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #PlayerO stamp: 'GR 11/2/2020 14:43:02'!
Player subclass: #PlayerO
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #Player stamp: 'GR 11/2/2020 14:43:02'!
Object subclass: #Player
	instanceVariableNames: 'terniLapilli'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #TerniLapilliTest stamp: 'GR 11/2/2020 14:43:03'!
TestCase subclass: #TerniLapilliTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

----End fileIn of /home/grosinov/linux64/Terni Lapilli.st----!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanNotMovePieceFromOtherPlayer stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerXWinsVertically stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerOWinsVertically stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerXWinsHorizontally stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerWinsDiagonally stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanWinWithAMovement stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test23PlayerCanNotPlaceAPieceIfGameIsOver stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!testRun: #TerniLapilliTest #test24PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 11/2/2020 14:49:14'!
PASSED!

!methodRemoval: TerniLapilli #initializeWith: stamp: 'GR 11/2/2020 14:51:23'!
initializeWith: aTerniLapilliState

	"state := aDoorState"
!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanNotMovePieceFromOtherPlayer stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerXWinsVertically stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerOWinsVertically stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerXWinsHorizontally stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerWinsDiagonally stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanWinWithAMovement stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test23PlayerCanNotPlaceAPieceIfGameIsOver stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!testRun: #TerniLapilliTest #test24PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 11/2/2020 14:51:27'!
PASSED!

!methodRemoval: TerniLapilli class #stateFor: stamp: 'GR 11/2/2020 15:02:57'!
stateFor: aTerniLapilli

	^(self subclasses detect: [:aTerniLapilliClass | aTerniLapilliClass canHandle: aTerniLapilli ]) for: aTerniLapilli!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanNotMovePieceFromOtherPlayer stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerXWinsVertically stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerOWinsVertically stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerXWinsHorizontally stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerWinsDiagonally stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanWinWithAMovement stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test23PlayerCanNotPlaceAPieceIfGameIsOver stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!testRun: #TerniLapilliTest #test24PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 11/2/2020 15:03:02'!
PASSED!

!methodRemoval: TerniLapilli #playerTriesToPlayWhenGameIsOver stamp: 'GR 11/2/2020 15:05:04'!
playerTriesToPlayWhenGameIsOver

	self error: TerniLapilli canNotPlayIfGameIsOver.!
!FinishedTerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:05:14' prior: 50923278 overrides: 50923224!
move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer

	self error: TerniLapilli canNotPlayIfGameIsOver.! !
!FinishedTerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:05:17' prior: 50923287 overrides: 50923231!
place: aPlayer PieceTo: aPosition AndPutItIn: hisPieces AndChangeTurnTo: anotherPlayer

	self error: TerniLapilli canNotPlayIfGameIsOver.! !

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test16PlayerCanNotMovePieceFromOtherPlayer stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test17PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test18PlayerXWinsVertically stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerOWinsVertically stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerXWinsHorizontally stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerWinsDiagonally stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanWinWithAMovement stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test23PlayerCanNotPlaceAPieceIfGameIsOver stamp: 'GR 11/2/2020 15:05:21'!
PASSED!

!testRun: #TerniLapilliTest #test24PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 11/2/2020 15:05:21'!
PASSED!
!NotFinishedTerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:05:32' prior: 50923324 overrides: 50923224!
move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer

	^ terniLapilli beforeWinning: aPlayer movesFrom: hisPieces ThePieceIn: aPosition to: anotherPosition  
	                  AndChangeTurnTo:anotherPlayer. ! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:08:01' prior: 50923019!
putXAt: aPosition
	
	^ self state place: playerX PieceTo: aPosition AndPutItIn: occupiedXPositions AndChangeTurnTo: playerO.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:08:19' prior: 50923012!
putOAt: aPosition
	
	^ self state place: playerO PieceTo: aPosition AndPutItIn: occupiedOPositions AndChangeTurnTo: playerX.! !

!methodRemoval: TerniLapilli #place:PieceTo:AndPutItIn:AndChangeTurnTo: stamp: 'GR 11/2/2020 15:08:34'!
place: aPlayer PieceTo: aPosition AndPutItIn: hisOccupiedPieces AndChangeTurnTo: anotherPlayer
	
	
	^ self state place: aPlayer PieceTo: aPosition AndPutItIn: hisOccupiedPieces AndChangeTurnTo: anotherPlayer.!

Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver state'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #TerniLapilli category: 'Terni Lapilli' stamp: 'GR 11/2/2020 15:10:24'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver state'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 11/2/2020 15:10:58' prior: 50922945 overrides: 16896425!
initialize

	playerX  := PlayerX newIn: self.
	playerO  := PlayerO newIn: self.
	occupiedXPositions  := Set new.
	occupiedOPositions  := Set new.
	isOver := false.
	state := NotFinishedTerniLapilliState new.
	turn := playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:11:11' prior: 50923747!
putXAt: aPosition
	
	^ state place: playerX PieceTo: aPosition AndPutItIn: occupiedXPositions AndChangeTurnTo: playerO.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:11:17' prior: 50923754!
putOAt: aPosition
	
	^ state place: playerO PieceTo: aPosition AndPutItIn: occupiedOPositions AndChangeTurnTo: playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:13:57' prior: 50922988!
move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer
	
	^ state move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer.
	
	! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:15:06' prior: 50922959!
beforeWinning: aPlayer PlacesPieceTo: aPosition AndPutItIn: hisOccupiedPieces AndChangeTurnTo: anotherPlayer
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	hisOccupiedPieces add: aPosition.
	
	turn := anotherPlayer.
	
	self seeIfCertainPlayerWon: aPlayer with: hisOccupiedPieces .! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:21:14'!
moveXPieceFrom: aPosition to: anotherPosition
	
	^ state move: playerX PieceFrom: occupiedXPositions In: aPosition To: anotherPosition AndChangeTurnTo: playerO.
	
	! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:21:24'!
moveOPieceFrom: aPosition to: anotherPosition
	
	^ state move: playerO PieceFrom: occupiedOPositions In: aPosition To: anotherPosition AndChangeTurnTo: playerX.
	
	! !

!methodRemoval: TerniLapilli #move:PieceFrom:In:To:AndChangeTurnTo: stamp: 'GR 11/2/2020 15:21:30'!
move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer
	
	^ state move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer.
	
	!
!FinishedTerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:22:15'!
place: aPlayer pieceTo: aPosition putItIn: hisPieces andChangeTurnTo: anotherPlayer

	self error: TerniLapilli canNotPlayIfGameIsOver.! !
!NotFinishedTerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:22:15'!
place: aPlayer pieceTo: aPosition putItIn: hisPieces andChangeTurnTo: anotherPlayer

	^ terniLapilli beforeWinning: aPlayer PlacesPieceTo: aPosition  AndPutItIn: hisPieces AndChangeTurnTo: anotherPlayer. ! !
!TerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:22:15'!
place: aPlayer pieceTo: hisPieces putItIn: aPosition andChangeTurnTo: anotherPlayer

	^ self subclassResponsibility.! !
!TerniLapilli methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:22:15' prior: 50923804!
putOAt: aPosition
	
	^ state place: playerO pieceTo: aPosition putItIn: occupiedOPositions andChangeTurnTo: playerX.! !
!TerniLapilli methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:22:15' prior: 50923797!
putXAt: aPosition
	
	^ state place: playerX pieceTo: aPosition putItIn: occupiedXPositions andChangeTurnTo: playerO.! !

!methodRemoval: FinishedTerniLapilliState #place:PieceTo:AndPutItIn:AndChangeTurnTo: stamp: 'GR 11/2/2020 15:22:15'!
place: aPlayer PieceTo: aPosition AndPutItIn: hisPieces AndChangeTurnTo: anotherPlayer

	self error: TerniLapilli canNotPlayIfGameIsOver.!

!methodRemoval: NotFinishedTerniLapilliState #place:PieceTo:AndPutItIn:AndChangeTurnTo: stamp: 'GR 11/2/2020 15:22:15'!
place: aPlayer PieceTo: aPosition AndPutItIn: hisPieces AndChangeTurnTo: anotherPlayer

	^ terniLapilli beforeWinning: aPlayer PlacesPieceTo: aPosition  AndPutItIn: hisPieces AndChangeTurnTo: anotherPlayer. !

!methodRemoval: TerniLapilliState #place:PieceTo:AndPutItIn:AndChangeTurnTo: stamp: 'GR 11/2/2020 15:22:15'!
place: aPlayer PieceTo: hisPieces AndPutItIn: aPosition AndChangeTurnTo: anotherPlayer

	^ self subclassResponsibility.!
!NotFinishedTerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:24:04'!
move: aPlayer pieceOf: hisPieces From: aPosition To: anotherPosition andChangeTurnTo: anotherPlayer

	^ terniLapilli beforeWinning: aPlayer movesFrom: hisPieces ThePieceIn: aPosition to: anotherPosition  
	                  AndChangeTurnTo:anotherPlayer. ! !
!TerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:24:04'!
move: aPlayer pieceOf: hisPieces From: aPosition To: anotherPosition andChangeTurnTo: anotherPlayer

	^ self subclassResponsibility.! !
!FinishedTerniLapilliState methodsFor: 'operations' stamp: 'GR 11/2/2020 15:24:04' overrides: 50923934!
move: aPlayer pieceOf: hisPieces From: aPosition To: anotherPosition andChangeTurnTo: anotherPlayer

	self error: TerniLapilli canNotPlayIfGameIsOver.! !
!TerniLapilli methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50923833!
moveXPieceFrom: aPosition to: anotherPosition
	
	^ state move: playerX pieceOf: occupiedXPositions From: aPosition To: anotherPosition andChangeTurnTo: playerO.
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922651!
test15PlayerCanMoveFromCenterToAnyEmptyPosition
	
	| juego occupiedXPositions playerX playerO|
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	playerX := juego playerX.
	playerO := juego playerO .
	occupiedXPositions := juego occupiedXPositions.
	
	
	juego move: playerX pieceOf: occupiedXPositions From: (0@0) To: (-1@0) andChangeTurnTo: playerO .
	
	
	
	self assert: (juego isOccupied: (-1@0)).
	self assert: (juego isPlaying: juego playerO)
	
	! !
!TerniLapilli methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50923841!
moveOPieceFrom: aPosition to: anotherPosition
	
	^ state move: playerO pieceOf: occupiedOPositions From: aPosition To: anotherPosition andChangeTurnTo: playerX.
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922562!
test11PlayerCanNotMoveAPieceOutsideTheBoard
	
	| juego playerX occupiedXPositions playerO |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	playerX := juego playerX.
	playerO  := juego playerO.
	occupiedXPositions := juego occupiedXPositions.
	
	self 
		should: [juego move: playerX pieceOf: occupiedXPositions From: (0@0) To: (0@4) andChangeTurnTo: playerO .]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922781!
test22PlayerCanWinWithAMovement
	
	| juego occupiedXPositions playerO playerX |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (1@0).
	juego putXAt: (0@1).
	juego putOAt: (-1@1).
	juego putXAt: (1@-1).
	juego putOAt: (-1@-1).
	
	
	playerX := juego playerX.
	playerO := juego playerO .
	occupiedXPositions := juego occupiedXPositions.
	
	
	juego move: playerX pieceOf: occupiedXPositions From: (1@-1) To: (0@-1) andChangeTurnTo: playerO .
	
	
	self assert: (juego has: playerX WonWith: occupiedXPositions ).
	self assert: (juego isOver)
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922694!
test17PlayerCanMoveFromAnywhereToAdjacentPosition
	
	| juego occupiedOPositions occupiedXPositions playerO playerX |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	playerX := juego playerX.
	playerO := juego playerO .
	occupiedXPositions := juego occupiedXPositions.
	occupiedOPositions := juego occupiedOPositions.
	
	
	juego move: playerX pieceOf: occupiedXPositions From: (0@0) To: (-1@0) andChangeTurnTo: playerO .
	juego move: playerO pieceOf: occupiedOPositions From: (1@1) To: (1@0) andChangeTurnTo: playerX .
	
	self assert: (juego isOccupied: (1@0)).
	self assert: (juego isPlaying: juego playerX)
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922540!
test10PlayerCanNotMoveMoreThanOnePosition
	
	| juego playerX occupiedXPositions playerO |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@-1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	playerX := juego playerX.
	playerO := juego playerO.
	occupiedXPositions := juego occupiedXPositions.
	 
	
	self 
		should: [juego move: playerX pieceOf: occupiedXPositions From: (0@-1) To: (0@1) andChangeTurnTo: playerO. ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922823!
test24PlayerCanNotMoveAPieceIfGameIsOver
	
	| juego occupiedXPositions playerO playerX |
	
	juego := TerniLapilli new.
	
	juego putXAt: (-1@1).
	juego putOAt: (0@0).
	juego putXAt: (1@1).
	juego putOAt: (0@1).
	juego putXAt: (1@-1).
	juego putOAt: (0@-1).
	
	playerX := juego playerX.
	playerO := juego playerO .
	occupiedXPositions := juego occupiedXPositions.
	
	
	self
		should: [juego move: playerX pieceOf: occupiedXPositions From: (-1@1) To: (-1@0) andChangeTurnTo: playerO. ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: TerniLapilli canNotPlayIfGameIsOver = anError messageText ]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922584!
test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego occupiedXPositions playerO playerX |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).

	playerX := juego playerX.
	playerO := juego playerO .
	occupiedXPositions := juego occupiedXPositions.
	
	
	self 
		should: [juego move: playerX pieceOf: occupiedXPositions From: (-1@0) To: (-1@-1) andChangeTurnTo: playerO.]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922672!
test16PlayerCanNotMovePieceFromOtherPlayer
	
	| juego occupiedXPositions playerO playerX |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	playerX := juego playerX.
	playerO := juego playerO .
	occupiedXPositions := juego occupiedXPositions.
	
	
	self 
		should: [juego move: playerX pieceOf: occupiedXPositions From: (-1@-1) To: (-1@0) andChangeTurnTo: playerO.]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922628!
test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner
	
	| juego occupiedXPositions playerO playerX |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	playerX := juego playerX.
	playerO := juego playerO .
	occupiedXPositions := juego occupiedXPositions.
	
	
	self 
		should: [juego move: playerX pieceOf: occupiedXPositions From: (0@1) To: (-1@0) andChangeTurnTo: playerO.]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 15:24:04' prior: 50922606!
test13PlayerCanNotMoveAPieceToAnOccupiedPosition
	
	| juego occupiedXPositions playerO playerX |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	playerX := juego playerX.
	playerO := juego playerO .
	occupiedXPositions := juego occupiedXPositions.
	
	
	
	self 
		should: [juego move: playerX pieceOf: occupiedXPositions From: (0@0) To: (0@-1) andChangeTurnTo: playerO .]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !

!methodRemoval: NotFinishedTerniLapilliState #move:PieceFrom:In:To:AndChangeTurnTo: stamp: 'GR 11/2/2020 15:24:04'!
move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer

	^ terniLapilli beforeWinning: aPlayer movesFrom: hisPieces ThePieceIn: aPosition to: anotherPosition  
	                  AndChangeTurnTo:anotherPlayer. !

!methodRemoval: TerniLapilliState #move:PieceFrom:In:To:AndChangeTurnTo: stamp: 'GR 11/2/2020 15:24:04'!
move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer

	^ self subclassResponsibility.!

!methodRemoval: FinishedTerniLapilliState #move:PieceFrom:In:To:AndChangeTurnTo: stamp: 'GR 11/2/2020 15:24:04'!
move: aPlayer PieceFrom: hisPieces In: aPosition To: anotherPosition AndChangeTurnTo: anotherPlayer

	self error: TerniLapilli canNotPlayIfGameIsOver.!
!TerniLapilli methodsFor: 'testing' stamp: 'GR 11/2/2020 15:25:51' prior: 50923025!
has: aPlayer WonWith: aCertainPiecesInBoard
	
	| anOccupiedPosition |
	
	(aCertainPiecesInBoard size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aCertainPiecesInBoard detect: [ :aPosition | true].
	
	^(aCertainPiecesInBoard allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
	  (aCertainPiecesInBoard allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: aCertainPiecesInBoard)! !

!methodRemoval: TerniLapilli #state stamp: 'GR 11/2/2020 15:30:29'!
state 

	^TerniLapilliState stateFor: self!

!methodRemoval: TerniLapilli class #for: stamp: 'GR 11/2/2020 15:31:18'!
for: aTerniLapilli

	^ self new initializeFor: aTerniLapilli 

!

!methodRemoval: TerniLapilli class #canHandle: stamp: 'GR 11/2/2020 15:31:22'!
canHandle: aTerniLapilli

	^ self subclassResponsibility 
!

!methodRemoval: TerniLapilliState class #canHandle: stamp: 'GR 11/2/2020 15:31:35'!
canHandle: aTerniLapilli

	^ self subclassResponsibility.!

!methodRemoval: TerniLapilliState class #for: stamp: 'GR 11/2/2020 15:31:38'!
for: aTerniLapilli

	^ self new initializeFor: aTerniLapilli!

!methodRemoval: TerniLapilliState class #stateFor: stamp: 'GR 11/2/2020 15:31:40'!
stateFor: aTerniLapilli

	^ (self subclasses detect: [:aTerniLapilliState | aTerniLapilliState canHandle: aTerniLapilli]) for: aTerniLapilli. 
	
	!

!methodRemoval: FinishedTerniLapilliState class #canHandle: stamp: 'GR 11/2/2020 15:31:46'!
canHandle: aTerniLapilli

	^ aTerniLapilli isOver.!

!methodRemoval: NotFinishedTerniLapilliState class #canHandle: stamp: 'GR 11/2/2020 15:31:49'!
canHandle: aTerniLapilli

	^ aTerniLapilli  isOver not.!
!TerniLapilliState class methodsFor: 'instance creation' stamp: 'GR 11/2/2020 15:33:01'!
newWith: aTerniLapilli

	^self new initializeFor: aTerniLapilli.! !
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 11/2/2020 15:33:22' prior: 50923787 overrides: 16896425!
initialize

	playerX  := PlayerX newIn: self.
	playerO  := PlayerO newIn: self.
	occupiedXPositions  := Set new.
	occupiedOPositions  := Set new.
	isOver := false.
	state := NotFinishedTerniLapilliState newWith: self.
	turn := playerX.! !

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test01GameStartsWithXTurn stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test02AfterXPlaysIsOTurn stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test03AfterOPlaysIsXTurn stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test04XCanNotPlayInOTurn stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test05OCanNotPlayInXTurn stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test06XCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test07OCanNotPlacePieceOutsideTheBoard stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test08CanNotPlacePieceOnOccupiedPosition stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test09EachPlayerCanNotPlaceMoreThanThreePieces stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test10PlayerCanNotMoveMoreThanOnePosition stamp: 'GR 11/2/2020 15:33:27'!
FAILURE!

!testRun: #TerniLapilliTest #test11PlayerCanNotMoveAPieceOutsideTheBoard stamp: 'GR 11/2/2020 15:33:27'!
FAILURE!

!testRun: #TerniLapilliTest #test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard stamp: 'GR 11/2/2020 15:33:27'!
FAILURE!

!testRun: #TerniLapilliTest #test13PlayerCanNotMoveAPieceToAnOccupiedPosition stamp: 'GR 11/2/2020 15:33:27'!
FAILURE!

!testRun: #TerniLapilliTest #test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner stamp: 'GR 11/2/2020 15:33:27'!
FAILURE!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 11/2/2020 15:33:27'!
ERROR!

!testRun: #TerniLapilliTest #test16PlayerCanNotMovePieceFromOtherPlayer stamp: 'GR 11/2/2020 15:33:27'!
FAILURE!

!testRun: #TerniLapilliTest #test17PlayerCanMoveFromAnywhereToAdjacentPosition stamp: 'GR 11/2/2020 15:33:27'!
ERROR!

!testRun: #TerniLapilliTest #test18PlayerXWinsVertically stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test19PlayerOWinsVertically stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test20PlayerXWinsHorizontally stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test21PlayerWinsDiagonally stamp: 'GR 11/2/2020 15:33:27'!
PASSED!

!testRun: #TerniLapilliTest #test22PlayerCanWinWithAMovement stamp: 'GR 11/2/2020 15:33:27'!
ERROR!

!testRun: #TerniLapilliTest #test23PlayerCanNotPlaceAPieceIfGameIsOver stamp: 'GR 11/2/2020 15:33:27'!
FAILURE!

!testRun: #TerniLapilliTest #test24PlayerCanNotMoveAPieceIfGameIsOver stamp: 'GR 11/2/2020 15:33:27'!
FAILURE!

!testRun: #TerniLapilliTest #test15PlayerCanMoveFromCenterToAnyEmptyPosition stamp: 'GR 11/2/2020 15:33:29'!
ERROR!
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:34:42' prior: 50924060!
test10PlayerCanNotMoveMoreThanOnePosition
	
	| juego playerX occupiedXPositions playerO |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@-1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	playerX := juego playerX.
	playerO := juego playerO.
	occupiedXPositions := juego occupiedXPositions.
	 
	
	self 
		should: [ juego moveXPieceFrom: (0@-1) to: (0@1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:35:05' prior: 50924385!
test10PlayerCanNotMoveMoreThanOnePosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (-1@-1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [ juego moveXPieceFrom: (0@-1) to: (0@1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:35:43' prior: 50923989!
test11PlayerCanNotMoveAPieceOutsideTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [juego moveXPieceFrom: (0@0) to: (0@4)]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:36:16' prior: 50924106!
test12PlayerCanNotMoveAPieceThatIsNotOnTheBoard
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [juego moveXPieceFrom: (-1@0) to: (-1@-1)]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:36:43' prior: 50924176!
test13PlayerCanNotMoveAPieceToAnOccupiedPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@1).
	juego putXAt: (0@-1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (1@0).
	
	self 
		should: [juego moveXPieceFrom: (0@0) to: (0@-1) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:37:18' prior: 50924152!
test14PlayerCanNotDoADiagonalMoveIfItIsNotFromCenterOrCorner
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [juego moveXPieceFrom: (0@1) to: (-1@0)]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:37:56' prior: 50923959!
test15PlayerCanMoveFromCenterToAnyEmptyPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego moveXPieceFrom: (0@0) to: (-1@0).
	
	self assert: (juego isOccupied: (-1@0)).
	self assert: (juego isPlaying: juego playerO)
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:38:21' prior: 50924129!
test16PlayerCanNotMovePieceFromOtherPlayer
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	self 
		should: [juego moveXPieceFrom: (-1@-1) to: (-1@0) ]
		raise: Error
		withExceptionDo: [ :anError |
			self assert: (TerniLapilli canNotDoAnInvalidMove = anError messageText)
			]
	
	! !
!TerniLapilliTest methodsFor: 'testing' stamp: 'GR 11/2/2020 15:39:10' prior: 50924033!
test17PlayerCanMoveFromAnywhereToAdjacentPosition
	
	| juego |
	
	juego := TerniLapilli new.
	
	juego putXAt: (0@0).
	juego putOAt: (0@-1).
	juego putXAt: (0@1).
	juego putOAt: (1@1).
	juego putXAt: (-1@1).
	juego putOAt: (-1@-1).
	
	juego moveXPieceFrom: (0@0) to: (-1@0).
	juego moveOPieceFrom: (1@1) to: (1@0).
	
	self assert: (juego isOccupied: (1@0)).
	self assert: (juego isPlaying: juego playerX)
	
	! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 11/2/2020 15:42:40' prior: 50923139!
seeIfCertainPlayerWon: aPlayer with: aCertainPiecesInBoard
	
	| anOccupiedPosition |
	
	(aCertainPiecesInBoard size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aCertainPiecesInBoard detect: [ :aPosition | true].
	
	isOver := (aCertainPiecesInBoard allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
	  (aCertainPiecesInBoard allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: aCertainPiecesInBoard).
	.! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 11/2/2020 15:42:49' prior: 50924534!
seeIfCertainPlayerWon: aPlayer with: aCertainPiecesInBoard
	
	| anOccupiedPosition |
	
	(aCertainPiecesInBoard size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aCertainPiecesInBoard detect: [ :aPosition | true].
	
	isOver := (aCertainPiecesInBoard allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
	  (aCertainPiecesInBoard allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
		(self winsDiagonally: aCertainPiecesInBoard).! !
!TerniLapilli methodsFor: 'private -- testing' stamp: 'GR 11/2/2020 15:42:58' prior: 50924552!
seeIfCertainPlayerWon: aPlayer with: aCertainPiecesInBoard
	
	| anOccupiedPosition |
	
	(aCertainPiecesInBoard size < 3) ifTrue: [ ^false ].
	
	anOccupiedPosition := aCertainPiecesInBoard detect: [ :aPosition | true].
	
	isOver := (aCertainPiecesInBoard allSatisfy: [ :aPosition | (anOccupiedPosition x = aPosition x)])  or:
	  		(aCertainPiecesInBoard allSatisfy: [ :aPosition | (anOccupiedPosition y = aPosition y)]) or:
			(self winsDiagonally: aCertainPiecesInBoard).! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 15:52:31' prior: 50923890!
putXAt: aPosition
	
	playerX placesAPieceIn: aPosition.
	
	"^ state place: playerX pieceTo: aPosition putItIn: occupiedXPositions andChangeTurnTo: playerO".! !
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 15:53:45'!
playerXPlacesAPieceIn: aPosition
	
	self thePlayer: playerX canPlaceAPieceIn: aPosition.
	
	occupiedXPositions add: aPosition.
	
	turn := playerO.
	
	self seeIfCertainPlayerWon: playerX with: occupiedXPositions.! !
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 15:54:35'!
playerOPlacesAPieceIn: aPosition
	
	self thePlayer: playerO canPlaceAPieceIn: aPosition.
	
	occupiedOPositions add: aPosition.
	
	turn := playerX.
	
	self seeIfCertainPlayerWon: playerO with: occupiedOPositions.! !
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 15:56:25'!
thePlayer: aPlayer PlacesAPieceIn: aPosition addToHisPieces: aPiecesAmount andChangeTurnTo: anotherPlayer
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPiecesAmount add: aPosition.
	
	turn := anotherPlayer.
	
	self seeIfCertainPlayerWon: aPlayer with: aPiecesAmount.! !
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 16:06:07' prior: 50924596!
playerXPlacesAPieceIn: aPosition
	
	self thePlayer: playerX PlacesAPieceIn: aPosition addToHisPieces: occupiedXPositions andChangeTurnTo: playerO.! !
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 16:06:31' prior: 50924606!
playerOPlacesAPieceIn: aPosition
	
	self thePlayer: playerO PlacesAPieceIn: aPosition addToHisPieces: occupiedOPositions andChangeTurnTo: playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 16:12:35' prior: 50924588!
putXAt: aPosition
	
	self thePlayer: playerX PlacesAPieceIn: aPosition addToHisPieces: occupiedXPositions andChangeTurnTo: playerO.
	
	"^ state place: playerX pieceTo: aPosition putItIn: occupiedXPositions andChangeTurnTo: playerO".! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 16:13:04' prior: 50923883!
putOAt: aPosition
	
	self thePlayer: playerO PlacesAPieceIn: aPosition addToHisPieces: occupiedOPositions andChangeTurnTo: playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 16:13:07' prior: 50924655!
putOAt: aPosition
	
	^ state place: playerO pieceTo: aPosition putItIn: occupiedOPositions andChangeTurnTo: playerX.! !

Object subclass: #Player
	instanceVariableNames: 'terniLapilli occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classDefinition: #Player category: 'Terni Lapilli' stamp: 'GR 11/2/2020 16:20:06'!
Object subclass: #Player
	instanceVariableNames: 'terniLapilli occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!methodRemoval: PlayerO #movesThePieceIn:to: stamp: 'GR 11/2/2020 16:20:15'!
movesThePieceIn: aPosition to: anotherPosition
	
	terniLapilli playerOmovesThePieceIn: aPosition to: anotherPosition.!

!methodRemoval: PlayerO #placesAPieceIn: stamp: 'GR 11/2/2020 16:20:17'!
placesAPieceIn: aPosition

	terniLapilli playerOPlacesAPieceIn: aPosition.!

!methodRemoval: PlayerX #movesThePieceIn:to: stamp: 'GR 11/2/2020 16:20:24'!
movesThePieceIn: aPosition to: anotherPosition
	
	terniLapilli playerXmovesThePieceIn: aPosition to: anotherPosition!

!methodRemoval: PlayerX #placesAPieceIn: stamp: 'GR 11/2/2020 16:20:26'!
placesAPieceIn: aPosition

	terniLapilli playerXPlacesAPieceIn: aPosition.!

!methodRemoval: Player #initializeNewIn: stamp: 'GR 11/2/2020 16:20:45'!
initializeNewIn: aTerniLapilli
	
	terniLapilli := aTerniLapilli.!

!methodRemoval: Player #movesThePieceIn:to: stamp: 'GR 11/2/2020 16:20:47'!
movesThePieceIn: aPosition to: anotherPosition

	self subclassResponsibility.!

!methodRemoval: Player #placesAPieceIn: stamp: 'GR 11/2/2020 16:20:51'!
placesAPieceIn: aPosition
	
	self subclassResponsibility.!

!methodRemoval: Player class #newIn: stamp: 'GR 11/2/2020 16:20:59'!
newIn: aTerniLapilli

	^self new initializeNewIn: aTerniLapilli!
!TerniLapilli methodsFor: 'initialization' stamp: 'GR 11/2/2020 16:21:23' prior: 50924287 overrides: 16896425!
initialize

	playerX  := PlayerX new.
	playerO  := PlayerO new.
	isOver := false.
	state := NotFinishedTerniLapilliState newWith: self.
	turn := playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 16:21:32' prior: 50923980!
moveOPieceFrom: aPosition to: anotherPosition
	
	^ state move: playerO From: aPosition To: anotherPosition andChangeTurnTo: playerX.
	
	! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 16:21:39' prior: 50923950!
moveXPieceFrom: aPosition to: anotherPosition
	
	^ state move: playerX From: aPosition To: anotherPosition andChangeTurnTo: playerO.
	
	! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 16:21:59' prior: 50924662!
putOAt: aPosition
	
	^ state place: playerO pieceIn: aPosition andChangeTurnTo: playerX.! !
!TerniLapilli methodsFor: 'operations' stamp: 'GR 11/2/2020 16:22:18' prior: 50924644!
putXAt: aPosition
	
	self thePlayer: playerX placesAPieceIn: aPosition andChangeTurnTo: playerO.
	
	"^ state place: playerX pieceTo: aPosition putItIn: occupiedXPositions andChangeTurnTo: playerO".! !
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 16:23:05'!
thePlayer: aPlayer placesAPieceIn: aPosition andChangeTurnTo: anotherPlayer
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer occupiedPieces add: aPosition.
	
	turn := anotherPlayer.
	
	self seeIfCertainPlayerWon: aPlayer.! !
!Player methodsFor: 'accessing' stamp: 'GR 11/2/2020 16:23:42'!
occupiedPositions

	^occupiedPositions ! !

!methodRemoval: TerniLapilli #occupiedXPositions stamp: 'GR 11/2/2020 16:23:49'!
occupiedXPositions

 	^ occupiedXPositions!

!methodRemoval: TerniLapilli #occupiedOPositions stamp: 'GR 11/2/2020 16:23:52'!
occupiedOPositions

 	^ occupiedOPositions!
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 16:24:17' prior: 50924760!
thePlayer: aPlayer placesAPieceIn: aPosition andChangeTurnTo: anotherPlayer
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer occupiedPositions add: aPosition.
	
	turn := anotherPlayer.
	
	self seeIfCertainPlayerWon: aPlayer.! !
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 16:24:49' prior: 50924783!
thePlayer: aPlayer placesAPieceIn: aPosition andChangeTurnTo: anotherPlayer
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer occupies: aPosition.
	
	turn := anotherPlayer.
	
	self seeIfCertainPlayerWon: aPlayer.! !
!Player methodsFor: 'nil' stamp: 'GR 11/2/2020 16:25:06'!
occupies: aPosition

	occupiedPositions add: aPosition.! !

!methodRemoval: Player #occupiedPositions stamp: 'GR 11/2/2020 16:25:16'!
occupiedPositions

	^occupiedPositions !

!methodRemoval: TerniLapilli #playerXPlacesAPieceIn: stamp: 'GR 11/2/2020 16:26:22'!
playerXPlacesAPieceIn: aPosition
	
	self thePlayer: playerX PlacesAPieceIn: aPosition addToHisPieces: occupiedXPositions andChangeTurnTo: playerO.!

!methodRemoval: TerniLapilli #playerOPlacesAPieceIn: stamp: 'GR 11/2/2020 16:26:25'!
playerOPlacesAPieceIn: aPosition
	
	self thePlayer: playerO PlacesAPieceIn: aPosition addToHisPieces: occupiedOPositions andChangeTurnTo: playerX.!

!methodRemoval: TerniLapilli #thePlayer:PlacesAPieceIn:addToHisPieces:andChangeTurnTo: stamp: 'GR 11/2/2020 16:29:08'!
thePlayer: aPlayer PlacesAPieceIn: aPosition addToHisPieces: aPiecesAmount andChangeTurnTo: anotherPlayer
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPiecesAmount add: aPosition.
	
	turn := anotherPlayer.
	
	self seeIfCertainPlayerWon: aPlayer with: aPiecesAmount.!
!TerniLapilli methodsFor: 'operations -- private' stamp: 'GR 11/2/2020 16:29:22' prior: 50924794!
thePlayer: aPlayer placesAPieceIn: aPosition andChangeTurnTo: anotherPlayer
	
	self thePlayer: aPlayer canPlaceAPieceIn: aPosition.
	
	aPlayer occupies: aPosition.
	
	turn := anotherPlayer.
	
	state := state seeIfCertainPlayerWon: aPlayer.! !

!classRemoval: #NotFinishedTerniLapilliState stamp: 'GR 11/2/2020 16:32:22'!
TerniLapilliState subclass: #NotFinishedTerniLapilliState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #FinishedTerniLapilliState stamp: 'GR 11/2/2020 16:32:23'!
TerniLapilliState subclass: #FinishedTerniLapilliState
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #TerniLapilliState stamp: 'GR 11/2/2020 16:32:23'!
Object subclass: #TerniLapilliState
	instanceVariableNames: 'terniLapilli'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #TerniLapilli stamp: 'GR 11/2/2020 16:32:23'!
Object subclass: #TerniLapilli
	instanceVariableNames: 'turn playerX playerO occupiedXPositions occupiedOPositions isOver state'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #PlayerX stamp: 'GR 11/2/2020 16:32:23'!
Player subclass: #PlayerX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #PlayerO stamp: 'GR 11/2/2020 16:32:24'!
Player subclass: #PlayerO
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #Player stamp: 'GR 11/2/2020 16:32:24'!
Object subclass: #Player
	instanceVariableNames: 'terniLapilli occupiedPositions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

!classRemoval: #TerniLapilliTest stamp: 'GR 11/2/2020 16:32:24'!
TestCase subclass: #TerniLapilliTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Terni Lapilli'!

----QUIT----(2 November 2020 16:34:09) CuisUniversity-4383.image priorSource: 18903653!

----STARTUP---- (2 November 2020 19:10:27) as /home/grosinov/linux64/CuisUniversity-4383.image!


----End fileIn of /home/grosinov/linux64/Portfolio-Ejercicio.st----!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:13:22'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:13:22'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:13:26'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 19:13:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:13:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 19:13:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 19:13:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 19:13:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 19:13:36'!
PASSED!
!AccountTransaction class methodsFor: 'instance creation' stamp: 'GR 11/2/2020 19:25:38' prior: 50925021!
register: aValue on: account

	| transaction |
	
	transaction := self for: aValue.
	account register: transaction.
	
	^ transaction! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'GR 11/2/2020 19:26:38' prior: 50925123!
balance

	^transactions sum: [ :aTransaction | aTransaction addToBalanceDependingOnTransaction ] ifEmpty: [ 0 ]! !
!AccountTransaction methodsFor: 'value' stamp: 'GR 11/2/2020 19:27:07'!
addToBalanceDependingOnTransaction

	self subclassResponsibility ! !
!Deposit methodsFor: 'value' stamp: 'GR 11/2/2020 19:27:31' overrides: 50925183!
addToBalanceDependingOnTransaction

	^ value! !
!Withdraw methodsFor: 'value' stamp: 'GR 11/2/2020 19:27:52' overrides: 50925183!
addToBalanceDependingOnTransaction

	^ value negated! !

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:28:11'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 19:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 19:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 19:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 19:28:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 19:28:20'!
PASSED!

TestCase subclass: #ProtfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ProtfolioTest category: 'Portfolio-Ejercicio' stamp: 'GR 11/2/2020 19:29:04'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/2/2020 19:31:08'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'nil' stamp: 'GR 11/2/2020 19:30:51'!
test01CanCreateAnEmptyPortfolio

	self assert: Portfolio new isEmpty.! !

Object subclass: #Portfolio
	instanceVariableNames: 'grouping'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/2/2020 19:32:06'!
Object subclass: #Portfolio
	instanceVariableNames: 'grouping'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/2/2020 19:32:18'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:32:34' prior: 50925250!
test01CanCreateAnEmptyPortfolio

	! !

!classRemoval: #Portfolio stamp: 'GR 11/2/2020 19:32:39'!
Object subclass: #Portfolio
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/2/2020 19:36:08'!
Object subclass: #Portfolio
	instanceVariableNames: 'contents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:32:54' prior: 50925279!
test01CanCreateAnEmptyPortfolio

	self assert: Portfolio new isEmpty.! !

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:36:12'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 19:36:23'!
isEmpty
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 19:36:32' prior: 50925305!
isEmpty
	
	contents isEmpty.! !

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:36:33'!
ERROR!
!Portfolio methodsFor: 'nil' stamp: 'GR 11/2/2020 19:37:36' overrides: 16896425!
initialize

	contents := Set new.! !

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:37:46'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 19:38:01' prior: 50925309!
isEmpty
	
	^ contents isEmpty.! !

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:38:02'!
PASSED!

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:38:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 19:38:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:38:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:38:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 19:38:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 19:38:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 19:38:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 19:38:02'!
PASSED!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:39:03'!
test02CanAddAnAccountToPortfolio

	! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:39:56' prior: 50925297!
test01CanCreateAnEmptyPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 19:40:50' prior: 50925323!
isEmpty
	
	^ true! !

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:40:53'!
ERROR!

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:40:53'!
ERROR!

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:41:00'!
ERROR!

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:41:00'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 19:41:10'!
balance
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 19:41:14' prior: 50925388!
balance
	
	^0! !

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:41:16'!
PASSED!

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:41:18'!
PASSED!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:43:08' prior: 50925360!
test02CanAddAnAccountToPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount .
	
	self assert: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:43:26' prior: 50925402!
test02CanAddAnAccountToPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount new.
	
	self assert: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:43:36' prior: 50925412!
test02CanAddAnAccountToPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount new.
	
	self deny: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !

!testRun: #ProtfolioTest #test02CanAddAnAccountToPortfolio stamp: 'GR 11/2/2020 19:43:39'!
ERROR!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/2/2020 19:44:06'!
add: aReceptiveAccount 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/2/2020 19:44:34' prior: 50925434!
add: aReceptiveAccount 
	
	contents add: aReceptiveAccount.! !

!testRun: #ProtfolioTest #test02CanAddAnAccountToPortfolio stamp: 'GR 11/2/2020 19:44:36'!
FAILURE!

!testRun: #ProtfolioTest #test02CanAddAnAccountToPortfolio stamp: 'GR 11/2/2020 19:45:01'!
FAILURE!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 19:45:31' prior: 50925373!
isEmpty
	
	^ contents isEmpty! !

!testRun: #ProtfolioTest #test02CanAddAnAccountToPortfolio stamp: 'GR 11/2/2020 19:45:37'!
PASSED!

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:45:37'!
PASSED!

!testRun: #ProtfolioTest #test02CanAddAnAccountToPortfolio stamp: 'GR 11/2/2020 19:45:37'!
PASSED!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:46:16'!
test03

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount new.
	
	self deny: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:47:11'!
test02CanAddAnAccountWithBalanceToPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount new.
	
	self deny: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !

!methodRemoval: ProtfolioTest #test02CanAddAnAccountToPortfolio stamp: 'GR 11/2/2020 19:47:11'!
test02CanAddAnAccountToPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount new.
	
	self deny: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 19:47:58' prior: 50925471!
test02CanAddAnAccountWithBalanceToPortfolio

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio add: account.
	
	self deny: portfolio isEmpty.
	self assert: 100 equals: portfolio balance.! !

!testRun: #ProtfolioTest #test02CanAddAnAccountWithBalanceToPortfolio stamp: 'GR 11/2/2020 19:48:01'!
FAILURE!

!testRun: #ProtfolioTest #test02CanAddAnAccountWithBalanceToPortfolio stamp: 'GR 11/2/2020 19:48:01'!
FAILURE!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 19:51:39' prior: 50925392!
balance
	
	| totalBalance |
	
	totalBalance := 0. 
	
	contents do: [:anAccount | totalBalance := totalBalance + anAccount balance]. 
	
	^totalBalance.! !

!testRun: #ProtfolioTest #test02CanAddAnAccountWithBalanceToPortfolio stamp: 'GR 11/2/2020 19:51:57'!
PASSED!

!testRun: #ProtfolioTest #test02CanAddAnAccountWithBalanceToPortfolio stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ProtfolioTest #test02CanAddAnAccountWithBalanceToPortfolio stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ProtfolioTest #test03 stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 19:51:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 19:51:59'!
PASSED!
!ReceptiveAccount methodsFor: 'balance' stamp: 'GR 11/2/2020 20:16:58' prior: 50925177!
balance
	
	| balance |
	
	balance := 0.
	
	transactions do: [ :aTransaction | balance := aTransaction addToBalance: balance].
	
	^balance! !
!Withdraw methodsFor: 'private' stamp: 'GR 11/2/2020 20:17:17'!
addToBalance: aBalance

	^ aBalance - value.! !

!methodRemoval: Withdraw #addToBalanceDependingOnTransaction stamp: 'GR 11/2/2020 20:17:22'!
addToBalanceDependingOnTransaction

	^ value negated!
!Deposit methodsFor: 'private' stamp: 'GR 11/2/2020 20:17:36'!
addToBalance: aBalance

	^ aBalance + value.! !

!methodRemoval: Deposit #addToBalanceDependingOnTransaction stamp: 'GR 11/2/2020 20:17:40'!
addToBalanceDependingOnTransaction

	^ value!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 20:17:46'!
PASSED!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:34:58'!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount new.
	
	self deny: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !

!methodRemoval: ProtfolioTest #test03 stamp: 'GR 11/2/2020 20:35:04'!
test03

	| portfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount new.
	
	self deny: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:35:19'!
test02BalanceWithAnAccount

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio add: account.
	
	self deny: portfolio isEmpty.
	self assert: 100 equals: portfolio balance.! !

!methodRemoval: ProtfolioTest #test02CanAddAnAccountWithBalanceToPortfolio stamp: 'GR 11/2/2020 20:35:19'!
test02CanAddAnAccountWithBalanceToPortfolio

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio add: account.
	
	self deny: portfolio isEmpty.
	self assert: 100 equals: portfolio balance.!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:35:40'!
test01PortfolioStartsWithBalanceCero

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !

!methodRemoval: ProtfolioTest #test01CanCreateAnEmptyPortfolio stamp: 'GR 11/2/2020 20:35:40'!
test01CanCreateAnEmptyPortfolio

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:35:52' prior: 50925588!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio subPortfolio |
	
	portfolio := Portfolio new.
	portfolio add: ReceptiveAccount new.
	
	self deny: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:37:22' prior: 50925645!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio account subPortfolio account2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	
	self deny: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:37:45' prior: 50925655!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio account subPortfolio account2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self deny: portfolio isEmpty.
	self assert: 150 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:37:53' prior: 50925672!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio account subPortfolio account2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: 150 equals: portfolio balance.! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:38:02'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 20:38:02'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 20:38:02'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:38:02'!
PASSED!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:38:54' prior: 50925690!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio account subPortfolio account2 account3 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	Deposit register: 30 on: account3.
	
	portfolio add: account.
	subPortfolio add: account2.
	subPortfolio add: account3.
	portfolio add: subPortfolio.
	
	self assert: 150 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:38:57' prior: 50925720!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio account subPortfolio account2 account3 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	Deposit register: 30 on: account3.
	
	portfolio add: account.
	subPortfolio add: account2.
	subPortfolio add: account3.
	portfolio add: subPortfolio.
	
	self assert: 180 equals: portfolio balance.! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:38:59'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 20:38:59'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 20:38:59'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:38:59'!
PASSED!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:43:46'!
test04TransactionsWithEmptyPortfolioReturnsNoTransactions

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:44:23' prior: 50925773!
test04TransactionsWithEmptyPortfolioReturnsNoTransactions

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: OrderedCollection new equals: portfolio transactions.! !

!testRun: #ProtfolioTest #test04TransactionsWithEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:44:27'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 20:44:56'!
transactions
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 20:45:14' prior: 50925794!
transactions
	
	^ OrderedCollection new.! !

!testRun: #ProtfolioTest #test04TransactionsWithEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsWithEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 20:45:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 20:45:15'!
PASSED!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:45:49'!
test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: OrderedCollection new equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:46:00'!
test04TransactionsOfEmptyPortfolioReturnsNoTransactions

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: OrderedCollection new equals: portfolio transactions.! !

!methodRemoval: ProtfolioTest #test04TransactionsWithEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:46:00'!
test04TransactionsWithEmptyPortfolioReturnsNoTransactions

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: OrderedCollection new equals: portfolio transactions.!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:46:20' prior: 50925846!
test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: OrderedCollection new equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/2/2020 20:48:01' prior: 50925873!
test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (OrderedCollection with: deposit) equals: portfolio transactions.! !

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:48:16'!
FAILURE!
!Portfolio methodsFor: 'initialization' stamp: 'GR 11/2/2020 20:48:52' prior: 50925316 overrides: 16896425!
initialize

	contents := OrderedCollection new.! !

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:49:07'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:49:09'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 20:49:10'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 20:49:11'!
PASSED!
!Portfolio methodsFor: 'initialization' stamp: 'GR 11/2/2020 20:49:46' prior: 50925905 overrides: 16896425!
initialize

	contents := Set new.! !

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:53:33'!
FAILURE!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:53:33'!
FAILURE!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 20:55:25' prior: 50925798!
transactions
	
	| account |
	
	account := contents detect: [:anAccount | true].
	
	^ account transactions.! !

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:55:27'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:55:33'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 20:55:33'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 20:55:33'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:55:33'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:55:33'!
ERROR!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:55:33'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:55:33'!
ERROR!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:56:06'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 20:56:06'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 20:56:06'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:56:06'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:56:06'!
ERROR!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:56:06'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:56:06'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 20:56:25' prior: 50925937!
transactions
	
	| account |
	
	account := contents detect: [:anAccount | true].
	
	^ account transactions.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 20:56:43' prior: 50926000!
transactions
	
	| account |

	account := contents detect: [:anAccount | true].
	
	^ account transactions.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 20:56:56' prior: 50926007!
transactions
	
	| account |

	account := contents detect: [:anAccount | true] ifNone: [^OrderedCollection new].
	
	^ account transactions.! !

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:56:57'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:56:59'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 20:56:59'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 20:56:59'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 20:56:59'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 20:56:59'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 20:56:59'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 20:57:24'!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (OrderedCollection with: deposit) equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 20:58:46' prior: 50926046!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| portfolio account subPortfolio account2 deposit1 deposit2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (OrderedCollection with: deposit1 with: deposit2) equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 20:59:00' prior: 50925740!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio account subPortfolio account2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: 180 equals: portfolio balance.! !

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 20:59:33'!
FAILURE!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 21:02:30' prior: 50926013!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	
	contents do: [:anElement | transactions add: anElement transactions].
	
	^ transactions.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 21:05:03' prior: 50926102!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	
	contents do: [:anElement | transactions addAll: anElement transactions].
	
	^ transactions.! !

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:05:04'!
FAILURE!

portfolio transactions!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:12:38' prior: 50926060!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| portfolio account subPortfolio account2 deposit1 deposit2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (OrderedCollection with: deposit2 with: deposit1) equals: portfolio transactions.! !

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:18:00'!
FAILURE!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:18:00'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:18:01'!
FAILURE!

(OrderedCollection with: deposit2 with: deposit1)!

portfolio transactions!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:22:27' prior: 50926124!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| portfolio account subPortfolio account2 deposit1 deposit2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (OrderedCollection with: deposit1 with: deposit2) equals: portfolio transactions.! !

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:22:29'!
FAILURE!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:22:29'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:22:30'!
FAILURE!

(OrderedCollection with: deposit1 with: deposit2)!

portfolio transactions!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:23:51' prior: 50926161!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| portfolio account subPortfolio account2 deposit1 deposit2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (( portfolio transactions includes: deposit1 ) and: (portfolio transactions includes: deposit2)).! !

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:23:59'!
FAILURE!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 21:23:59'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:23:59'!
FAILURE!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:24:22' prior: 50926081!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio account subPortfolio account2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: 150 equals: portfolio balance.! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 21:24:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 21:24:24'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:29:31'!
test07hasRegisteredOfEmptyPortfolioReturnsNoTransactions

	| portfolio |
	
	portfolio := Portfolio new.
	
	self assert: OrderedCollection new equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:30:20' prior: 50926344!
test07hasRegisteredOfEmptyPortfolioReturnsNoTransactions

	| portfolio |
	
	portfolio := Portfolio new.
	
	self deny: true.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:31:22' prior: 50926353!
test07hasRegisteredOfEmptyPortfolioReturnsNoTransactions

	| portfolio deposit |
	
	portfolio := Portfolio new.
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:35:25'!
test07EmptyPortfolioHasNotARegisteredTransaction

	| portfolio deposit |
	
	portfolio := Portfolio new.
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio hasRegistered: deposit).! !

!methodRemoval: ProtfolioTest #test07hasRegisteredOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:35:25'!
test07hasRegisteredOfEmptyPortfolioReturnsNoTransactions

	| portfolio deposit |
	
	portfolio := Portfolio new.
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio hasRegistered: deposit).!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:35:36'!
ERROR!
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:36:11'!
hasRegistered: aDeposit 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:36:17' prior: 50926391!
hasRegistered: aDeposit 
	
	^false! !

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 21:36:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 21:36:19'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:37:36'!
test08PortfolioWithAccountHasRegisteredTransactions

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: deposit).! !

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasRegisteredTransactions stamp: 'GR 11/2/2020 21:37:38'!
FAILURE!
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:41:37' prior: 50926396!
hasRegistered: aTransaction
	
	| account |
	
	account := contents detect: [:anAccount | true].
	
	^account hasRegistered: aTransaction.! !

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasRegisteredTransactions stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:41:38'!
ERROR!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasRegisteredTransactions stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 21:41:38'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:41:38'!
ERROR!
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:42:14' prior: 50926471!
hasRegistered: aTransaction
	
	| account |
	
	account := contents detect: [:anAccount | true] ifNone: [^false].
	
	^account hasRegistered: aTransaction.! !

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:42:15'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasRegisteredTransactions stamp: 'GR 11/2/2020 21:42:18'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 21:42:18'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 21:42:18'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:42:18'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:42:18'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:42:18'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:42:18'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:42:18'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasRegisteredTransactions stamp: 'GR 11/2/2020 21:42:18'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:43:04'!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction

	| portfolio account subPortfolio account2 deposit1 deposit2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (( portfolio transactions includes: deposit1 ) and: (portfolio transactions includes: deposit2)).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:43:13'!
test08PortfolioWithAccountHasARegisteredTransaction

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: deposit).! !

!methodRemoval: ProtfolioTest #test08PortfolioWithAccountHasRegisteredTransactions stamp: 'GR 11/2/2020 21:43:13'!
test08PortfolioWithAccountHasRegisteredTransactions

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: deposit).!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:43:35' prior: 50926587!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction

	| portfolio account subPortfolio account2 deposit1 deposit2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (portfolio hasRegistered: deposit2).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:44:08' prior: 50926631!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction

	| portfolio account subPortfolio account2 deposit |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	deposit := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (portfolio hasRegistered: deposit).! !

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransaction stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction stamp: 'GR 11/2/2020 21:44:14'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 21:44:14'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction stamp: 'GR 11/2/2020 21:44:14'!
FAILURE!
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:46:50' prior: 50926542!
hasRegistered: aTransaction
	
	| hasRegistered |
	
	hasRegistered := false.
	
	contents do: [:anElement |  hasRegistered or: (anElement  hasRegistered: aTransaction) ].
	
	^ hasRegistered.! !

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction stamp: 'GR 11/2/2020 21:46:51'!
FAILURE!
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:48:05' prior: 50926736!
hasRegistered: aTransaction
	
	| hasRegistered |
	
	hasRegistered := false.
	
	contents do: [:anElement |  hasRegistered := hasRegistered or: (anElement  hasRegistered: aTransaction) ].
	
	^ hasRegistered.! !

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction stamp: 'GR 11/2/2020 21:48:06'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransaction stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 21:48:08'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 21:48:08'!
PASSED!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 21:52:32' prior: 50925509!
balance
	
	| totalBalance |
	
	totalBalance := 0. 
	
	contents do: [:anElement | totalBalance := totalBalance + anElement balance]. 
	
	^totalBalance.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:53:53'!
test07EmptyPortfolioHasNotARegisteredTransactionInAnyAccount

	| portfolio deposit |
	
	portfolio := Portfolio new.
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio hasRegistered: deposit).! !

!methodRemoval: ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:53:53'!
test07EmptyPortfolioHasNotARegisteredTransaction

	| portfolio deposit |
	
	portfolio := Portfolio new.
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio hasRegistered: deposit).!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:54:06'!
test07EmptyPortfolioHasNotARegisteredTransaction

	| portfolio deposit |
	
	portfolio := Portfolio new.
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio hasRegistered: deposit).! !

!methodRemoval: ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransactionInAnyAccount stamp: 'GR 11/2/2020 21:54:06'!
test07EmptyPortfolioHasNotARegisteredTransactionInAnyAccount

	| portfolio deposit |
	
	portfolio := Portfolio new.
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio hasRegistered: deposit).!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:54:23'!
test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: deposit).! !

!methodRemoval: ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransaction stamp: 'GR 11/2/2020 21:54:23'!
test08PortfolioWithAccountHasARegisteredTransaction

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio add: account.
	
	self assert: (portfolio hasRegistered: deposit).!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/2/2020 21:54:34'!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount

	| portfolio account subPortfolio account2 deposit |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	deposit := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (portfolio hasRegistered: deposit).! !

!methodRemoval: ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction stamp: 'GR 11/2/2020 21:54:34'!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransaction

	| portfolio account subPortfolio account2 deposit |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	deposit := Deposit register: 50 on: account2.
	
	portfolio add: account.
	subPortfolio add: account2.
	portfolio add: subPortfolio.
	
	self assert: (portfolio hasRegistered: deposit).!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/2/2020 21:55:15' prior: 50925439!
add: anElement
	
	contents add: anElement.! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/2/2020 21:55:50' prior: 50926932!
add: aBankingEntity
	
	contents add: aBankingEntity.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 21:55:55' prior: 50926827!
balance
	
	| totalBalance |
	
	totalBalance := 0. 
	
	contents do: [:aBankingEntity | totalBalance := totalBalance + aBankingEntity balance]. 
	
	^totalBalance.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/2/2020 21:56:01' prior: 50926110!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	
	contents do: [:aBankingEntity | transactions addAll: aBankingEntity transactions].
	
	^ transactions.! !
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:56:10' prior: 50926749!
hasRegistered: aTransaction
	
	| hasRegistered |
	
	hasRegistered := false.
	
	contents do: [:aBankingEntity |  hasRegistered := hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ].
	
	^ hasRegistered.! !
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:56:54' prior: 50926958!
hasRegistered: aTransaction
	
	^ contents do: [:aBankingEntity |
		| hasRegistered |
		hasRegistered := false.
		hasRegistered := hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ].! !

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/2/2020 21:56:58'!
ERROR!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/2/2020 21:56:58'!
ERROR!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/2/2020 21:56:58'!
ERROR!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/2/2020 21:56:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/2/2020 21:56:58'!
PASSED!
!Portfolio methodsFor: 'testing' stamp: 'GR 11/2/2020 21:56:10' prior: 50926968!
hasRegistered: aTransaction
	
	| hasRegistered |
	
	hasRegistered := false.
	
	contents do: [:aBankingEntity |  hasRegistered := hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ].
	
	^ hasRegistered.! !

----QUIT----(2 November 2020 22:39:49) CuisUniversity-4383.image priorSource: 18984119!

----STARTUP---- (4 November 2020 14:56:42) as /home/grosinov/linux64/CuisUniversity-4383.image!

!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:10:11'!
test10CanNotAddAPortfolioToItself

	| portfolio |
	
	portfolio := Portfolio new.
	
	self
		should: [ portfolio add: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:10:18'!
FAILURE!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:10:34'!
FAILURE!
!Portfolio class methodsFor: 'no messages' stamp: 'GR 11/4/2020 15:13:09'!
cycleHierarchyError

	^ 'You are adding a portfolio that already exists in the hierarchy'! !
!Portfolio class methodsFor: 'error handling' stamp: 'GR 11/4/2020 15:15:00' prior: 50927074!
cycleHierarchyError

	^ 'You are adding an account or portfolio that already exists in the hierarchy'! !

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:15:10'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:15:50' prior: 50926936!
add: aBankingEntity
	
	(self = aBankingEntity) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aBankingEntity.! !

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:15:53'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:19:17'!
test10CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio add: portfolio2.
	
	self
		should: [ portfolio add: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:19:27'!
test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio add: portfolio2.
	
	self
		should: [ portfolio add: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test10CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 15:19:27'!
test10CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio add: portfolio2.
	
	self
		should: [ portfolio add: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 15:19:36'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:21:19' prior: 50927089!
add: aBankingEntity
	
	(self = aBankingEntity) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aBankingEntity ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aBankingEntity.! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:21:57' prior: 50927182!
add: aBankingEntity
	
	(self == aBankingEntity) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aBankingEntity ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aBankingEntity.! !

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/4/2020 15:22:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/4/2020 15:22:01'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:23:00'!
test12

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio add: portfolio2.
	
	self
		should: [ portfolio add: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:28:13' prior: 50927274!
test12

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio add: portfolio2.
	
	self
		should: [ portfolio2 add: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:29:26'!
FAILURE!

Object subclass: #Portfolio
	instanceVariableNames: 'contents parentPortfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/4/2020 15:30:05'!
Object subclass: #Portfolio
	instanceVariableNames: 'contents parentPortfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:30:33'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:33:10' prior: 50927192!
add: aBankingEntity
	
	(self == aBankingEntity) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aBankingEntity ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	( parentPortfolio == aBankingEntity ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aBankingEntity.! !

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:33:11'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:33:48' prior: 50927316!
add: aBankingEntity
	
	(self == aBankingEntity) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aBankingEntity ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	( parentPortfolio == aBankingEntity ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aBankingEntity.
	
	aBankingEntity childOf: self! !

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:33:53'!
FAILURE!

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:35:08'!
ERROR!
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 15:35:22'!
childOf: aPortfolio 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 15:35:33' prior: 50927350!
childOf: aPortfolio 
	
	parentPortfolio := aPortfolio .! !

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:35:36'!
ERROR!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 15:35:36'!
ERROR!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/4/2020 15:35:36'!
ERROR!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/4/2020 15:35:36'!
ERROR!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:35:36'!
ERROR!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:35:36'!
ERROR!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/4/2020 15:35:36'!
PASSED!

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:35:38'!
ERROR!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 15:35:38'!
ERROR!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/4/2020 15:35:38'!
ERROR!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/4/2020 15:35:38'!
ERROR!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:35:38'!
ERROR!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:35:38'!
ERROR!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/4/2020 15:35:38'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:35:42'!
ERROR!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:36:43' prior: 50925605!
test02BalanceWithAnAccount

	| portfolio account |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio addAccount: account.
	
	self deny: portfolio isEmpty.
	self assert: 100 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:37:05' prior: 50926276!
test03BalanceWithAnAccountAndAPortfolio

	| portfolio account subPortfolio account2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	
	portfolio addAccount: account.
	subPortfolio addAccount: account2.
	portfolio addPortfolio: subPortfolio.
	
	self assert: 150 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:37:14' prior: 50925886!
test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	portfolio addAccount: account.
	
	self assert: (OrderedCollection with: deposit) equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:37:21' prior: 50926198!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| portfolio account subPortfolio account2 deposit1 deposit2 |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account2.
	
	portfolio addAccount: account.
	subPortfolio addAccount: account2.
	portfolio addPortfolio: subPortfolio.
	
	self assert: (( portfolio transactions includes: deposit1 ) and: (portfolio transactions includes: deposit2)).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:37:31' prior: 50926871!
test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount

	| portfolio account deposit |
	
	portfolio := Portfolio new.
	account := ReceptiveAccount new.
	deposit := Deposit register: 100 on: account.
	
	portfolio addAccount: account.
	
	self assert: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:37:38' prior: 50926895!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount

	| portfolio account subPortfolio account2 deposit |
	
	portfolio := Portfolio new.
	subPortfolio := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	deposit := Deposit register: 50 on: account2.
	
	portfolio addAccount: account.
	subPortfolio addAccount: account2.
	portfolio addPortfolio: subPortfolio.
	
	self assert: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:37:49' prior: 50927057!
test10CanNotAddAPortfolioToItself

	| portfolio |
	
	portfolio := Portfolio new.
	
	self
		should: [ portfolio addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:37:56' prior: 50927150!
test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio add: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:38:03' prior: 50927614!
test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:38:10' prior: 50927286!
test12

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio2 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:38:38'!
ERROR!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:38:38'!
ERROR!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/4/2020 15:39:01'!
addAccount: aReceptiveAccount 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/4/2020 15:39:51' prior: 50927660!
addAccount: aReceptiveAccount 
	
	contents add: aReceptiveAccount ! !

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:39:52'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 15:40:16'!
ERROR!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 15:40:16'!
ERROR!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:40:23'!
addPortfolio: aPortfolio 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:40:51' prior: 50927679!
addPortfolio: aPortfolio 

	(self == aPortfolio) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:41:08' prior: 50927684!
addPortfolio: aPortfolio 

	(self == aPortfolio) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 15:41:12'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 15:41:15'!
PASSED!

!testRun: #ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:41:15'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:42:32'!
test12CanNotAddToPortfolioItsParentPortfolio

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio2 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test12 stamp: 'GR 11/4/2020 15:42:32'!
test12

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio2 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!

!methodRemoval: Portfolio #add: stamp: 'GR 11/4/2020 15:44:00'!
add: aBankingEntity
	
	(self == aBankingEntity) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aBankingEntity ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	( parentPortfolio == aBankingEntity ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aBankingEntity.
	
	aBankingEntity childOf: self!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:45:48'!
test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio2 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 15:46:35' prior: 50927802!
test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy stamp: 'GR 11/4/2020 15:46:40'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 15:54:38' prior: 50927698!
addPortfolio: aPortfolio 

	self seeIfAlreadyExistsInHierarchy: aPortfolio.
	
	(self == aPortfolio) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !

!testRun: #ProtfolioTest #test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy stamp: 'GR 11/4/2020 15:54:46'!
FAILURE!

!testRun: #ProtfolioTest #test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy stamp: 'GR 11/4/2020 15:54:50'!
ERROR!

!testRun: #ProtfolioTest #test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy stamp: 'GR 11/4/2020 15:54:55'!
ERROR!

!testRun: #ProtfolioTest #test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy stamp: 'GR 11/4/2020 15:55:03'!
ERROR!
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 15:55:16'!
seeIfAlreadyExistsInHierarchy: aPortfolio 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 15:56:10' prior: 50927870!
seeIfAlreadyExistsInHierarchy: aPortfolio 
	
	parentPortfolio ifNil: [ self seeIfAlreadyExistsInHierarchy: aPortfolio].! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 15:56:31'!
askRootIfAlreadyExistsInHierarchy: aPortfolio 
	
	parentPortfolio ifNil: [ self seeIfAlreadyExistsInHierarchy: aPortfolio].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/4/2020 15:56:31' prior: 50927875!
seeIfAlreadyExistsInHierarchy: aPortfolio 
	
	parentPortfolio ifNil: [ self askRootIfAlreadyExistsInHierarchy: aPortfolio].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/4/2020 15:56:31' prior: 50927838!
addPortfolio: aPortfolio 

	self askRootIfAlreadyExistsInHierarchy: aPortfolio.
	
	(self == aPortfolio) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/4/2020 15:56:31' prior: 50927881!
askRootIfAlreadyExistsInHierarchy: aPortfolio 
	
	parentPortfolio ifNil: [ self askRootIfAlreadyExistsInHierarchy: aPortfolio].! !

!methodRemoval: Portfolio #seeIfAlreadyExistsInHierarchy: stamp: 'GR 11/4/2020 15:56:31'!
seeIfAlreadyExistsInHierarchy: aPortfolio 
	
	parentPortfolio ifNil: [ self askRootIfAlreadyExistsInHierarchy: aPortfolio].!
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 15:58:28' prior: 50927911!
askRootIfAlreadyExistsInHierarchy: aPortfolio 
	
	parentPortfolio ifNotNil: [ parentPortfolio askRootIfAlreadyExistsInHierarchy: aPortfolio].! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 16:09:07' prior: 50927925!
askRootIfAlreadyExistsInHierarchy: aPortfolio 
	
	parentPortfolio ifNotNil: [ parentPortfolio askRootIfAlreadyExistsInHierarchy: aPortfolio]
				ifNil: [
		contents do: [ :aBankingEntity | aBankingEntity seeIfAlreadyExistsInHierarchy ]
	].! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 16:28:12' prior: 50927817!
test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 16:29:36'!
test13

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy stamp: 'GR 11/4/2020 16:29:36'!
test13CanNotAddAPortfolioThatAlreadyExistsInThePortfolioHierarchy

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!
!Portfolio methodsFor: 'testing' stamp: 'GR 11/4/2020 16:34:04' prior: 50927042!
hasRegistered: aTransaction
	
	| hasRegistered |
	
	hasRegistered := false.
	
	contents do: [:aBankingEntity |  hasRegistered := hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ].
	
	^ hasRegistered.! !
!Portfolio methodsFor: 'testing' stamp: 'GR 11/4/2020 16:38:26'!
startWith: aValue andWithEveryElementDo: aBlock
	
	| return |
	
	return := aValue.
	
	contents do: [ :aBankingEntity | aBlock value: aBankingEntity value: return].
	
	^ return.! !

!methodRemoval: Portfolio #startWith:andWithEveryElementDo: stamp: 'GR 11/4/2020 16:39:56'!
startWith: aValue andWithEveryElementDo: aBlock
	
	| return |
	
	return := aValue.
	
	contents do: [ :aBankingEntity | aBlock value: aBankingEntity value: return].
	
	^ return.!
!Portfolio methodsFor: 'testing' stamp: 'GR 11/4/2020 16:40:03' prior: 50927994!
hasRegistered: aTransaction
	
	| hasRegistered |
	
	hasRegistered := false.
	
	contents do: [ :aBankingEntity |  hasRegistered := hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ].
	
	^ hasRegistered.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 16:42:08'!
test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio account |
	
	portfolio := Portfolio new.
	account  := ReceptiveAccount new.
	portfolio addAccount: account.
	
	self
		should: [ portfolio addPortfolio: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:42:13'!
FAILURE!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:42:13'!
FAILURE!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 16:42:29' prior: 50928030!
test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio account |
	
	portfolio := Portfolio new.
	account  := ReceptiveAccount new.
	portfolio addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:42:31'!
FAILURE!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:42:31'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 16:43:19' prior: 50927665!
addAccount: aReceptiveAccount 
	
	(contents includes: aReceptiveAccount) ifTrue: [ self error: Portfolio cycleHierarchyError ]. 
	
	contents add: aReceptiveAccount ! !

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:43:21'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 16:43:22'!
ERROR!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/4/2020 16:43:22'!
ERROR!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 16:43:22'!
ERROR!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 16:43:22'!
FAILURE!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioItsParentPortfolio stamp: 'GR 11/4/2020 16:43:22'!
FAILURE!

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/4/2020 16:43:22'!
FAILURE!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:43:22'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 16:43:30'!
ERROR!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 16:46:23' prior: 50928074!
addAccount: aReceptiveAccount 
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity ~~ aReceptiveAccount ]) ifFalse: [ self error: Portfolio cycleHierarchyError ]. 
	
	contents add: aReceptiveAccount ! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 16:46:25'!
ERROR!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 16:46:36'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 16:46:38'!
ERROR!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 16:46:38'!
ERROR!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 16:46:57' prior: 50927895!
addPortfolio: aPortfolio 

	(self == aPortfolio) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	(contents includes: aPortfolio ) ifTrue: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !

!methodRemoval: ProtfolioTest #test13 stamp: 'GR 11/4/2020 16:47:08'!
test13

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioItsParentPortfolio stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/4/2020 16:47:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/4/2020 16:47:10'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 16:52:38'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 16:53:08' prior: 50928274!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 16:55:09'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 16:55:12'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 16:56:57'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 16:58:56' prior: 50928145!
addAccount: aReceptiveAccount 
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity ~~ aReceptiveAccount ]) ifFalse: [ self error: Portfolio cycleHierarchyError ]. 
	
	parentPortfolio seeIfAlreadyInHierarchy.
	
	contents add: aReceptiveAccount ! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 16:59:04'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:00:08'!
ERROR!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:00:08'!
ERROR!
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 17:00:21'!
seeIfAlreadyInHierarchy
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 17:01:05' prior: 50928345!
addAccount: aReceptiveAccount 
	
	parentPortfolio seeIfAlreadyInHierarchy.
	
	contents add: aReceptiveAccount ! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 17:01:33' prior: 50928373!
addAccount: aReceptiveAccount 
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity ~~ aReceptiveAccount ]) ifFalse: [ self error: Portfolio cycleHierarchyError ]. 
	
	parentPortfolio seeIfAlreadyInHierarchy.
	
	contents add: aReceptiveAccount ! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:01:36'!
ERROR!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:01:36'!
ERROR!

!methodRemoval: Portfolio #seeIfAlreadyInHierarchy stamp: 'GR 11/4/2020 17:01:55'!
seeIfAlreadyInHierarchy
	self shouldBeImplemented.!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 17:02:02' prior: 50928380!
addAccount: aReceptiveAccount 
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity ~~ aReceptiveAccount ]) ifFalse: [ self error: Portfolio cycleHierarchyError ].
	
	contents add: aReceptiveAccount ! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:02:09'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:02:09'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/4/2020 17:02:40' prior: 50928404!
addAccount: aReceptiveAccount 
	
	self seeIfAlreadyInHierarchy: aReceptiveAccount.
	
	contents add: aReceptiveAccount ! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:02:42'!
FAILURE!
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 17:03:01'!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 17:03:41' prior: 50928433!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	
	parentPortfolio ifNotNil: [ parentPortfolio seeIfAlreadyInHierarchy: aReceptiveAccount ].
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity ~~ aReceptiveAccount ]) ifFalse: [ self error: Portfolio cycleHierarchyError ].! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:04:07'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:04:07'!
FAILURE!
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 17:07:47' prior: 50928438!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	
	contents do: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy ].
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity ~~ aReceptiveAccount ]) ifFalse: [ self error: Portfolio cycleHierarchyError ].! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:07:50'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:08:20'!
FAILURE!

!methodRemoval: Portfolio #askRootIfAlreadyExistsInHierarchy: stamp: 'GR 11/4/2020 17:08:38'!
askRootIfAlreadyExistsInHierarchy: aPortfolio 
	
	parentPortfolio ifNotNil: [ parentPortfolio askRootIfAlreadyExistsInHierarchy: aPortfolio]
				ifNil: [
		contents do: [ :aBankingEntity | aBankingEntity seeIfAlreadyExistsInHierarchy ]
	].!
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 17:08:58' prior: 50928458!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	
	contents do: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: aReceptiveAccount ].
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity ~~ aReceptiveAccount ]) ifFalse: [ self error: Portfolio cycleHierarchyError ].! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:09:04'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:09:04'!
FAILURE!
!ReceptiveAccount methodsFor: 'private' stamp: 'GR 11/4/2020 17:09:20'!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'private' stamp: 'GR 11/4/2020 17:10:07' prior: 50928508!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	
	^ self == aReceptiveAccount ! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/4/2020 17:11:59' prior: 50928488!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: aReceptiveAccount ]) ifFalse: [ self error: Portfolio cycleHierarchyError ].! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:12:03'!
FAILURE!
!ReceptiveAccount methodsFor: 'private' stamp: 'GR 11/4/2020 17:13:12' prior: 50928514!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	
	^ self ~~ aReceptiveAccount ! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:13:33'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioItsParentPortfolio stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/4/2020 17:13:35'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/4/2020 17:13:35'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/4/2020 17:18:48'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsDownInTheHierarchy

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio stamp: 'GR 11/4/2020 17:18:48'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInParentPortfolio

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!

----QUIT----(4 November 2020 17:34:57) CuisUniversity-4383.image priorSource: 19052826!

----STARTUP---- (5 November 2020 17:56:02) as /home/grosinov/linux64/CuisUniversity-4383.image!


	self == super!

1 class class!

1 class class class!

1 class class class class!

1 class class class class class!

1 class class class class class class!

1 class class class class class class class!

1 class class class class class class class class !

1 class class class class class class class class class !

1 class class class class class class class class class class!

1 class superclass !

1 class superclass superclass superclass superclass superclass superclass superclass superclass superclass !

1 class superclass superclass superclass superclass superclass superclass superclass superclass !

1 class superclass superclass superclass superclass !

1 class superclass superclass superclass superclass superclass !

1 class superclass superclass superclass superclass superclass !

1 class superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass superclass superclass !

1 class superclass class!

1 class class!

1 class class class!

1 class class !

1 class class class !

1 class class class class!

1 class !

1 class class!

1 class superclass!

1 class class superclass!

1 class class class superclass!

1 class class class !

1 class class !

1 class class superclass!

1 class class superclass superclass !

1 class class superclass superclass superclass !

1 class class superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass !

OrderedCollection instVarNames !

OrderedCollection class!

OrderedCollection superclass!

OrderedCollection superclass class!

OrderedCollection superclass superclass!

OrderedCollection superclass superclass superclass!

OrderedCollection superclass superclass superclass superclass !

OrderedCollection superclass superclass superclass superclass class!

OrderedCollection superclass superclass superclass superclass class class!

OrderedCollection superclass superclass superclass superclass class superclass!

OrderedCollection superclass superclass superclass superclass class superclass class!

OrderedCollection superclass superclass superclass superclass class superclass class class!

OrderedCollection superclass superclass superclass superclass class superclass class class class!

OrderedCollection superclass superclass superclass superclass class superclass class class class class!

1 !

1 class!

1 self!

1 !

1 class!

1 class class!

1 class class class !

1 class class class class!

1 class class class class class!

1 class class!

1 class class super!

1 class class superclass !

1 class class superclass class!

1 class class superclass superclass!

1 class class superclass superclass superclass!

1 class class superclass superclass superclass superclass!

1 class class superclass superclass superclass superclass superclass!

1 class class superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass!

1 class class superclass superclass superclass superclass superclass superclass !

1 class class superclass superclass superclass superclass superclass superclass superclass!

1 class class superclass superclass superclass superclass superclass superclass superclass superclass!

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass!

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass superclass!

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass superclass superclass!

1 class class superclass superclass superclass superclass superclass superclass superclass superclass superclass superclass class !

GameOfLife compile: 'm10 ^10'!
!GameOfLife methodsFor: 'as yet unclassified' stamp: 'GR 11/5/2020 21:18:01'!
m10 ^10! !

!methodRemoval: GameOfLife #m10 stamp: 'GR 11/5/2020 21:18:25'!
m10 ^10!

----QUIT----(5 November 2020 21:38:35) CuisUniversity-4383.image priorSource: 19104318!

----STARTUP---- (7 November 2020 14:52:30) as /home/grosinov/linux64/CuisUniversity-4383.image!


!testRun: #ProtfolioTest #test12CanNotAddToPortfolioItsParentPortfolio stamp: 'GR 11/7/2020 14:53:43'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 14:57:40'!
test13

	"CanNotAddToPortfolioAnAlreadyGrandchildPortfolio"

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 14:58:10' prior: 50928832!
test13

	"CanNotAddToPortfolioAnAlreadyGrandchildPortfolio"

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio addPortfolio: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 14:58:22' prior: 50928846!
test13

	"CanNotAddToPortfolioAnAlreadyGrandchildPortfolio"

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 14:58:23'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 15:01:42' prior: 50928167!
addPortfolio: aPortfolio 

	(self == aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: self class cycleHierarchyError ].
	
	(contents includes: aPortfolio ) ifTrue: [ self error: self class cycleHierarchyError ].
	
	contents do: [:aBankingEntity | (aBankingEntity seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ] ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 15:01:57' prior: 50928882!
addPortfolio: aPortfolio 

	(self == aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: self class cycleHierarchyError ].
	
	contents do: [:aBankingEntity | (aBankingEntity seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ] ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 15:02:58' prior: 50928519!
seeIfAlreadyInHierarchy: bankingEntity
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ]) ifFalse: [ self error: Portfolio cycleHierarchyError ].! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 15:05:40' prior: 50928916!
seeIfAlreadyInHierarchy: bankingEntity
	
	(contents allSatisfy: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ]) ifFalse: [ self error: Portfolio cycleHierarchyError ].
	
	^ self == bankingEntity! !

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:06:19'!
FAILURE!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 15:09:33' prior: 50928925!
seeIfAlreadyInHierarchy: bankingEntity
	
	contents 
		detect: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [ ^true ] 
		ifNone: [ ^ self == bankingEntity ].
	
	! !

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:09:47'!
FAILURE!

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:09:47'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 15:11:16' prior: 50928900!
addPortfolio: aPortfolio 

	(self == aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: self class cycleHierarchyError ].
	
	self seeIfAlreadyInHierarchy: aPortfolio.
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 15:13:20' prior: 50928937!
seeIfAlreadyInHierarchy: bankingEntity
	
	contents 
		detect: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [ ^true ] 
		ifNone: [ ^ self == bankingEntity ].! !

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:13:23'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 15:13:59' prior: 50928951!
addPortfolio: aPortfolio 

	(self == aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	( parentPortfolio == aPortfolio ) ifTrue: [ self error: self class cycleHierarchyError ].
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 15:14:09' prior: 50928975!
addPortfolio: aPortfolio 

	( parentPortfolio == aPortfolio ) ifTrue: [ self error: self class cycleHierarchyError ].
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 15:15:34' prior: 50928963!
seeIfAlreadyInHierarchy: bankingEntity
	
	contents 
		detect: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [ :aBankingEntity | ^true ] 
		ifNone: [ ^ self == bankingEntity ].! !

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:15:53'!
PASSED!

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 15:15:55'!
ERROR!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 15:15:55'!
ERROR!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 15:15:55'!
ERROR!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioItsParentPortfolio stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/7/2020 15:15:55'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsDownInTheHierarchy stamp: 'GR 11/7/2020 15:15:55'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/7/2020 15:15:55'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 15:16:02'!
ERROR!
!ReceptiveAccount methodsFor: 'private' stamp: 'GR 11/7/2020 15:16:58' prior: 50928533!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	
	^ self == aReceptiveAccount ! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 15:16:59'!
PASSED!

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioItsParentPortfolio stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/7/2020 15:17:03'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsDownInTheHierarchy stamp: 'GR 11/7/2020 15:17:03'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/7/2020 15:17:03'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/7/2020 15:17:14'!
FAILURE!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 15:17:47' prior: 50928863!
test13

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 15:17:56'!
test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test13 stamp: 'GR 11/7/2020 15:17:56'!
test13

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 15:28:01'!
test14

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 15:32:20'!
test12CanNotAddToPortfolioAnyOfItsParents

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio2 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test12CanNotAddToPortfolioItsParentPortfolio stamp: 'GR 11/7/2020 15:32:20'!
test12CanNotAddToPortfolioItsParentPortfolio

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio2 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 15:33:30' prior: 50929259!
test12CanNotAddToPortfolioAnyOfItsParents

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio3.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ].
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 15:33:38' prior: 50929287!
test12CanNotAddToPortfolioAnyOfItsParents

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio3.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ].
	
	self
		should: [ portfolio3 addPortfolio: portfolio2 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:33:56'!
FAILURE!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:33:56'!
FAILURE!

Object subclass: #Portfolio
	instanceVariableNames: 'contents containees'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 15:34:24'!
Object subclass: #Portfolio
	instanceVariableNames: 'contents containees'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:45:18'!
FAILURE!

Object subclass: #Portfolio
	instanceVariableNames: 'contents parentsPortfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 15:48:17'!
Object subclass: #Portfolio
	instanceVariableNames: 'contents parentsPortfolio'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 15:50:02' prior: 50928989!
addPortfolio: aPortfolio 

	parentsPortfolio detect: [ :portfolio | portfolio == aPortfolio ] ifFound: [:portfolio | self error: self class cycleHierarchyError ] ifNone: [].
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:50:05'!
FAILURE!
!Portfolio methodsFor: 'initialization' stamp: 'GR 11/7/2020 15:50:44' prior: 50925924 overrides: 16896425!
initialize

	contents := Set new.
	parentsPortfolio  := Set new.! !

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:50:48'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 15:51:53' prior: 50929367!
addPortfolio: aPortfolio 

	parentsPortfolio detect: [ :portfolio | portfolio == aPortfolio ] ifFound: [:portfolio | self error: self class cycleHierarchyError ] ifNone: [].
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 15:52:06' prior: 50927355!
childOf: aPortfolio 
	
	parentsPortfolio add: aPortfolio .! !

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:52:07'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test14 stamp: 'GR 11/7/2020 15:52:09'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/7/2020 15:52:09'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsDownInTheHierarchy stamp: 'GR 11/7/2020 15:52:09'!
FAILURE!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 15:52:11'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 15:53:16' prior: 50929244!
test14

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test14 stamp: 'GR 11/7/2020 15:59:58'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:00:55' prior: 50929394!
addPortfolio: aPortfolio 
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:01:23' prior: 50929001!
seeIfAlreadyInHierarchy: bankingEntity
	
	parentsPortfolio 
		detect: [ :portfolio | portfolio == bankingEntity ] 
		ifFound: [:portfolio | self error: self class cycleHierarchyError ] 
		ifNone: [].
	
	contents 
		detect: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [ :aBankingEntity | ^true ] 
		ifNone: [ ^ self == bankingEntity ].! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:01:57' prior: 50929509!
seeIfAlreadyInHierarchy: bankingEntity
	
	parentsPortfolio 
		detect: [ :portfolio | portfolio seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [:portfolio | ^true ] 
		ifNone: [].
	
	contents 
		detect: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [ :aBankingEntity | ^true ] 
		ifNone: [ ^ self == bankingEntity ].! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:02:37' prior: 50929524!
seeIfAlreadyInHierarchy: bankingEntity
	
	contents 
		detect: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [ :aBankingEntity | ^true ] 
		ifNone: [ ^ self == bankingEntity ].! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:06:49' prior: 50929500!
addPortfolio: aPortfolio 
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	parentsPortfolio 
		detect: [ :portfolio | portfolio seeIfAlreadyInHierarchy: aPortfolio ] 
		ifFound: [:portfolio | ^true ] 
		ifNone: [].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:07:05' prior: 50929548!
addPortfolio: aPortfolio 
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	parentsPortfolio 
		detect: [ :portfolio | portfolio seeIfAlreadyInHierarchy: aPortfolio ] 
		ifFound: [:portfolio | true ] 
		ifNone: [].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:07:19'!
seeIfItsUpInTheHierarchy: aPortfolio

	^ parentsPortfolio 
		detect: [ :portfolio | portfolio seeIfAlreadyInHierarchy: aPortfolio ] 
		ifFound: [:portfolio | true ] 
		ifNone: []! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:07:19' prior: 50929561!
addPortfolio: aPortfolio 
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	self seeIfItsUpInTheHierarchy: aPortfolio.
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:07:43' prior: 50929574!
seeIfItsUpInTheHierarchy: aPortfolio

	^ parentsPortfolio 
		detect: [ :portfolio | portfolio seeIfItsUpInTheHierarchy: aPortfolio ] 
		ifFound: [:portfolio | true ] 
		ifNone: []! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:07:57' prior: 50929593!
seeIfItsUpInTheHierarchy: aPortfolio

	^ parentsPortfolio 
		detect: [ :portfolio | portfolio seeIfItsUpInTheHierarchy: aPortfolio ] 
		ifFound: [:portfolio | true ] 
		ifNone: [ false ]! !

!testRun: #ProtfolioTest #test14 stamp: 'GR 11/7/2020 16:08:05'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:08:31' prior: 50929583!
addPortfolio: aPortfolio 
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	(self seeIfItsUpInTheHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	contents add: aPortfolio.
	
	aPortfolio childOf: self! !

!testRun: #ProtfolioTest #test14 stamp: 'GR 11/7/2020 16:08:32'!
FAILURE!

!testRun: #ProtfolioTest #test14 stamp: 'GR 11/7/2020 16:08:36'!
FAILURE!

!testRun: #ProtfolioTest #test14 stamp: 'GR 11/7/2020 16:08:36'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:09:23' prior: 50929602!
seeIfItsUpInTheHierarchy: aPortfolio

	^ parentsPortfolio 
		detect: [ :portfolio | portfolio seeIfItsUpInTheHierarchy: aPortfolio ] 
		ifFound: [:portfolio | true ] 
		ifNone: [ self == aPortfolio ]! !

!testRun: #ProtfolioTest #test14 stamp: 'GR 11/7/2020 16:09:26'!
PASSED!

!testRun: #ProtfolioTest #test14 stamp: 'GR 11/7/2020 16:09:28'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:09:52'!
test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test14 stamp: 'GR 11/7/2020 16:09:52'!
test14

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:10:17'!
test15CanNotAddToPortfolioAPortfolioInAnotherBranch

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:10:29' prior: 50929677!
test15CanNotAddToPortfolioAPortfolioInAnotherBranch

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:10:37' prior: 50929694!
test15CanNotAddToPortfolioAPortfolioInAnotherBranch

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio addPortfolio: portfolio3.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

Object subclass: #Portfolio
	instanceVariableNames: 'contents rootPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 16:11:00'!
Object subclass: #Portfolio
	instanceVariableNames: 'contents rootPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 16:11:24'!
Object subclass: #Portfolio
	instanceVariableNames: 'bankingEntities rootPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 16:11:24' prior: 50928020!
hasRegistered: aTransaction
	
	| hasRegistered |
	
	hasRegistered := false.
	
	bankingEntities do: [ :aBankingEntity |  hasRegistered := hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ].
	
	^ hasRegistered.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 16:11:24' prior: 50926949!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	
	bankingEntities do: [:aBankingEntity | transactions addAll: aBankingEntity transactions].
	
	^ transactions.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 16:11:24' prior: 50929385 overrides: 16896425!
initialize

	bankingEntities := Set new.
	parentsPortfolio  := Set new.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 16:11:24' prior: 50926941!
balance
	
	| totalBalance |
	
	totalBalance := 0. 
	
	bankingEntities do: [:aBankingEntity | totalBalance := totalBalance + aBankingEntity balance]. 
	
	^totalBalance.! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 16:11:24' prior: 50928422!
addAccount: aReceptiveAccount 
	
	self seeIfAlreadyInHierarchy: aReceptiveAccount.
	
	bankingEntities add: aReceptiveAccount ! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 16:11:24' prior: 50929538!
seeIfAlreadyInHierarchy: bankingEntity
	
	bankingEntities 
		detect: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [ :aBankingEntity | ^true ] 
		ifNone: [ ^ self == bankingEntity ].! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 16:11:24' prior: 50925450!
isEmpty
	
	^ bankingEntities isEmpty! !
!Portfolio methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 16:11:24' prior: 50929613!
addPortfolio: aPortfolio 
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	(self seeIfItsUpInTheHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	bankingEntities add: aPortfolio.
	
	aPortfolio childOf: self! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:15:49' prior: 50929791!
seeIfAlreadyInHierarchy: bankingEntity
	
	| isInTheHierarchy |
	
	isInTheHierarchy := false.
	
	rootPortfolios do: [ :aRootPortfolio | isInTheHierarchy := isInTheHierarchy or: (aRootPortfolio lookFor: bankingEntity)].
	
	^isInTheHierarchy 
	
	"bankingEntities 
		detect: [ :aBankingEntity | aBankingEntity seeIfAlreadyInHierarchy: bankingEntity ] 
		ifFound: [ :aBankingEntity | ^true ] 
		ifNone: [ ^ self == bankingEntity ]."! !

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:16:06'!
ERROR!
!Portfolio methodsFor: 'initialization' stamp: 'GR 11/7/2020 16:16:21' prior: 50929769 overrides: 16896425!
initialize

	bankingEntities := Set new.
	rootPortfolios  := Set new.! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:17:26' prior: 50929807!
addPortfolio: aPortfolio 
	
	(self seeIfAlreadyInHierarchy: aPortfolio) ifTrue: [ self error: self class cycleHierarchyError ].
	
	bankingEntities add: aPortfolio.
	
	aPortfolio addRootsOfParent: self! !

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:17:31'!
ERROR!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:17:37'!
addRootsOfParent: aPortfolio 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:17:57' prior: 50929858!
addRootsOfParent: aPortfolio 
	
	rootPortfolios := aPortfolio rootPortfolios.! !

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:18:00'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/7/2020 16:18:04'!
rootPortfolios
	self shouldBeImplemented.
	^rootPortfolios! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/7/2020 16:18:07' prior: 50929872!
rootPortfolios
	
	^rootPortfolios! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:19:46' prior: 50929863!
addRootsOfParent: aPortfolio 
	
	rootPortfolios addAll: aPortfolio rootPortfolios.! !

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:20:06'!
FAILURE!
!Portfolio methodsFor: 'initialization' stamp: 'GR 11/7/2020 16:21:33' prior: 50929840 overrides: 16896425!
initialize

	bankingEntities := Set new.
	rootPortfolios  := Set with: self.! !

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:21:55'!
ERROR!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:22:14'!
lookFor: aPortfolio 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:25:48' prior: 50929900!
lookFor: aPortfolio 
	
	bankingEntities 
		detect: [ :aBankingEntity | aBankingEntity lookFor: aPortfolio ]
		ifFound: [ ^true ]
		ifNone: [ ^self == aPortfolio ]! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:28:33' prior: 50929881!
addRootsOfParent: aPortfolio 
	
	rootPortfolios addAll: aPortfolio rootPortfolios.
	rootPortfolios remove: self ifAbsent: [].! !

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:29:24'!
FAILURE!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:30:06' prior: 50929905!
lookFor: aPortfolio 
	
	bankingEntities 
		detect: [ :aBankingEntity | aBankingEntity lookFor: aPortfolio ]
		ifFound: [ :aBankingEntity | ^true ]
		ifNone: [ ^ self == aPortfolio ]! !

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:30:09'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:30:10'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:33:06'!
test16

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!testRun: #ProtfolioTest #test16 stamp: 'GR 11/7/2020 16:33:07'!
FAILURE!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:40:29' prior: 50929913!
addRootsOfParent: aPortfolio 
	
	rootPortfolios addAll: aPortfolio rootPortfolios.
	bankingEntities do: [ :aBankingEntity | aBankingEntity addRootsOfParent: aPortfolio ].
	rootPortfolios remove: self ifAbsent: [].! !

!testRun: #ProtfolioTest #test16 stamp: 'GR 11/7/2020 16:40:58'!
PASSED!

!testRun: #ProtfolioTest #test16 stamp: 'GR 11/7/2020 16:41:00'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:42:54'!
test16CanNotAddToPortfolioAPortfolioThatContainsIt

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test16 stamp: 'GR 11/7/2020 16:42:54'!
test16

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:43:07'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio account |
	
	portfolio := Portfolio new.
	account  := ReceptiveAccount new.
	portfolio addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/7/2020 16:43:07'!
test16CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio account |
	
	portfolio := Portfolio new.
	account  := ReceptiveAccount new.
	portfolio addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!

!methodRemoval: Portfolio #seeIfItsUpInTheHierarchy: stamp: 'GR 11/7/2020 16:46:30'!
seeIfItsUpInTheHierarchy: aPortfolio

	^ parentsPortfolio 
		detect: [ :portfolio | portfolio seeIfItsUpInTheHierarchy: aPortfolio ] 
		ifFound: [:portfolio | true ] 
		ifNone: [ self == aPortfolio ]!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:46:41' prior: 50929957!
addRootsOfParent: aPortfolio 
	
	rootPortfolios addAll: aPortfolio rootPortfolios.
	"bankingEntities do: [ :aBankingEntity | aBankingEntity addRootsOfParent: aPortfolio ]."
	rootPortfolios remove: self ifAbsent: [].! !

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/7/2020 16:46:48'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsDownInTheHierarchy stamp: 'GR 11/7/2020 16:46:58'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsDownInTheHierarchy stamp: 'GR 11/7/2020 16:46:58'!
FAILURE!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/7/2020 16:47:01'!
FAILURE!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/7/2020 16:47:01'!
FAILURE!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:47:13' prior: 50930039!
addRootsOfParent: aPortfolio 
	
	rootPortfolios addAll: aPortfolio rootPortfolios.
	bankingEntities do: [ :aBankingEntity | aBankingEntity addRootsOfParent: aPortfolio ].
	rootPortfolios remove: self ifAbsent: [].! !

!methodRemoval: Portfolio #childOf: stamp: 'GR 11/7/2020 16:48:09'!
childOf: aPortfolio 
	
	parentsPortfolio add: aPortfolio .!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:48:21' prior: 50929819!
seeIfAlreadyInHierarchy: bankingEntity
	
	| isInTheHierarchy |
	
	isInTheHierarchy := false.
	
	rootPortfolios do: [ :aRootPortfolio | isInTheHierarchy := isInTheHierarchy or: (aRootPortfolio lookFor: bankingEntity)].
	
	^isInTheHierarchy! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:49:05'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsDownInTheHierarchy stamp: 'GR 11/7/2020 16:49:05'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsDownInTheHierarchy

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 16:49:16'!
test18CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio account |
	
	portfolio := Portfolio new.
	account  := ReceptiveAccount new.
	portfolio addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]! !

!methodRemoval: ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/7/2020 16:49:16'!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio account |
	
	portfolio := Portfolio new.
	account  := ReceptiveAccount new.
	portfolio addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:50:23'!
FAILURE!
!Portfolio methodsFor: 'private' stamp: 'GR 11/7/2020 16:51:51' prior: 50929924!
lookFor: bankingEntity 
	
	bankingEntities 
		detect: [ :aBankingEntity | aBankingEntity lookFor: bankingEntity ]
		ifFound: [ :aBankingEntity | ^true ]
		ifNone: [ ^ self == bankingEntity ]! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:52:36'!
FAILURE!
!ReceptiveAccount methodsFor: 'private' stamp: 'GR 11/7/2020 16:52:50'!
lookFor: aReceptiveAccount 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'private' stamp: 'GR 11/7/2020 16:53:26' prior: 50930174!
lookFor: aBankingEntity 
	
	^ self == aBankingEntity! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:53:39'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:53:44'!
FAILURE!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:53:44'!
FAILURE!
!Portfolio methodsFor: 'adding' stamp: 'GR 11/7/2020 16:54:31' prior: 50929784!
addAccount: aReceptiveAccount 
	
	(self seeIfAlreadyInHierarchy: aReceptiveAccount) ifTrue: [self error: Portfolio cycleHierarchyError ].
	
	bankingEntities add: aReceptiveAccount ! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:54:32'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:54:34'!
PASSED!

!methodRemoval: ProtfolioTest #test18CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt stamp: 'GR 11/7/2020 16:54:39'!
test18CanNotAddAnAccountToPortfolioThatAlreadyExistsInIt

	| portfolio account |
	
	portfolio := Portfolio new.
	account  := ReceptiveAccount new.
	portfolio addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withExceptionDo: [:anError | 
			self assert: Portfolio cycleHierarchyError = anError messageText ]!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 16:54:41'!
ERROR!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 16:54:41'!
ERROR!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 16:54:41'!
ERROR!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/7/2020 16:54:41'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 16:54:46'!
ERROR!
!ReceptiveAccount methodsFor: 'private' stamp: 'GR 11/7/2020 16:55:16'!
addRootsOfParent: aPortfolio 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'private' stamp: 'GR 11/7/2020 16:55:19' prior: 50930326!
addRootsOfParent: aPortfolio 
	
	! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 16:57:36'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 16:57:38'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 16:57:39'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/7/2020 16:57:42'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/7/2020 16:57:44'!
PASSED!

----QUIT----(7 November 2020 17:02:56) CuisUniversity-4383.image priorSource: 19109492!

----STARTUP---- (7 November 2020 17:03:21) as /home/grosinov/linux64/CuisUniversity-4383.image!

!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:04:38' prior: 50927603!
test10CanNotAddAPortfolioToItself

	| portfolio |
	
	portfolio := Portfolio new.
	
	self
		should: [ portfolio addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:04:47' prior: 50927628!
test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	| portfolio portfolio2 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio2 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:04:59' prior: 50929309!
test12CanNotAddToPortfolioAnyOfItsParents

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio3.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.
	
	self
		should: [ portfolio3 addPortfolio: portfolio2 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:05:03' prior: 50929213!
test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:05:06' prior: 50929646!
test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:05:12' prior: 50929711!
test15CanNotAddToPortfolioAPortfolioInAnotherBranch

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio addPortfolio: portfolio3.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:05:17' prior: 50929971!
test16CanNotAddToPortfolioAPortfolioThatContainsIt

	| portfolio portfolio2 portfolio3 |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:05:21' prior: 50930093!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy

	| portfolio portfolio2 account |
	
	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account  := ReceptiveAccount new.
	
	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/7/2020 17:05:37'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 17:05:37'!
PASSED!
!ProtfolioTest methodsFor: 'nil' stamp: 'GR 11/7/2020 17:05:56' overrides: 16927572!
setUp

	! !

TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio portfolio2 portfolio3 account account2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

TestCase subclass: #ProtfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ProtfolioTest category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 17:06:21'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:06:37' prior: 50925628!
test01PortfolioStartsWithBalanceCero

	| portfolio |
	self assert: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !

TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio portfolio2 portfolio3 account account2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio1 portfolio4 portfolio5 account6 account7'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ProtfolioTest category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 17:07:07'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio1 portfolio4 portfolio5 account6 account7'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:07:23' prior: 50930750!
test01PortfolioStartsWithBalanceCero

	self assert: portfolio1 isEmpty.
	self assert: 0 equals: portfolio1 balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:08:07' prior: 50930729 overrides: 16927572!
setUp

	portfolio1 := Portfolio new.
	portfolio4 := Portfolio new.
	portfolio5 := Portfolio new.
	account6  := ReceptiveAccount new.
	account7  := ReceptiveAccount new.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:08:33' prior: 50927508!
test02BalanceWithAnAccount

	Deposit register: 100 on: account6.
	portfolio1 addAccount: account6.
	
	self deny: portfolio1 isEmpty.
	self assert: 100 equals: portfolio1 balance.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:10:16' prior: 50927519!
test03BalanceWithAnAccountAndAPortfolio

	
	
	portfolio1 := Portfolio new.
	portfolio4 := Portfolio new.
	account6 := ReceptiveAccount new.
	account7 := ReceptiveAccount new.
	
	Deposit register: 100 on: account6.
	Deposit register: 50 on: account7.
	
	portfolio1 addAccount: account6.
	portfolio4 addAccount: account7.
	portfolio1 addPortfolio: portfolio4.
	
	self assert: 150 equals: portfolio1 balance.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:10:27' prior: 50930804!
test03BalanceWithAnAccountAndAPortfolio

	portfolio1 := Portfolio new.
	portfolio4 := Portfolio new.
	account6 := ReceptiveAccount new.
	account7 := ReceptiveAccount new.
	
	Deposit register: 100 on: account6.
	Deposit register: 50 on: account7.
	
	portfolio1 addAccount: account6.
	portfolio4 addAccount: account7.
	portfolio1 addPortfolio: portfolio4.
	
	self assert: 150 equals: portfolio1 balance.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:10:37' prior: 50925855!
test04TransactionsOfEmptyPortfolioReturnsNoTransactions

	self assert: OrderedCollection new equals: portfolio1 transactions.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:11:26' prior: 50927536!
test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount

	| deposit |
	
	deposit := Deposit register: 100 on: account6.
	portfolio1 addAccount: account6.
	
	self assert: (OrderedCollection with: deposit) equals: portfolio1 transactions.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:12:54' prior: 50927550!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| deposit1 deposit2 |
	
	deposit1 := Deposit register: 100 on: account6.
	deposit2 := Deposit register: 50 on: account7.
	
	portfolio1 addAccount: account6.
	portfolio4 addAccount: account7.
	portfolio1 addPortfolio: portfolio4 .
	
	self assert: (( portfolio1 transactions includes: deposit1 ) and: (portfolio1 transactions includes: deposit2)).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:13:22' prior: 50926852!
test07EmptyPortfolioHasNotARegisteredTransaction

	| deposit |
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio1 hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:13:41' prior: 50927572!
test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount

	| deposit |
	
	deposit := Deposit register: 100 on: account6.
	
	portfolio1 addAccount: account6.
	
	self assert: (portfolio1 hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:14:42' prior: 50927584!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount

	| deposit |
	
	Deposit register: 100 on: account6.
	deposit := Deposit register: 50 on: account7.
	
	portfolio1 addAccount: account6.
	portfolio4 addAccount: account7.
	portfolio1 addPortfolio: portfolio4 .
	
	self assert: (portfolio1 hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:14:59' prior: 50930543!
test10CanNotAddAPortfolioToItself

	self
		should: [ portfolio1 addPortfolio: portfolio1 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:15:37' prior: 50930553!
test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	
	portfolio1 addPortfolio: portfolio4.
	
	self
		should: [ portfolio1 addPortfolio: portfolio4 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:16:35' prior: 50930566!
test12CanNotAddToPortfolioAnyOfItsParents

	portfolio1 addPortfolio: portfolio5.
	portfolio4 addPortfolio: portfolio5.
	
	self
		should: [ portfolio5 addPortfolio: portfolio1 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.
	
	self
		should: [ portfolio5 addPortfolio: portfolio4 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:17:04' prior: 50930585!
test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio

	portfolio1 addPortfolio: portfolio4.
	portfolio4 addPortfolio: portfolio5.
	
	self
		should: [ portfolio1 addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:18:07' prior: 50930600!
test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio

	portfolio1 addPortfolio: portfolio4.
	portfolio4 addPortfolio: portfolio5.
	
	self
		should: [ portfolio5 addPortfolio: portfolio1 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:18:24' prior: 50930615!
test15CanNotAddToPortfolioAPortfolioInAnotherBranch

	portfolio1 addPortfolio: portfolio4.
	portfolio1 addPortfolio: portfolio5.
	
	self
		should: [ portfolio4 addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:18:57' prior: 50930630!
test16CanNotAddToPortfolioAPortfolioThatContainsIt

	portfolio1 addPortfolio: portfolio4.
	portfolio5 addPortfolio: portfolio1.
	
	self
		should: [ portfolio4 addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:19:17' prior: 50930645!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy

	portfolio1 addPortfolio: portfolio4.
	portfolio4 addAccount: account6.
	
	self
		should: [ portfolio1 addAccount: account6 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !

!classDefinition: #ProtfolioTest category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 17:19:27'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio portfolio4 portfolio5 account6 account7'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930980!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy

	portfolio addPortfolio: portfolio4.
	portfolio4 addAccount: account6.
	
	self
		should: [ portfolio addAccount: account6 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930903!
test10CanNotAddAPortfolioToItself

	self
		should: [ portfolio addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930958!
test15CanNotAddToPortfolioAPortfolioInAnotherBranch

	portfolio addPortfolio: portfolio4.
	portfolio addPortfolio: portfolio5.
	
	self
		should: [ portfolio4 addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930879!
test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount

	| deposit |
	
	deposit := Deposit register: 100 on: account6.
	
	portfolio addAccount: account6.
	
	self assert: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930836!
test04TransactionsOfEmptyPortfolioReturnsNoTransactions

	self assert: OrderedCollection new equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930778!
test01PortfolioStartsWithBalanceCero

	self assert: portfolio isEmpty.
	self assert: 0 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930947!
test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio

	portfolio addPortfolio: portfolio4.
	portfolio4 addPortfolio: portfolio5.
	
	self
		should: [ portfolio5 addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930921!
test12CanNotAddToPortfolioAnyOfItsParents

	portfolio addPortfolio: portfolio5.
	portfolio4 addPortfolio: portfolio5.
	
	self
		should: [ portfolio5 addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.
	
	self
		should: [ portfolio5 addPortfolio: portfolio4 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930786 overrides: 16927572!
setUp

	portfolio := Portfolio new.
	portfolio4 := Portfolio new.
	portfolio5 := Portfolio new.
	account6  := ReceptiveAccount new.
	account7  := ReceptiveAccount new.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930820!
test03BalanceWithAnAccountAndAPortfolio

	portfolio := Portfolio new.
	portfolio4 := Portfolio new.
	account6 := ReceptiveAccount new.
	account7 := ReceptiveAccount new.
	
	Deposit register: 100 on: account6.
	Deposit register: 50 on: account7.
	
	portfolio addAccount: account6.
	portfolio4 addAccount: account7.
	portfolio addPortfolio: portfolio4.
	
	self assert: 150 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930936!
test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio

	portfolio addPortfolio: portfolio4.
	portfolio4 addPortfolio: portfolio5.
	
	self
		should: [ portfolio addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930889!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount

	| deposit |
	
	Deposit register: 100 on: account6.
	deposit := Deposit register: 50 on: account7.
	
	portfolio addAccount: account6.
	portfolio4 addAccount: account7.
	portfolio addPortfolio: portfolio4 .
	
	self assert: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930911!
test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	
	portfolio addPortfolio: portfolio4.
	
	self
		should: [ portfolio addPortfolio: portfolio4 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930854!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| deposit1 deposit2 |
	
	deposit1 := Deposit register: 100 on: account6.
	deposit2 := Deposit register: 50 on: account7.
	
	portfolio addAccount: account6.
	portfolio4 addAccount: account7.
	portfolio addPortfolio: portfolio4 .
	
	self assert: (( portfolio transactions includes: deposit1 ) and: (portfolio transactions includes: deposit2)).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930795!
test02BalanceWithAnAccount

	Deposit register: 100 on: account6.
	portfolio addAccount: account6.
	
	self deny: portfolio isEmpty.
	self assert: 100 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930969!
test16CanNotAddToPortfolioAPortfolioThatContainsIt

	portfolio addPortfolio: portfolio4.
	portfolio5 addPortfolio: portfolio.
	
	self
		should: [ portfolio4 addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930843!
test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount

	| deposit |
	
	deposit := Deposit register: 100 on: account6.
	portfolio addAccount: account6.
	
	self assert: (OrderedCollection with: deposit) equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:27' prior: 50930871!
test07EmptyPortfolioHasNotARegisteredTransaction

	| deposit |
	
	deposit := Deposit for: 100.
	
	self deny: (portfolio hasRegistered: deposit).! !

!classDefinition: #ProtfolioTest category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 17:19:31'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio portfolio2 portfolio5 account6 account7'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931146!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| deposit1 deposit2 |
	
	deposit1 := Deposit register: 100 on: account6.
	deposit2 := Deposit register: 50 on: account7.
	
	portfolio addAccount: account6.
	portfolio2 addAccount: account7.
	portfolio addPortfolio: portfolio2 .
	
	self assert: (( portfolio transactions includes: deposit1 ) and: (portfolio transactions includes: deposit2)).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931085 overrides: 16927572!
setUp

	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio5 := Portfolio new.
	account6  := ReceptiveAccount new.
	account7  := ReceptiveAccount new.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931136!
test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio

	
	portfolio addPortfolio: portfolio2.
	
	self
		should: [ portfolio addPortfolio: portfolio2 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931057!
test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio

	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio5.
	
	self
		should: [ portfolio5 addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931021!
test15CanNotAddToPortfolioAPortfolioInAnotherBranch

	portfolio addPortfolio: portfolio2.
	portfolio addPortfolio: portfolio5.
	
	self
		should: [ portfolio2 addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931001!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy

	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account6.
	
	self
		should: [ portfolio addAccount: account6 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931122!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount

	| deposit |
	
	Deposit register: 100 on: account6.
	deposit := Deposit register: 50 on: account7.
	
	portfolio addAccount: account6.
	portfolio2 addAccount: account7.
	portfolio addPortfolio: portfolio2 .
	
	self assert: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931172!
test16CanNotAddToPortfolioAPortfolioThatContainsIt

	portfolio addPortfolio: portfolio2.
	portfolio5 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931094!
test03BalanceWithAnAccountAndAPortfolio

	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account6 := ReceptiveAccount new.
	account7 := ReceptiveAccount new.
	
	Deposit register: 100 on: account6.
	Deposit register: 50 on: account7.
	
	portfolio addAccount: account6.
	portfolio2 addAccount: account7.
	portfolio addPortfolio: portfolio2.
	
	self assert: 150 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931110!
test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio

	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio5.
	
	self
		should: [ portfolio addPortfolio: portfolio5 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:31' prior: 50931069!
test12CanNotAddToPortfolioAnyOfItsParents

	portfolio addPortfolio: portfolio5.
	portfolio2 addPortfolio: portfolio5.
	
	self
		should: [ portfolio5 addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.
	
	self
		should: [ portfolio5 addPortfolio: portfolio2 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !

!classDefinition: #ProtfolioTest category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 17:19:34'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio portfolio2 portfolio3 account6 account7'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:34' prior: 50931260!
test15CanNotAddToPortfolioAPortfolioInAnotherBranch

	portfolio addPortfolio: portfolio2.
	portfolio addPortfolio: portfolio3.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:34' prior: 50931229 overrides: 16927572!
setUp

	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	account6  := ReceptiveAccount new.
	account7  := ReceptiveAccount new.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:35' prior: 50931324!
test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio

	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:35' prior: 50931248!
test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio

	portfolio addPortfolio: portfolio2.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:35' prior: 50931297!
test16CanNotAddToPortfolioAPortfolioThatContainsIt

	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:35' prior: 50931336!
test12CanNotAddToPortfolioAnyOfItsParents

	portfolio addPortfolio: portfolio3.
	portfolio2 addPortfolio: portfolio3.
	
	self
		should: [ portfolio3 addPortfolio: portfolio ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.
	
	self
		should: [ portfolio3 addPortfolio: portfolio2 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !

!classDefinition: #ProtfolioTest category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 17:19:46'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio portfolio2 portfolio3 account account7'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:46' prior: 50931032!
test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount

	| deposit |
	
	deposit := Deposit register: 100 on: account.
	
	portfolio addAccount: account.
	
	self assert: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:46' prior: 50931212!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| deposit1 deposit2 |
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account7.
	
	portfolio addAccount: account.
	portfolio2 addAccount: account7.
	portfolio addPortfolio: portfolio2 .
	
	self assert: (( portfolio transactions includes: deposit1 ) and: (portfolio transactions includes: deposit2)).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:46' prior: 50931163!
test02BalanceWithAnAccount

	Deposit register: 100 on: account.
	portfolio addAccount: account.
	
	self deny: portfolio isEmpty.
	self assert: 100 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:46' prior: 50931308!
test03BalanceWithAnAccountAndAPortfolio

	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account := ReceptiveAccount new.
	account7 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account7.
	
	portfolio addAccount: account.
	portfolio2 addAccount: account7.
	portfolio addPortfolio: portfolio2.
	
	self assert: 150 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:46' prior: 50931183!
test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount

	| deposit |
	
	deposit := Deposit register: 100 on: account.
	portfolio addAccount: account.
	
	self assert: (OrderedCollection with: deposit) equals: portfolio transactions.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:46' prior: 50931372 overrides: 16927572!
setUp

	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	account  := ReceptiveAccount new.
	account7  := ReceptiveAccount new.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:46' prior: 50931283!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount

	| deposit |
	
	Deposit register: 100 on: account.
	deposit := Deposit register: 50 on: account7.
	
	portfolio addAccount: account.
	portfolio2 addAccount: account7.
	portfolio addPortfolio: portfolio2 .
	
	self assert: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:46' prior: 50931271!
test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy

	portfolio addPortfolio: portfolio2.
	portfolio2 addAccount: account.
	
	self
		should: [ portfolio addAccount: account ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !

!classDefinition: #ProtfolioTest category: 'Portfolio-Ejercicio' stamp: 'GR 11/7/2020 17:19:51'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio portfolio2 portfolio3 account account2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:51' prior: 50931476!
test03BalanceWithAnAccountAndAPortfolio

	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	
	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	
	portfolio addAccount: account.
	portfolio2 addAccount: account2.
	portfolio addPortfolio: portfolio2.
	
	self assert: 150 equals: portfolio balance.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:51' prior: 50931513!
test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount

	| deposit |
	
	Deposit register: 100 on: account.
	deposit := Deposit register: 50 on: account2.
	
	portfolio addAccount: account.
	portfolio2 addAccount: account2.
	portfolio addPortfolio: portfolio2 .
	
	self assert: (portfolio hasRegistered: deposit).! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:51' prior: 50931504 overrides: 16927572!
setUp

	portfolio := Portfolio new.
	portfolio2 := Portfolio new.
	portfolio3 := Portfolio new.
	account  := ReceptiveAccount new.
	account2  := ReceptiveAccount new.! !
!ProtfolioTest methodsFor: 'as yet unclassified' stamp: 'GR 11/7/2020 17:19:51' prior: 50931450!
test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction

	| deposit1 deposit2 |
	
	deposit1 := Deposit register: 100 on: account.
	deposit2 := Deposit register: 50 on: account2.
	
	portfolio addAccount: account.
	portfolio2 addAccount: account2.
	portfolio addPortfolio: portfolio2 .
	
	self assert: (( portfolio transactions includes: deposit1 ) and: (portfolio transactions includes: deposit2)).! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/7/2020 17:20:04' prior: 50931548!
test03BalanceWithAnAccountAndAPortfolio

	Deposit register: 100 on: account.
	Deposit register: 50 on: account2.
	
	portfolio addAccount: account.
	portfolio2 addAccount: account2.
	portfolio addPortfolio: portfolio2.
	
	self assert: 150 equals: portfolio balance.! !

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 17:20:27'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/7/2020 17:20:30'!
PASSED!

----QUIT----(7 November 2020 17:22:00) CuisUniversity-4383.image priorSource: 19164353!

----STARTUP---- (7 November 2020 17:22:22) as /home/grosinov/linux64/CuisUniversity-4383.image!


----QUIT----(7 November 2020 17:22:43) CuisUniversity-4383.image priorSource: 19202003!

----STARTUP---- (8 November 2020 18:30:56) as /home/grosinov/linux64/CuisUniversity-4383.image!


Object subclass: #BankingEntity
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #BankingEntity category: 'Portfolio-Ejercicio' stamp: 'GR 11/8/2020 18:32:53'!
Object subclass: #BankingEntity
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

BankingEntity subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #ReceptiveAccount category: 'Portfolio-Ejercicio' stamp: 'GR 11/8/2020 18:33:03'!
BankingEntity subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

BankingEntity subclass: #Portfolio
	instanceVariableNames: 'bankingEntities rootPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classDefinition: #Portfolio category: 'Portfolio-Ejercicio' stamp: 'GR 11/8/2020 18:33:10'!
BankingEntity subclass: #Portfolio
	instanceVariableNames: 'bankingEntities rootPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!
!BankingEntity methodsFor: 'no messages' stamp: 'GR 11/8/2020 18:33:50'!
seeIfAlreadyInHierarchy

	self subclassResponsibility.! !
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:34:05'!
seeIfAlreadyInHierarchy: bankingEntity

	self subclassResponsibility.! !

!methodRemoval: BankingEntity #seeIfAlreadyInHierarchy stamp: 'GR 11/8/2020 18:34:08'!
seeIfAlreadyInHierarchy

	self subclassResponsibility.!
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:34:17'!
lookFor: bankingEntity ! !
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:34:28'!
addRootsOfParent: aPortfolio ! !
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:34:34' prior: 50931779!
lookFor: bankingEntity 

	self subclassResponsibility.! !
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:34:41' prior: 50931783!
addRootsOfParent: aPortfolio

	self subclassResponsibility.! !
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:36:47'!
balance

	self subclassResponsibility.! !
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:37:03'!
hasRegistered: aTransaction

	self subclassResponsibility! !
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:37:06' prior: 50931802!
hasRegistered: aTransaction

	self subclassResponsibility.! !
!BankingEntity methodsFor: 'as yet unclassified' stamp: 'GR 11/8/2020 18:37:35'!
transactions

	self subclassResponsibility.! !

----QUIT----(8 November 2020 18:40:00) CuisUniversity-4383.image priorSource: 19202190!

----STARTUP---- (9 November 2020 16:48:51) as /home/grosinov/linux64/CuisUniversity-4383.image!

!Portfolio methodsFor: 'adding' stamp: 'GR 11/9/2020 16:50:36'!
addBankingEntity: aReceptiveAccount

	(self seeIfAlreadyInHierarchy: aReceptiveAccount) ifTrue: [self error: Portfolio cycleHierarchyError ].
	
	bankingEntities add: aReceptiveAccount! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/9/2020 16:50:36' prior: 50930196!
addAccount: aReceptiveAccount 
	
	self addBankingEntity: aReceptiveAccount ! !
!Portfolio methodsFor: 'adding' stamp: 'GR 11/9/2020 16:50:56' prior: 50929845!
addPortfolio: aPortfolio 
	
	self addBankingEntity: aPortfolio.
	
	aPortfolio addRootsOfParent: self! !

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 16:51:00'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 16:51:00'!
PASSED!
!Portfolio methodsFor: 'adding -- private' stamp: 'GR 11/9/2020 16:51:54' prior: 50931822!
addBankingEntity: aBankingEntity

	(self seeIfAlreadyInHierarchy: aBankingEntity) ifTrue: [self error: Portfolio cycleHierarchyError ].
	
	bankingEntities add: aBankingEntity! !
!Portfolio methodsFor: 'adding -- private' stamp: 'GR 11/9/2020 16:52:01' prior: 50931938!
addBankingEntity: aBankingEntity

	(self seeIfAlreadyInHierarchy: aBankingEntity) ifTrue: [self error: self class cycleHierarchyError ].
	
	bankingEntities add: aBankingEntity! !

----QUIT----(9 November 2020 16:52:26) CuisUniversity-4383.image priorSource: 19205294!

----STARTUP---- (9 November 2020 16:53:36) as /home/grosinov/linux64/CuisUniversity-4383.image!

!AccountTransaction methodsFor: 'private' stamp: 'GR 11/9/2020 17:39:31'!
addToBalance: aValue

	self subclassResponsibility ! !

!methodRemoval: AccountTransaction #addToBalanceDependingOnTransaction stamp: 'GR 11/9/2020 17:39:37'!
addToBalanceDependingOnTransaction

	self subclassResponsibility !
!AccountTransaction methodsFor: 'private' stamp: 'GR 11/9/2020 17:39:47' prior: 50931961!
addToBalance: aBalance

	self subclassResponsibility ! !
!ReceptiveAccount methodsFor: 'balance' stamp: 'GR 11/9/2020 17:54:50' prior: 50925559 overrides: 50931798!
balance
	
	transactions inject: 0 into: [ :aBalance :aTransaction | aTransaction addToBalance: aBalance].
	
	"| balance |
	
	balance := 0.
	
	transactions do: [ :aTransaction | balance := aTransaction addToBalance: balance].
	
	^balance"! !

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 17:54:58'!
ERROR!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 17:54:58'!
ERROR!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 17:54:58'!
FAILURE!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 17:54:58'!
FAILURE!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 17:54:58'!
FAILURE!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 17:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 17:56:14'!
FAILURE!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 17:56:14'!
FAILURE!
!ReceptiveAccount methodsFor: 'balance' stamp: 'GR 11/9/2020 17:56:27' prior: 50931977 overrides: 50931798!
balance
	
	^ transactions inject: 0 into: [ :aBalance :aTransaction | aTransaction addToBalance: aBalance].
	
	"| balance |
	
	balance := 0.
	
	transactions do: [ :aTransaction | balance := aTransaction addToBalance: balance].
	
	^balance"! !

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 17:56:27'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 17:56:30'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 17:56:30'!
PASSED!
!Portfolio methodsFor: 'balance' stamp: 'GR 11/9/2020 17:57:36' prior: 50929775 overrides: 50931798!
balance
	
	bankingEntities inject: 0 into: [:totalBalance :aBankingEntity | totalBalance + aBankingEntity balance]
	
	"| totalBalance |
	
	totalBalance := 0. 
	
	bankingEntities do: [:aBankingEntity | totalBalance := totalBalance + aBankingEntity balance]. 
	
	^totalBalance."! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 17:57:41'!
ERROR!
!Portfolio methodsFor: 'balance' stamp: 'GR 11/9/2020 17:58:56' prior: 50932200 overrides: 50931798!
balance
	
	^ bankingEntities inject: 0 into: [:totalBalance :aBankingEntity | totalBalance + aBankingEntity balance]
	
	"| totalBalance |
	
	totalBalance := 0. 
	
	bankingEntities do: [:aBankingEntity | totalBalance := totalBalance + aBankingEntity balance]. 
	
	^totalBalance."! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 17:58:57'!
FAILURE!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 17:59:00'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 17:59:01'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 17:59:01'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'GR 11/9/2020 17:59:48' prior: 50929759 overrides: 50931812!
transactions

	bankingEntities inject: OrderedCollection new into: [:transactions :aBankingEntity | transactions addAll: aBankingEntity transactions]
	
	"| transactions |
	
	transactions := OrderedCollection new.
	
	bankingEntities do: [:aBankingEntity | transactions addAll: aBankingEntity transactions].
	
	^ transactions."! !
!Portfolio methodsFor: 'transactions' stamp: 'GR 11/9/2020 17:59:53' prior: 50932326 overrides: 50931812!
transactions

	^ bankingEntities inject: OrderedCollection new into: [:transactions :aBankingEntity | transactions addAll: aBankingEntity transactions]
	
	"| transactions |
	
	transactions := OrderedCollection new.
	
	bankingEntities do: [:aBankingEntity | transactions addAll: aBankingEntity transactions].
	
	^ transactions."! !

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 17:59:56'!
FAILURE!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 17:59:56'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 17:59:56'!
FAILURE!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:00:05'!
ERROR!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:01:35'!
FAILURE!
!Portfolio methodsFor: 'transactions' stamp: 'GR 11/7/2020 16:11:24' prior: 50932340 overrides: 50931812!
transactions
	
	| transactions |
	
	transactions := OrderedCollection new.
	
	bankingEntities do: [:aBankingEntity | transactions addAll: aBankingEntity transactions].
	
	^ transactions.! !

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 18:03:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 18:03:03'!
PASSED!
!Portfolio methodsFor: 'transactions' stamp: 'GR 11/9/2020 18:05:30' prior: 50932463 overrides: 50931812!
transactions

	^ bankingEntities inject: OrderedCollection new into: [:transactions :aBankingEntity | transactions addAll: aBankingEntity transactions]
	
	"| transactions |
	
	transactions := OrderedCollection new.
	
	bankingEntities do: [:aBankingEntity | transactions addAll: aBankingEntity transactions].
	
	^ transactions."! !

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:05:33'!
FAILURE!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 18:05:33'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:05:33'!
FAILURE!
!Portfolio methodsFor: 'transactions' stamp: 'GR 11/9/2020 18:07:16' prior: 50932567 overrides: 50931812!
transactions

	"^ bankingEntities inject: OrderedCollection new into: [:transactions :aBankingEntity | transactions addAll: aBankingEntity transactions]"
	
	| transactions |
	
	transactions := OrderedCollection new.
	
	bankingEntities do: [:aBankingEntity | transactions addAll: aBankingEntity transactions].
	
	^ transactions.! !
!Portfolio methodsFor: 'testing' stamp: 'GR 11/9/2020 18:07:58' prior: 50929749 overrides: 50931807!
hasRegistered: aTransaction
	
	^ bankingEntities inject: false into: [ :hasRegistered :aBankingEntity |  hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ]
	
	"| hasRegistered |
	
	hasRegistered := false.
	
	bankingEntities do: [ :aBankingEntity |  hasRegistered := hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ].
	
	^ hasRegistered."! !

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 18:08:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 18:08:03'!
PASSED!
!Portfolio methodsFor: 'balance' stamp: 'GR 11/9/2020 18:08:19' prior: 50932216 overrides: 50931798!
balance
	
	^ bankingEntities inject: 0 into: [:totalBalance :aBankingEntity | totalBalance + aBankingEntity balance]! !
!Portfolio methodsFor: 'testing' stamp: 'GR 11/9/2020 18:08:30' prior: 50932695 overrides: 50931807!
hasRegistered: aTransaction
	
	^ bankingEntities inject: false into: [ :hasRegistered :aBankingEntity |  hasRegistered or: (aBankingEntity  hasRegistered: aTransaction) ]! !
!Portfolio methodsFor: 'private' stamp: 'GR 11/9/2020 18:09:07' prior: 50930083 overrides: 50931769!
seeIfAlreadyInHierarchy: bankingEntity
	
	^ rootPortfolios inject: false into: [ :isInTheHierarchy :aRootPortfolio | isInTheHierarchy or: (aRootPortfolio lookFor: bankingEntity)]
	
	"| isInTheHierarchy |
	
	isInTheHierarchy := false.
	
	rootPortfolios do: [ :aRootPortfolio | isInTheHierarchy := isInTheHierarchy or: (aRootPortfolio lookFor: bankingEntity)].
	
	^isInTheHierarchy"! !

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 18:09:14'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 18:09:14'!
PASSED!
!Portfolio methodsFor: 'private' stamp: 'GR 11/9/2020 18:09:25' prior: 50932820 overrides: 50931769!
seeIfAlreadyInHierarchy: bankingEntity
	
	^ rootPortfolios inject: false into: [ :isInTheHierarchy :aRootPortfolio | isInTheHierarchy or: (aRootPortfolio lookFor: bankingEntity)]! !
!Portfolio methodsFor: 'transactions' stamp: 'GR 11/9/2020 18:15:20' prior: 50932681 overrides: 50931812!
transactions

	^ bankingEntities inject: OrderedCollection new addingAll: [:aBankingEntity | aBankingEntity transactions].! !

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 18:15:24'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 18:15:24'!
PASSED!
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/9/2020 18:23:37'!
test17

	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !
!ProtfolioTest methodsFor: 'testing' stamp: 'GR 11/9/2020 18:23:48'!
test18

	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.! !

!methodRemoval: ProtfolioTest #test17 stamp: 'GR 11/9/2020 18:23:48'!
test17

	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.!

!methodRemoval: ProtfolioTest #test18 stamp: 'GR 11/9/2020 18:26:52'!
test18

	portfolio addPortfolio: portfolio2.
	portfolio3 addPortfolio: portfolio.
	
	self
		should: [ portfolio2 addPortfolio: portfolio3 ]
		raise: Error
		withMessageText: Portfolio cycleHierarchyError.!

----QUIT----(9 November 2020 18:31:05) CuisUniversity-4383.image priorSource: 19209746!

----STARTUP---- (9 November 2020 18:32:01) as /home/grosinov/linux64/CuisUniversity-4383.image!

!ReceptiveAccount methodsFor: 'balance' stamp: 'GR 11/9/2020 18:32:15' prior: 50932090 overrides: 50931798!
balance
	
	^ transactions inject: 0 into: [ :aBalance :aTransaction | aTransaction addToBalance: aBalance].! !

!methodRemoval: ReceptiveAccount #seeIfAlreadyInHierarchy: stamp: 'GR 11/9/2020 18:32:52'!
seeIfAlreadyInHierarchy: aReceptiveAccount 
	
	^ self == aReceptiveAccount !

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test01PortfolioStartsWithBalanceCero stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test02BalanceWithAnAccount stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test03BalanceWithAnAccountAndAPortfolio stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test04TransactionsOfEmptyPortfolioReturnsNoTransactions stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test05TransactionsOfPortfolioWithAnAccountReturnsTransactionsOfThatAccount stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test06TransactionsOfPortfolioWithAnAccountAndAPortfolioReturnsEveryTransaction stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test07EmptyPortfolioHasNotARegisteredTransaction stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test08PortfolioWithAccountHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test09PortfolioWithAccountAndAPortfolioHasARegisteredTransactionInAnyAccount stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test10CanNotAddAPortfolioToItself stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test11CanNotAddAPortfolioThatAlreadyExistsInThePortfolio stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test12CanNotAddToPortfolioAnyOfItsParents stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test13CanNotAddToPortfolioAnAlreadyGrandchildPortfolio stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test14CanNotAddToPortfolioAnAlreadyGrandparentPortfolio stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test15CanNotAddToPortfolioAPortfolioInAnotherBranch stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test16CanNotAddToPortfolioAPortfolioThatContainsIt stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ProtfolioTest #test17CanNotAddAnAccountToPortfolioThatAlreadyExistsInTheHierarchy stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 18:33:04'!
PASSED!

----QUIT----(9 November 2020 18:34:00) CuisUniversity-4383.image priorSource: 19245593!

----STARTUP---- (9 November 2020 19:16:25) as /home/grosinov/linux64/CuisUniversity-4383.image!


!classRemoval: #ReceptiveAccount stamp: 'GR 11/9/2020 19:18:11'!
BankingEntity subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Portfolio stamp: 'GR 11/9/2020 19:18:11'!
BankingEntity subclass: #Portfolio
	instanceVariableNames: 'bankingEntities rootPortfolios'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #BankingEntity stamp: 'GR 11/9/2020 19:18:12'!
Object subclass: #BankingEntity
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Withdraw stamp: 'GR 11/9/2020 19:18:12'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #Deposit stamp: 'GR 11/9/2020 19:18:12'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #AccountTransaction stamp: 'GR 11/9/2020 19:18:13'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ReceptiveAccountTest stamp: 'GR 11/9/2020 19:18:13'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

!classRemoval: #ProtfolioTest stamp: 'GR 11/9/2020 19:18:13'!
TestCase subclass: #ProtfolioTest
	instanceVariableNames: 'portfolio portfolio2 portfolio3 account account2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Ejercicio'!

----End fileIn of /home/grosinov/linux64/Portfolio-Solucion.st----!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 19:25:21'!
test08

	| account deposit |
	
	account := ReceptiveAccount new.
	
	deposit := Deposit register: 100 on: account.
		
	self assert: 1 equals: account transactions size .
	self assert: (account transactions includes: deposit).
! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:27:25'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 19:27:07' prior: 50933968!
test08

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account transactions includes: transfer).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 19:27:33' prior: 50933986!
test08

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account transactions includes: transfer).
! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:27:37'!
ERROR!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:28:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:30:21'!
ERROR!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:30:21'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'GR 11/9/2020 19:30:28'!
transfer: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 
	self shouldBeImplemented.! !

!methodRemoval: Transfer class #transfer:from:to: stamp: 'GR 11/9/2020 19:30:44'!
transfer: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 
	self shouldBeImplemented.!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:30:51'!
ERROR!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:30:51'!
ERROR!
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:30:55'!
transfer: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeTransfer: aSmallInteger from: aReceptiveAccount to: aReceptiveAccount3 ! !
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:31:58' prior: 50934039!
transfer: aValue from: account to: anotherAccount 
	
	| transaction |
	
	transaction := self for: aValue to: anotherAccount.
	account register: transaction.
		
	^ transaction! !

AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:32:31'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:32:52'!
ERROR!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:32:52'!
ERROR!

AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:34:08'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:34:16'!
ERROR!
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:34:20'!
for: aSmallInteger to: aReceptiveAccount 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aSmallInteger to: aReceptiveAccount ! !
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:34:43' prior: 50934092!
for: aValue to: anAccount 
	
	^self new initializeFor: aValue to: anAccount ! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:34:47'!
ERROR!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:35:23'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value receiver account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 19:35:23'!
initializeFor: aValue to: anAccount 
	self shouldBeImplemented.
	value := aValue.
	account := anAccount.! !
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 19:35:35' prior: 50934118!
initializeFor: aValue to: anAccount 
	
	value := aValue.
	account := anAccount.! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:35:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:36:04'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 19:36:52'!
test09

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	transfer := Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account transactions includes: transfer).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 19:37:29' prior: 50934135!
test09

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	transfer := Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: 0 equals: account balance .
	self assert: 100 equals: anotherAccount balance.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 19:37:38' prior: 50934149!
test09

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: 0 equals: account balance .
	self assert: 100 equals: anotherAccount balance.
! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:37:46'!
ERROR!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:38:21'!
ERROR!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:38:32'!
FAILURE!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:38:36'!
ERROR!
!Transfer methodsFor: 'private' stamp: 'GR 11/9/2020 19:39:18' overrides: 50933869!
affectBalance: aSmallInteger 
	self shouldBeImplemented.! !
!Transfer methodsFor: 'private' stamp: 'GR 11/9/2020 19:39:39' prior: 50934186 overrides: 50933869!
affectBalance: aBalance

	^ aBalance + value.
	
	! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:40:10'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 19:43:51' prior: 50933999!
test08

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account transactions includes: transfer exit).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount transactions includes: transfer entry).
! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:43:54'!
ERROR!

!classDefinition: #EntryTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:49:15'!
Transfer subclass: #EntryTransfer
	instanceVariableNames: 'transmitter'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:50:25'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ExitTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:50:39'!
Transfer subclass: #ExitTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:50:28' prior: 50934051!
transfer: aValue from: account to: anotherAccount 
	
	| transactionEntry transactionExit |
	
	transactionEntry := EntryTransfer for: aValue from: account.
	transactionExit := ExitTransfer for: aValue to: anotherAccount.
	
	account register: transactionExit.
	anotherAccount register: transactionEntry.
	
	^ OrderedCollection with: transactionExit with: transactionEntry.! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:50:45'!
ERROR!
!EntryTransfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:51:03'!
for: aSmallInteger from: aReceptiveAccount 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aSmallInteger from: aReceptiveAccount ! !
!EntryTransfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:51:18' prior: 50934263!
for: aValue from: anAccount 
	
	^self new initializeFor: aValue from: anAccount ! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:51:19'!
ERROR!

!classDefinition: #EntryTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:51:34'!
Transfer subclass: #EntryTransfer
	instanceVariableNames: 'transmitter account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!EntryTransfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 19:51:34'!
initializeFor: aValue from: anAccount 
	self shouldBeImplemented.
	value := aValue.
	account := anAccount.! !
!EntryTransfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 19:51:40' prior: 50934289!
initializeFor: aValue from: anAccount 
	
	value := aValue.
	account := anAccount.! !

!methodRemoval: Transfer class #for:to: stamp: 'GR 11/9/2020 19:52:01'!
for: aValue to: anAccount 
	
	^self new initializeFor: aValue to: anAccount !

!methodRemoval: Transfer #initializeFor:to: stamp: 'GR 11/9/2020 19:52:06'!
initializeFor: aValue to: anAccount 
	
	value := aValue.
	account := anAccount.!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:52:20'!
ERROR!
!ExitTransfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:52:27'!
for: aSmallInteger to: aReceptiveAccount 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aSmallInteger to: aReceptiveAccount ! !
!ExitTransfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 19:52:47' prior: 50934314!
for: aValue to: anAccount 
	
	^self new initializeFor: aValue to: anAccount ! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:52:48'!
ERROR!

!classDefinition: #ExitTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:52:56'!
Transfer subclass: #ExitTransfer
	instanceVariableNames: 'receiver account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ExitTransfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 19:52:56'!
initializeFor: aValue to: anAccount 
	self shouldBeImplemented.
	value := aValue.
	account := anAccount.! !
!ExitTransfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 19:53:12' prior: 50934340!
initializeFor: aValue to: anAccount 
	
	value := aValue.
	receiver := anAccount.! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:53:13'!
ERROR!
!EntryTransfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 19:53:23' prior: 50934296!
initializeFor: aValue from: anAccount 
	
	value := aValue.
	transmitter := anAccount.! !

Transfer subclass: #EntryTransfer
	instanceVariableNames: 'transmitter'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #EntryTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:53:30'!
Transfer subclass: #EntryTransfer
	instanceVariableNames: 'transmitter'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Transfer subclass: #ExitTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ExitTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 19:53:34'!
Transfer subclass: #ExitTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:53:45'!
ERROR!

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:53:45'!
ERROR!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 19:56:28' prior: 50934199!
test08

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account transactions includes: (transfer at: 1)).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount transactions includes: (transfer at: 2)).
! !

!testRun: #ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 19:56:31'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:57:08'!
FAILURE!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:57:14'!
FAILURE!

!methodRemoval: Transfer #affectBalance: stamp: 'GR 11/9/2020 19:57:55'!
affectBalance: aBalance

	^ aBalance + value.
	
	!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:58:00'!
ERROR!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:58:00'!
ERROR!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:58:18'!
ERROR!
!ExitTransfer methodsFor: 'balance modifier' stamp: 'GR 11/9/2020 19:58:54' overrides: 50933869!
affectBalance: aSmallInteger 
	self shouldBeImplemented.! !
!ExitTransfer methodsFor: 'balance modifier' stamp: 'GR 11/9/2020 19:59:17' prior: 50934428 overrides: 50933869!
affectBalance: aBalance 
	
	^ aBalance - value.! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 19:59:20'!
ERROR!
!EntryTransfer methodsFor: 'balance modifier' stamp: 'GR 11/9/2020 20:00:05' overrides: 50933869!
affectBalance: aSmallInteger 
	self shouldBeImplemented.! !
!EntryTransfer methodsFor: 'balance modifier' stamp: 'GR 11/9/2020 20:00:15' prior: 50934442 overrides: 50933869!
affectBalance: aBalance 
	
	^ aBalance + value.! !

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 20:00:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 20:00:18'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:01:12'!
test10

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account balance .
	self assert: 100 equals: anotherAccount balance.
! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:01:13'!
PASSED!

!methodRemoval: ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:01:18'!
test10

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account balance .
	self assert: 100 equals: anotherAccount balance.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:02:53'!
test08TranferRegistersInBothAccounts

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account transactions includes: (transfer at: 1)).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount transactions includes: (transfer at: 2)).
! !

!methodRemoval: ReceptiveAccountTest #test08 stamp: 'GR 11/9/2020 20:02:53'!
test08

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account transactions includes: (transfer at: 1)).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount transactions includes: (transfer at: 2)).
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:03:05'!
test09TransfersModifiesBalance

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: 0 equals: account balance .
	self assert: 100 equals: anotherAccount balance.
! !

!methodRemoval: ReceptiveAccountTest #test09 stamp: 'GR 11/9/2020 20:03:05'!
test09

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: 0 equals: account balance .
	self assert: 100 equals: anotherAccount balance.
!
!Transfer methodsFor: 'nil' stamp: 'GR 11/9/2020 20:03:55' overrides: 50933869!
affectBalance: aBalance

	self subclassResponsibility.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:07:32' prior: 50934482!
test08TranferRegistersInBothAccounts

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account hasRegistered: (transfer at: 1)).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount transactions includes: (transfer at: 2)).
! !

AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value contents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 20:07:50'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value contents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 20:09:00' prior: 50934246!
transfer: aValue from: account to: anotherAccount 
	
	| transactionEntry transactionExit |
	
	transactionEntry := EntryTransfer for: aValue from: account.
	transactionExit := ExitTransfer for: aValue to: anotherAccount.
	
	account register: transactionExit.
	anotherAccount register: transactionEntry.
	
	^ OrderedCollection with: transactionExit with: transactionEntry.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:09:20' prior: 50934546!
test08TranferRegistersInBothAccounts

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account hasRegistered: (transfer at: 1)).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount hasRegistered: (transfer at: 2)).
! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:09:22'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:09:23'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 20:09:23'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:15:00'!
test10

	| account register |
	
	account := ReceptiveAccount new.
	
	register := 'Balance = 0'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:15:02'!
ERROR!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:15:02'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:15:16'!
report
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:15:35' prior: 50934661!
report
	
	^ 'Balance = 0'! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:15:36'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 20:15:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:15:38'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:16:14'!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.
	Balance = 0.'.
		
	self assert: register equals: account report.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:16:19' prior: 50934649!
test10

	| account register |
	
	account := ReceptiveAccount new.
	
	register := 'Balance = 0.'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:16:20'!
FAILURE!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:16:27' prior: 50934665!
report
	
	^ 'Balance = 0.'! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:16:28'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:16:28'!
FAILURE!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:16:28'!
FAILURE!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:23:52' prior: 50934730!
report
	
	| records |
	
	records := transactions inject: OrderedCollection new into: [ :stringTransactions :aTransaction | aTransaction giveReport ].
	
	^ records inject: '' into: [ :report :aRegistry | report appendToString: aRegistry,'\n' ]! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:23:55'!
ERROR!
!Deposit methodsFor: 'report' stamp: 'GR 11/9/2020 20:24:05'!
giveReport
	self shouldBeImplemented.! !
!Deposit methodsFor: 'report' stamp: 'GR 11/9/2020 20:24:21' prior: 50934790!
giveReport
	
	^ 'Deposito de ',value! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:24:22'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:25:07' prior: 50934777!
report
	
	| records |
	
	records := transactions inject: OrderedCollection new into: [ :stringTransactions :aTransaction | aTransaction giveReport ].
	
	^ records inject: '' into: [ :report :aRegistry | report,aRegistry ]! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:25:10'!
ERROR!
!Deposit methodsFor: 'report' stamp: 'GR 11/9/2020 20:25:21' prior: 50934794!
giveReport
	
	^ 'Deposito de ',value asString ! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:25:22'!
ERROR!
!Deposit methodsFor: 'report' stamp: 'GR 11/9/2020 20:26:31' prior: 50934813!
giveReport
	
	^ ('Deposito de ',value asString),'. \n' ! !
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:27:59' prior: 50934801!
report
	
	| records |
	
	records := transactions inject: OrderedCollection new into: [ :stringTransactions :aTransaction | aTransaction giveReport ].
	
	records inject: '' into: [ :report :aRegistry | report,aRegistry ].
	
	^records,('balance =', self balance asString)! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:28:03'!
ERROR!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:29:38'!
FAILURE!

('balance =', self balance asString)!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:38:05' prior: 50934825!
report
	
	| records report |
	
	records := transactions inject: OrderedCollection new into: [ :stringTransactions :aTransaction | aTransaction giveReport ].
	
	report := records inject: '' into: [ :finalReport :aRegistry | finalReport,aRegistry ].
	
	^report,('balance =', self balance asString)! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:38:07'!
FAILURE!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:38:16' prior: 50934843!
report
	
	| records report |
	
	records := transactions inject: OrderedCollection new into: [ :stringTransactions :aTransaction | aTransaction giveReport ].
	
	report := records inject: '' into: [ :finalReport :aRegistry | finalReport,aRegistry ].
	
	^report,('Balance =', self balance asString)! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:38:17'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:38:25' prior: 50934719!
test10

	| account register |
	
	account := ReceptiveAccount new.
	
	register := 'Balance = 0'.
		
	self assert: register equals: account report.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:38:29' prior: 50934709!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.
	Balance = 0'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:38:31'!
FAILURE!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:39:02' prior: 50934858!
report
	
	| records report |
	
	records := transactions inject: OrderedCollection new into: [ :stringTransactions :aTransaction | aTransaction giveReport ].
	
	report := records inject: '' into: [ :finalReport :aRegistry | finalReport,aRegistry ].
	
	^report,('Balance = ', self balance asString)! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:39:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:39:03'!
ERROR!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:39:03'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:40:52' prior: 50934893!
report
	
	| records report |
	
	records := transactions inject: OrderedCollection new addingAll:  [ :stringTransactions :aTransaction | aTransaction giveReport ].
	
	report := records inject: '' into: [ :finalReport :aRegistry | finalReport,aRegistry ].
	
	^report,('Balance = ', self balance asString)! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:41:07'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:42:13' prior: 50934949!
report
	
	| records report |
	
	records := transactions inject: OrderedCollection new addingAll:  [ :stringTransactions :aTransaction | { aTransaction giveReport } ].
	
	report := records inject: '' into: [ :finalReport :aRegistry | finalReport,aRegistry ].
	
	^report,('Balance = ', self balance asString)! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:42:17'!
ERROR!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:42:24'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:43:08' prior: 50934964!
report
	
	| records report |
	
	records := transactions inject: OrderedCollection new into:  [ :aRecords :aTransaction | aRecords add: aTransaction giveReport ].
	
	report := records inject: '' into: [ :finalReport :aRegistry | finalReport,aRegistry ].
	
	^report,('Balance = ', self balance asString)! !
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:43:58' prior: 50934982!
report
	
	| records report |
	
	records := transactions inject: OrderedCollection new into:  [ :recordsCollection :aTransaction | recordsCollection add: aTransaction giveReport ].
	
	report := records inject: '' into: [ :finalReport :aRegistry | finalReport,aRegistry ].
	
	^report,('Balance = ', self balance asString)! !

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:48:18'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:48:18'!
ERROR!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:48:18'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 20:50:59' prior: 50934995!
report
	
	| records report |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	report := records inject: '' into: [ :finalReport :aRegistry | finalReport,aRegistry ].
	
	^report,('Balance = ', self balance asString)! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:51:01'!
FAILURE!

account report!

account report!

account report!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:53:02' prior: 50934881!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.\n
	Balance = 0'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:53:04'!
FAILURE!
!Deposit methodsFor: 'report' stamp: 'GR 11/9/2020 20:53:23' prior: 50934820!
giveReport
	
	^ ('Deposito de ',value asString),'.\n' ! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:53:24'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:53:33' prior: 50935066!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.\n
	Balance = 100'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:53:34'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:54:16' prior: 50935086!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.\n
	Balance = 100'.
		
	self assert: (register = account report).
! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:54:17'!
FAILURE!

account report!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:54:43' prior: 50935098!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.\nBalance = 100'.
		
	self assert: (register = account report).
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:54:55' prior: 50935111!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.\nBalance = 100'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:54:56'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 20:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 20:54:58'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 20:56:36' prior: 50935121!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.\nBalance = 100'.
		
	self assert: register equals: account report.
! !

AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:04:40'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:12:31'!
Object subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:12:46'!
AccountTransaction subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #TransferFeet
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferFeet category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:13:44'!
AccountTransaction subclass: #TransferFeet
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferFeet subclass: #EntryTransfer
	instanceVariableNames: 'transmitter'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #EntryTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:13:58'!
TransferFeet subclass: #EntryTransfer
	instanceVariableNames: 'transmitter'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferFeet subclass: #ExitTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ExitTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:14:01'!
TransferFeet subclass: #ExitTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:14:06'!
Object subclass: #Transfer
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 21:14:47' prior: 50934577!
transfer: aValue from: account to: anotherAccount 
	
	| transactionEntry transactionExit |
	
	transactionEntry := EntryTransfer for: aValue from: account.
	transactionExit := ExitTransfer for: aValue to: anotherAccount.
	
	account register: transactionExit.
	anotherAccount register: transactionEntry.
	! !
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 21:14:52' prior: 50935307!
transfer: aValue from: account to: anotherAccount 
	
	| transactionEntry transactionExit |
	
	transactionEntry := EntryTransfer for: aValue from: account.
	transactionExit := ExitTransfer for: aValue to: anotherAccount.
	
	account register: transactionExit.
	anotherAccount register: transactionEntry.
	
	^ OrderedCollection with: transactionExit with: transactionEntry.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:15:34' prior: 50934592!
test08TranferRegistersInBothAccounts

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account hasRegistered: transfer entryTransfer).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount hasRegistered: transfer exitTransfer).
! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:15:40'!
ERROR!

!classDefinition: 'Transfer class' category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:18:02'!
Transfer class
	instanceVariableNames: 'transferEntry'!

!classDefinition: 'Transfer class' category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:18:03'!
Transfer class
	instanceVariableNames: 'transferEntry transferExit'!
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 21:18:00' prior: 50935320!
transfer: aValue from: account to: anotherAccount 
	
	transferEntry := EntryTransfer for: aValue from: account.
	transferExit := ExitTransfer for: aValue to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:18:19'!
ERROR!
!Transfer class methodsFor: 'as yet unclassified' stamp: 'GR 11/9/2020 21:18:31'!
entryTransfer
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 21:19:11' prior: 50935367!
transfer: aValue from: account to: anotherAccount 
	
	^self new initializeTransfer: aValue from: account to: anotherAccount ! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:19:14'!
ERROR!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:19:22'!
Object subclass: #Transfer
	instanceVariableNames: 'value account_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:19:22'!
Object subclass: #Transfer
	instanceVariableNames: 'value account_CHANGE_ME anotherAccount_CHANGE_ME'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:19:22'!
initializeTransfer: aValue from: account to: anotherAccount 
	self shouldBeImplemented.
	value := aValue.
	account_CHANGE_ME := account.
	anotherAccount_CHANGE_ME := anotherAccount.! !

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:19:44'!
Object subclass: #Transfer
	instanceVariableNames: 'value account_CHANGE_ME anotherAccount_CHANGE_ME transferEntry'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:19:45'!
Object subclass: #Transfer
	instanceVariableNames: 'value account_CHANGE_ME anotherAccount_CHANGE_ME transferEntry transferExit'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:19:42' prior: 50935412!
initializeTransfer: aValue from: account to: anotherAccount 
	
	transferEntry := EntryTransfer for: aValue from: account.
	transferExit := ExitTransfer for: aValue to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.
	value := aValue ! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:19:47'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'GR 11/9/2020 21:19:53'!
entryTransfer
	self shouldBeImplemented.! !
!Transfer methodsFor: 'accessing' stamp: 'GR 11/9/2020 21:20:14' prior: 50935454!
entryTransfer
	
	^transferEntry ! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:20:17'!
FAILURE!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:20:40'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:22:27' prior: 50935439!
initializeTransfer: aValue from: account to: anotherAccount 
	
	transferEntry := EntryTransfer for: aValue from: account.
	transferExit := ExitTransfer for: aValue to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.
	
	value := aValue ! !
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:24:08' prior: 50935469!
initializeTransfer: aValue from: account to: anotherAccount 
	
	transferEntry := EntryTransfer for: self from: account.
	transferExit := ExitTransfer for: self to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.
	
	value := aValue ! !

TransferFeet subclass: #EntryTransfer
	instanceVariableNames: 'transmitter transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #EntryTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:24:26'!
TransferFeet subclass: #EntryTransfer
	instanceVariableNames: 'transmitter transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

TransferFeet subclass: #EntryTransfer
	instanceVariableNames: 'transmitter'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #EntryTransfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:24:30'!
TransferFeet subclass: #EntryTransfer
	instanceVariableNames: 'transmitter'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

AccountTransaction subclass: #TransferFeet
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferFeet category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:24:34'!
AccountTransaction subclass: #TransferFeet
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!EntryTransfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 21:24:48' prior: 50934273!
for: aTransfer from: anAccount 
	
	^self new initializeFor: aTransfer from: anAccount ! !
!EntryTransfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:24:56' prior: 50934355!
initializeFor: aTransfer from: anAccount 
	
	transfer := aTransfer.
	transmitter := anAccount.! !
!ExitTransfer class methodsFor: 'instance creation' stamp: 'GR 11/9/2020 21:25:01' prior: 50934324!
for: aTransfer to: anAccount 
	
	^self new initializeFor: aTransfer to: anAccount ! !
!ExitTransfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:25:13' prior: 50934347!
initializeFor: aTransfer to: anAccount 
	
	transfer := aTransfer.
	receiver := anAccount.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:26:59' prior: 50935335!
test08TranferRegistersInBothAccounts

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 0 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account hasRegistered: transfer exitTransfer).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount hasRegistered: transfer entryTransfer).
! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:27:04'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'GR 11/9/2020 21:27:08'!
exitTransfer
	self shouldBeImplemented.! !
!Transfer methodsFor: 'accessing' stamp: 'GR 11/9/2020 21:27:18' prior: 50935578!
exitTransfer
	
	^transferExit.! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:27:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:27:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:27:39'!
ERROR!
!ExitTransfer methodsFor: 'balance' stamp: 'GR 11/9/2020 21:28:06' prior: 50934434 overrides: 50933869!
affectBalance: aBalance 
	
	^ aBalance - transfer value.! !

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:28:08'!
ERROR!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:28:14'!
ERROR!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:28:57'!
ERROR!
!Transfer methodsFor: 'accessing' stamp: 'GR 11/9/2020 21:29:25' overrides: 16881508!
value

	^value! !

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:29:30'!
ERROR!
!EntryTransfer methodsFor: 'balance' stamp: 'GR 11/9/2020 21:29:40' prior: 50934448 overrides: 50933869!
affectBalance: aBalance 
	
	^ aBalance + transfer value.! !

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 21:29:42'!
PASSED!

Object subclass: #Transfer
	instanceVariableNames: 'value transferEntry transferExit'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Transfer category: 'Portfolio-Solucion' stamp: 'GR 11/9/2020 21:30:08'!
Object subclass: #Transfer
	instanceVariableNames: 'value transferEntry transferExit'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:32:43' prior: 50934873!
test10

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: 100 from: account to: account. ] 
		raise: Error 
		withMessageText: Transfer sameAccountError.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:33:11'!
test10CanNotTransferToSameAccount

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: 100 from: account to: account. ] 
		raise: Error 
		withMessageText: Transfer sameAccountError.! !

!methodRemoval: ReceptiveAccountTest #test10 stamp: 'GR 11/9/2020 21:33:11'!
test10

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: 100 from: account to: account. ] 
		raise: Error 
		withMessageText: Transfer sameAccountError.!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:33:14'!
ERROR!
!Transfer class methodsFor: 'error handling' stamp: 'GR 11/9/2020 21:33:29'!
sameAccountError
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'error handling' stamp: 'GR 11/9/2020 21:33:47' prior: 50935714!
sameAccountError
	
	^ 'You can not transfer to your oun account!!'! !

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:33:53'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:34:56' prior: 50935481!
initializeTransfer: aValue from: account to: anotherAccount 
	
	(account == anotherAccount ) ifTrue: [ self error: self sameAccountError ].
	
	transferEntry := EntryTransfer for: self from: account.
	transferExit := ExitTransfer for: self to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.
	
	value := aValue ! !

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:34:58'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:35:19' prior: 50935728!
initializeTransfer: aValue from: account to: anotherAccount 
	
	(account == anotherAccount ) ifTrue: [ self error: Transfer sameAccountError ].
	
	transferEntry := EntryTransfer for: self from: account.
	transferExit := ExitTransfer for: self to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.
	
	value := aValue ! !

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:35:20'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 21:35:20'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:35:58'!
test11CanNotTransferANegativeAmount

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: -100 from: account to: account. ] 
		raise: Error 
		withMessageText: Transfer negativeTransferError.! !

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:36:04'!
ERROR!
!Transfer class methodsFor: 'error handling' stamp: 'GR 11/9/2020 21:36:10'!
negativeTransferError
	self shouldBeImplemented.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:36:42' prior: 50935802!
test11CanNotTransferANegativeAmount

	| account |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: -100 from: account to: account. ] 
		raise: Error 
		withMessageText: Transfer amountTransferError.! !

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:36:44'!
ERROR!
!Transfer class methodsFor: 'error handling' stamp: 'GR 11/9/2020 21:36:57'!
amountTransferError
	self shouldBeImplemented.! !
!Transfer class methodsFor: 'error handling' stamp: 'GR 11/9/2020 21:37:21' prior: 50935837!
amountTransferError
	
	^ 'You are trying to transfer an invalid amount'! !

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:37:23'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:38:19' prior: 50935746!
initializeTransfer: aValue from: account to: anotherAccount 
	
	(account == anotherAccount ) ifTrue: [ self error: Transfer sameAccountError ].
	
	(aValue < 0) ifTrue: [self error: Transfer amountTransferError ].
	
	transferEntry := EntryTransfer for: self from: account.
	transferExit := ExitTransfer for: self to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.
	
	value := aValue ! !

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:38:20'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:39:00' prior: 50935822!
test11CanNotTransferANegativeAmount

	| account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: -100 from: account to: account. ] 
		raise: Error 
		withMessageText: Transfer amountTransferError.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:39:04' prior: 50935871!
test11CanNotTransferANegativeAmount

	| account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: -100 from: account to: account2. ] 
		raise: Error 
		withMessageText: Transfer amountTransferError.! !

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:39:06'!
PASSED!

!methodRemoval: Transfer class #negativeTransferError stamp: 'GR 11/9/2020 21:39:25'!
negativeTransferError
	self shouldBeImplemented.!
!Transfer class methodsFor: 'error handling' stamp: 'GR 11/9/2020 21:39:36'!
invalidAmountTransferError
	
	^ 'You are trying to transfer an invalid amount'! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/9/2020 21:39:36' prior: 50935884!
test11CanNotTransferANegativeAmount

	| account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: -100 from: account to: account2. ] 
		raise: Error 
		withMessageText: Transfer invalidAmountTransferError.! !
!Transfer methodsFor: 'as yet unclassified' stamp: 'GR 11/9/2020 21:39:36' prior: 50935851!
initializeTransfer: aValue from: account to: anotherAccount 
	
	(account == anotherAccount ) ifTrue: [ self error: Transfer sameAccountError ].
	
	(aValue < 0) ifTrue: [self error: Transfer invalidAmountTransferError ].
	
	transferEntry := EntryTransfer for: self from: account.
	transferExit := ExitTransfer for: self to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.
	
	value := aValue ! !

!methodRemoval: Transfer class #amountTransferError stamp: 'GR 11/9/2020 21:39:36'!
amountTransferError
	
	^ 'You are trying to transfer an invalid amount'!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:40:05'!
test11CanNotTransferNoMoney

	| account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: -100 from: account to: account2. ] 
		raise: Error 
		withMessageText: Transfer invalidAmountTransferError.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:40:09' prior: 50935987!
test11CanNotTransferNoMoney

	| account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: 0 from: account to: account2. ] 
		raise: Error 
		withMessageText: Transfer invalidAmountTransferError.! !

!testRun: #ReceptiveAccountTest #test11CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:40:10'!
FAILURE!
!Transfer methodsFor: 'initialization' stamp: 'GR 11/9/2020 21:40:20' prior: 50935966!
initializeTransfer: aValue from: account to: anotherAccount 
	
	(account == anotherAccount ) ifTrue: [ self error: Transfer sameAccountError ].
	
	(aValue <= 0) ifTrue: [self error: Transfer invalidAmountTransferError ].
	
	transferEntry := EntryTransfer for: self from: account.
	transferExit := ExitTransfer for: self to: anotherAccount.
	
	account register: transferExit.
	anotherAccount register: transferEntry.
	
	value := aValue ! !

!testRun: #ReceptiveAccountTest #test11CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:40:21'!
ERROR!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:40:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:40:21'!
ERROR!

!testRun: #ReceptiveAccountTest #test11CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:40:26'!
ERROR!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:40:26'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:40:26'!
ERROR!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:40:43' prior: 50935557!
test08TranferRegistersInBothAccounts

	| account anotherAccount transfer |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	
	transfer := Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: 1 equals: account transactions size .
	self assert: (account hasRegistered: transfer exitTransfer).
	self assert: 1 equals: anotherAccount transactions size .
	self assert: (anotherAccount hasRegistered: transfer entryTransfer).
! !

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:40:47'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:40:47'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:40:56'!
test12CanNotTransferNoMoney

	| account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: 0 from: account to: account2. ] 
		raise: Error 
		withMessageText: Transfer invalidAmountTransferError.! !

!methodRemoval: ReceptiveAccountTest #test11CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:40:56'!
test11CanNotTransferNoMoney

	| account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	self 
		should: [ Transfer transfer: 0 from: account to: account2. ] 
		raise: Error 
		withMessageText: Transfer invalidAmountTransferError.!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:41:05'!
test13

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.\nBalance = 100'.
		
	self assert: register equals: account report.
! !

!methodRemoval: ReceptiveAccountTest #test11 stamp: 'GR 11/9/2020 21:41:05'!
test11

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := 'Deposito de 100.\nBalance = 100'.
		
	self assert: register equals: account report.
!

!methodRemoval: Transfer #affectBalance: stamp: 'GR 11/9/2020 21:41:24'!
affectBalance: aBalance

	self subclassResponsibility.!
!TransferFeet methodsFor: 'no messages' stamp: 'GR 11/9/2020 21:41:44' overrides: 50933869!
affectBalance: aBalance

	self subclassResponsibility.! !
!TransferFeet methodsFor: 'nil' stamp: 'GR 11/9/2020 21:42:07'!
initializeFor: aTransfer from: anAccount 

	self subclassResponsibility.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:42:54' prior: 50936229!
test13

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:43:00'!
FAILURE!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 21:43:18' prior: 50935051!
report
	
	| records |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	^records! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:43:32'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:43:50'!
test14

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account report.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:43:55' prior: 50936262!
test13

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:43:56'!
FAILURE!

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:43:56'!
FAILURE!

transactions!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 21:45:02' prior: 50936274!
report
	
	| records |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	records add: 'Balance = ',self balance.
	
	^records! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:45:03'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 21:45:18' prior: 50936307!
report
	
	| records |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	records add: 'Balance = ',self balance asString.
	
	^records! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:45:19'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:45:21'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:45:24'!
FAILURE!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:45:24'!
FAILURE!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:45:30'!
FAILURE!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:45:30'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:45:57' prior: 50936283!
test14

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100.' with: 'Balance = 0'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:46:03'!
FAILURE!
!Deposit methodsFor: 'report' stamp: 'GR 11/9/2020 21:46:39' prior: 50935078!
giveReport
	
	^ ('Deposito de ',value asString),'.' ! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:46:42'!
FAILURE!

account report!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:47:57' prior: 50936342!
test14

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100.' with: 'Balance = 100'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:47:59'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:47:59'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:49:42'!
test15

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 50' with: 'Balance = -50'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:49:44'!
ERROR!
!Withdraw methodsFor: 'report' stamp: 'GR 11/9/2020 21:49:59'!
giveReport
	self shouldBeImplemented.! !
!Withdraw methodsFor: 'report' stamp: 'GR 11/9/2020 21:50:37' prior: 50936436!
giveReport
	
	^ ('Extraccion de ',self value asString),'.'.! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:50:38'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:50:45' prior: 50936424!
test15

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 50.' with: 'Balance = -50'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:50:47'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:51:01' prior: 50936448!
test15

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	register := OrderedCollection with: 'Extraccion de 50.' with: 'Balance = -50'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:51:02'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:51:02'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:51:07' prior: 50936461!
test15

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 50 on: account.
	
	register := OrderedCollection with: 'Extraccion de 50' with: 'Balance = -50'.
		
	self assert: register equals: account report.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:51:10' prior: 50936363!
test14

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:51:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:51:17'!
FAILURE!

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:51:17'!
FAILURE!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:51:21'!
FAILURE!
!Deposit methodsFor: 'report' stamp: 'GR 11/9/2020 21:51:36' prior: 50936355!
giveReport
	
	^ ('Deposito de ',value asString)! !

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:51:38'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:51:39'!
FAILURE!
!Withdraw methodsFor: 'report' stamp: 'GR 11/9/2020 21:51:51' prior: 50936440!
giveReport
	
	^ ('Extraccion de ',self value asString).! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:51:51'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:53:31' prior: 50936525!
test15

	| account anotherAccount register |
	
	account := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	register := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:53:34'!
ERROR!

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:53:38'!
ERROR!

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:54:02'!
ERROR!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:54:16' prior: 50936620!
test15

	| account anotherAccount register |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	register := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: register equals: account report.
! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:54:18'!
ERROR!
!ExitTransfer methodsFor: 'report' stamp: 'GR 11/9/2020 21:54:29'!
giveReport
	self shouldBeImplemented.! !
!ExitTransfer methodsFor: 'report' stamp: 'GR 11/9/2020 21:54:57' prior: 50936655!
giveReport
	
	^ 'Salida por transferencia de ',transfer value asString! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:54:58'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:54:58'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:56:05' prior: 50936640!
test15

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
	exitRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
		
	self assert: entryRegister equals: account report.
	self assert: exitRegister equals: anotherAccount report.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:56:39' prior: 50936718!
test15

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: entryRegister equals: account report.
	self assert: exitRegister equals: anotherAccount report.
! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:57:18'!
FAILURE!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 21:58:03' prior: 50936737!
test15

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account report.
	self assert: entryRegister equals: anotherAccount report.
! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:58:06'!
ERROR!
!EntryTransfer methodsFor: 'report' stamp: 'GR 11/9/2020 21:58:16'!
giveReport
	self shouldBeImplemented.! !
!EntryTransfer methodsFor: 'report' stamp: 'GR 11/9/2020 21:58:38' prior: 50936780!
giveReport
	
	^ 'Entrada por transferencia de ', transfer value asString.! !

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 21:58:39'!
PASSED!

!testRun: #ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 21:58:39'!
PASSED!
!TransferFeet methodsFor: 'nil' stamp: 'GR 11/9/2020 21:59:50'!
giveReport

	self subclassResponsibility.! !
!AccountTransaction methodsFor: 'nil' stamp: 'GR 11/9/2020 22:02:29'!
giveReport

	self subclassResponsibility.! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:03:04'!
test13ReportWith0Balance

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account report.
! !

!methodRemoval: ReceptiveAccountTest #test13 stamp: 'GR 11/9/2020 22:03:04'!
test13

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account report.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:03:14'!
test14ReportWithADeposit

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account report.
! !

!methodRemoval: ReceptiveAccountTest #test14 stamp: 'GR 11/9/2020 22:03:14'!
test14

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account report.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:03:49'!
test15ReportWithAWithdraw

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 100' with: 'Balance = -100'.
		
	self assert: register equals: account report.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:04:00'!
test16ReportWithATransfer

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account report.
	self assert: entryRegister equals: anotherAccount report.
! !

!methodRemoval: ReceptiveAccountTest #test15 stamp: 'GR 11/9/2020 22:04:00'!
test15

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account report.
	self assert: entryRegister equals: anotherAccount report.
!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/9/2020 22:04:03'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/9/2020 22:04:03'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:08:23'!
test17

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 22:08:43'!
accountSummary
	
	| records |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	records add: 'Balance = ',self balance asString.
	
	^records! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/9/2020 22:08:43' prior: 50936887!
test15ReportWithAWithdraw

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 100' with: 'Balance = -100'.
		
	self assert: register equals: account accountSummary.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/9/2020 22:08:43' prior: 50936850!
test13ReportWith0Balance

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account accountSummary.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/9/2020 22:08:43' prior: 50936898!
test16ReportWithATransfer

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account accountSummary.
	self assert: entryRegister equals: anotherAccount accountSummary.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/9/2020 22:08:43' prior: 50936867!
test14ReportWithADeposit

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account accountSummary.
! !

!methodRemoval: ReceptiveAccount #report stamp: 'GR 11/9/2020 22:08:43'!
report
	
	| records |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	records add: 'Balance = ',self balance asString.
	
	^records!

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:08:59'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 22:09:06'!
transferNet
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 22:10:48' prior: 50937081!
transferNet
	
	^ transactions inject: 0 into: [ :transferNet :aTransaction | transferNet + aTransaction transferNet ].! !

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:10:50'!
ERROR!
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/9/2020 22:11:29' prior: 50937086!
transferNet
	
	^ transactions inject: 0 into: [ :transferNet :aTransaction | aTransaction transferNet: transferNet].! !

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:11:39'!
ERROR!
!Deposit methodsFor: 'transferNet' stamp: 'GR 11/9/2020 22:12:08'!
transferNet: aSmallInteger 
	self shouldBeImplemented.! !
!Deposit methodsFor: 'transferNet' stamp: 'GR 11/9/2020 22:12:17' prior: 50937105!
transferNet: aTransferNet 
	
	^aTransferNet! !

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:12:18'!
ERROR!
!ExitTransfer methodsFor: 'transferNet' stamp: 'GR 11/9/2020 22:12:29'!
transferNet: aSmallInteger 
	self shouldBeImplemented.! !
!ExitTransfer methodsFor: 'transferNet' stamp: 'GR 11/9/2020 22:12:51' prior: 50937117!
transferNet: aTransferNet
	
	^ aTransferNet - transfer value ! !

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:12:52'!
ERROR!
!EntryTransfer methodsFor: 'transferNet' stamp: 'GR 11/9/2020 22:13:00'!
transferNet: aSmallInteger 
	self shouldBeImplemented.! !
!EntryTransfer methodsFor: 'transferNet' stamp: 'GR 11/9/2020 22:13:15' prior: 50937129!
transferNet: aTransferNet

	^ aTransferNet + transfer value! !

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/9/2020 22:13:16'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:13:16'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:13:57' prior: 50936995!
test17

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.
! !

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:13:58'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:15:09' prior: 50937257!
test17

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/9/2020 22:15:10'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:15:10'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:15:19'!
test18

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:15:31' prior: 50937270!
test17

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: account transferNet.
! !

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:15:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'GR 11/9/2020 22:15:34'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:15:56'!
test19

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !

!testRun: #ReceptiveAccountTest #test19 stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'GR 11/9/2020 22:15:57'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'GR 11/9/2020 22:15:57'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:16:12'!
test20

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !

!testRun: #ReceptiveAccountTest #test20 stamp: 'GR 11/9/2020 22:16:13'!
ERROR!
!Withdraw methodsFor: 'transferNet' stamp: 'GR 11/9/2020 22:16:21'!
transferNet: aSmallInteger 
	self shouldBeImplemented.! !
!Withdraw methodsFor: 'transferNet' stamp: 'GR 11/9/2020 22:16:44' prior: 50937516!
transferNet: aTransferNet 
	
	^ aTransferNet! !

!testRun: #ReceptiveAccountTest #test20 stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test18 stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test19 stamp: 'GR 11/9/2020 22:16:45'!
PASSED!

!testRun: #ReceptiveAccountTest #test20 stamp: 'GR 11/9/2020 22:16:45'!
PASSED!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:17:31'!
test17TransferNetOfNnewAccountIsCero

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: account transferNet.
! !

!methodRemoval: ReceptiveAccountTest #test17 stamp: 'GR 11/9/2020 22:17:31'!
test17

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: account transferNet.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:18:00'!
test18ATransferModifiesTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !

!methodRemoval: ReceptiveAccountTest #test18 stamp: 'GR 11/9/2020 22:18:01'!
test18

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:18:26'!
test19DepositDoesNotModifiesTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !

!methodRemoval: ReceptiveAccountTest #test19 stamp: 'GR 11/9/2020 22:18:26'!
test19

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:18:48'!
test20WithdrawDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !

!methodRemoval: ReceptiveAccountTest #test20 stamp: 'GR 11/9/2020 22:18:48'!
test20

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:18:57'!
test19DepositDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !

!methodRemoval: ReceptiveAccountTest #test19DepositDoesNotModifiesTransferNet stamp: 'GR 11/9/2020 22:18:57'!
test19DepositDoesNotModifiesTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
!
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:19:02' prior: 50937682!
test19DepositDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:19:07' prior: 50937710!
test19DepositDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.
! !
!ReceptiveAccountTest methodsFor: 'tests' stamp: 'GR 11/9/2020 22:19:12' prior: 50937656!
test20WithdrawDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.
! !

!testRun: #ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test17TransferNetOfNnewAccountIsCero stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test18ATransferModifiesTransferNet stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test19DepositDoesNotModifyTransferNet stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

!testRun: #ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/9/2020 22:19:13'!
PASSED!

----QUIT----(9 November 2020 22:21:30) CuisUniversity-4383.image priorSource: 19249239!

----STARTUP---- (12 November 2020 17:34:17) as /home/grosinov/linux64/CuisUniversity-4383.image!


[ 10 ]!

[ :athing | 10 ]!

[ :athing | ^10 ]!

----QUIT----(12 November 2020 18:34:12) CuisUniversity-4383.image priorSource: 19399197!

----STARTUP---- (12 November 2020 18:36:39) as /home/grosinov/linux64/CuisUniversity-4384.image!


[ 1/0 ]!

1/0!

[ 1/divisor + 5]
	on: ZeroDivide 
	do: [ :aZeroDivide | 
		divisor := 1.
		aZeroDivide retry. ]!

| divisor |!

| divisor |
divisor := 0!

[ 1/divisor + 5]
	on: ZeroDivide 
	do: [ :aZeroDivide | 
		divisor := 1.
		aZeroDivide retry. ]!

[ 1/0]
	on: ZeroDivide 
	do: [ :aZeroDivide | 10 ]!

[ 1/0]
	on: ZeroDivide 
	do: [ :aZeroDivide | aZeroDivide resume: 10]!

[ 1/0 + 5 ]
	on: ZeroDivide 
	do: [ :aZeroDivide | aZeroDivide resume: 10]!

| divisor |
 divisor := 0.
[ 1/divisor + 5 ]
	on: ZeroDivide 
	do: [ :aZeroDivide | 
		divisor := 1.
		aZeroDivide retry ].!

| divisor |
 divisor := 0.
[ 1/divisor + 5 ]
	on: ZeroDivide 
	do: [ :aZeroDivide | 
		divisor := 1.
		aZeroDivide retry ].!

[ 10 ] value !

[ 10 ] !

[ |hola| hola :=0. hola ] value !

[ |hola| hola :=0 ] value !

[ |hola|  ] value !

[ ] value !

[ |hola| hola :=10 ] value !

[ |a b| a:=5. b:=10 ] value !

[ |a b| b:=10. a:=5.  ] value  !

Error - MessageNotUnderstood !

Error - MessageNotUnderstood!

[10 puto]
	on: Error - MessageNotUnderstood
	do: [:anError | 10]!

[10 puto]
	on: Error
	do: [:anError | 10]!

MessageNotUnderstood - ZeroDivide !

[10 hola]
	on: MessageNotUnderstood - ZeroDivide
	do: [ :exc | 10] !

[10/0]
	on: MessageNotUnderstood - ZeroDivide
	do: [ :exc | 10] !

[10/0]
	on: MessageNotUnderstood
	do: [ :exc | 10] !

[10/0]
	on: ZeroDivide
	do: [ :exc | 10] !

[10/0]
	on: Error - ZeroDivide
	do: [ :exc | 10] !

[10/0]
	on: Error
	do: [ :exc | 10] 
	!

----End fileIn of /home/grosinov/linux64/Portfolio-Solucion.st----!

!testRun: #ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test17TransferNetOfNnewAccountIsCero stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test18ATransferModifiesTransferNet stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test19DepositDoesNotModifyTransferNet stamp: 'GR 11/12/2020 19:54:34'!
PASSED!

!testRun: #ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/12/2020 19:54:34'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 20:05:05'!
test16

	| portfolioToAdd portfolioToModify rootPortfolio sharedAccount |
	
	sharedAccount := ReceptiveAccount new.
	portfolioToModify := Portfolio new.
	rootPortfolio := Portfolio with: sharedAccount with: portfolioToModify.
	portfolioToAdd := Portfolio with: sharedAccount.
	
	self 
		should: [ portfolioToModify add: portfolioToAdd ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolioToModify accountsIsEmpty ]! !
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/12/2020 20:09:14' prior: 50868576!
accountSummary
	
	| records |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	records add: 'Balance = ', self balance asString.
	
	^records! !

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test17TransferNetOfNnewAccountIsCero stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test18ATransferModifiesTransferNet stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test19DepositDoesNotModifyTransferNet stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

!testRun: #ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/12/2020 20:09:17'!
PASSED!

account accountSummary!

Object subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'GR 11/12/2020 21:12:10'!
Object subclass: #AccountSummary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:15:50' prior: 50869055!
test16

	| portfolioToAdd portfolioToModify rootPortfolio sharedAccount |
	
	sharedAccount := ReceptiveAccount new.
	portfolioToModify := Portfolio new.
	rootPortfolio := Portfolio with: sharedAccount with: portfolioToModify.
	portfolioToAdd := Portfolio with: sharedAccount.
	
	self 
		should: [ portfolioToModify add: portfolioToAdd ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Portfolio canNotAddAccountErrorMessage equals: anError messageText.
			self assert: portfolioToModify accountsIsEmpty ]! !
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:19:05' prior: 50869230!
test16

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: (OrderedCollection with: 'Balance = 0') equals: portfolio summary! !
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:21:02' prior: 50869250!
test16

	| portfolio account summary |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	summary := OrderedCollection with: (OrderedCollection with: 'Balance = 0') with: 'Balance total = 0'.
	
	self assert: summary equals: portfolio summary! !

!testRun: #PortfolioTest #test16 stamp: 'GR 11/12/2020 21:21:13'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:21:21'!
summary
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:22:14' prior: 50869272!
summary
	
	^ OrderedCollection with: (OrderedCollection with: 'Balance = 0') with: 'Balance total = 0'! !

!testRun: #PortfolioTest #test16 stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test17TransferNetOfNnewAccountIsCero stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test18ATransferModifiesTransferNet stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test19DepositDoesNotModifyTransferNet stamp: 'GR 11/12/2020 21:22:15'!
PASSED!

!testRun: #ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/12/2020 21:22:15'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:25:00'!
test17

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: portfolio summary! !
!ReceptiveAccount methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:25:47'!
summary
	
	| records |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	records add: 'Balance = ', self balance asString.
	
	^records! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:25:47' prior: 50868246!
test13ReportWith0Balance

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account summary.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:25:47' prior: 50868277!
test16ReportWithATransfer

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account summary.
	self assert: entryRegister equals: anotherAccount summary.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:25:47' prior: 50868255!
test14ReportWithADeposit

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account summary.
! !
!ReceptiveAccountTest methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:25:47' prior: 50868266!
test15ReportWithAWithdraw

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 100' with: 'Balance = -100'.
		
	self assert: register equals: account summary.
! !

!methodRemoval: ReceptiveAccount #accountSummary stamp: 'GR 11/12/2020 21:25:47'!
accountSummary
	
	| records |
	
	records := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	records add: 'Balance = ', self balance asString.
	
	^records!

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:25:59'!
FAILURE!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:29:02' prior: 50869276!
summary
	
	| report |
	
	report := accounts collect: [ :anAccount | anAccount summary ].
	
	report add: 'Balance total = ', self balance asString, '.'.
	
	^report! !

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:29:03'!
FAILURE!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:29:13' prior: 50869414!
test17

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100.'  with: 'Balance = 100.'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100.'.
	
	self assert: summary equals: portfolio summary! !

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:29:15'!
FAILURE!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:30:01' prior: 50869514!
test17

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: portfolio summary! !

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:30:02'!
FAILURE!

portfolio summary!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:31:51' prior: 50869503!
summary
	
	| report |
	
	report := accounts collect: [ :anAccount | anAccount summary ].
	
	report add: 'Balance total = ', self balance asString.
	
	^report! !

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test17TransferNetOfNnewAccountIsCero stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test18ATransferModifiesTransferNet stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test19DepositDoesNotModifyTransferNet stamp: 'GR 11/12/2020 21:31:53'!
PASSED!

!testRun: #ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/12/2020 21:31:53'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:33:26'!
test18

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: 0 equals: portfolio transferNet! !

!testRun: #PortfolioTest #test18 stamp: 'GR 11/12/2020 21:33:33'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:33:39'!
transferNet
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:33:49' prior: 50869702!
transferNet
	
	^ 0! !

!testRun: #PortfolioTest #test18 stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test17TransferNetOfNnewAccountIsCero stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test18ATransferModifiesTransferNet stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test19DepositDoesNotModifyTransferNet stamp: 'GR 11/12/2020 21:33:50'!
PASSED!

!testRun: #ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/12/2020 21:33:50'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:36:36'!
test19

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: account2.
	portfolio := Portfolio with: account.
	
	self assert: -100 equals: portfolio transferNet! !

!testRun: #PortfolioTest #test19 stamp: 'GR 11/12/2020 21:36:39'!
FAILURE!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:38:33' prior: 50869706!
transferNet
	
	^ (accounts at: 1) transferNet! !

!testRun: #PortfolioTest #test19 stamp: 'GR 11/12/2020 21:38:39'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:40:19'!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 100 from: account2 to: account3.
	
	self assert: -100 equals: portfolio transferNet! !
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:40:26' prior: 50869846!
test19

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: portfolio transferNet! !

!testRun: #PortfolioTest #test19 stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'GR 11/12/2020 21:40:28'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:40:28'!
PASSED!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:40:38' prior: 50869865!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 100 from: account2 to: account3.
	
	self assert: -200 equals: portfolio transferNet! !

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:40:38'!
FAILURE!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:40:50' prior: 50869962!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio := Portfolio with: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 100 from: account2 to: account3.
	
	self assert: -200 equals: portfolio transferNet! !

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:40:51'!
FAILURE!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:41:30' prior: 50869859!
transferNet
	
	^ accounts sum: [ :anAccount | anAccount transferNet] ifEmpty: [0]! !

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:41:31'!
FAILURE!

portfolio transferNet!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:42:45' prior: 50869979!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio := Portfolio with: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: portfolio transferNet! !

portfolio transferNet!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:43:47' prior: 50869997!
transferNet
	
	| sum |
	
	sum := accounts sum: [ :anAccount | anAccount transferNet] ifEmpty: [0].
	
	^sum! !

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:43:54'!
FAILURE!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:44:52' prior: 50870022!
transferNet
	
	^ accounts inject: 0 into: [ :transferNet :anAccount | transferNet + anAccount transferNet].! !

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:44:55'!
FAILURE!
!PortfolioTest methodsFor: 'tests' stamp: 'GR 11/12/2020 21:46:01' prior: 50870006!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: portfolio transferNet! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/12/2020 21:46:32' prior: 50870031!
transferNet
	
	^ accounts sum: [ :anAccount | anAccount transferNet] ifEmpty: [0].! !

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:46:33'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test16 stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test17 stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test18 stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test19 stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

!testRun: #PortfolioTest #test20 stamp: 'GR 11/12/2020 21:46:36'!
PASSED!

Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'GR 11/12/2020 21:47:06'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRenamed: #AccountSummary as: #Summary stamp: 'GR 11/12/2020 21:47:14'!
Smalltalk renameClassNamed: #AccountSummary as: #Summary!

Report subclass: #Summary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Summary category: 'Portfolio-Solucion' stamp: 'GR 11/12/2020 21:47:20'!
Report subclass: #Summary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'GR 11/12/2020 21:47:27'!
Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Summary methodsFor: 'no messages' stamp: 'GR 11/12/2020 21:49:34'!
portfolioReport: aPortfolio

	! !
!Summary methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:49:39'!
accountReport: aPortfolio

	! !
!TransferNet methodsFor: 'no messages' stamp: 'GR 11/12/2020 21:49:58'!
portfolioTransferNet: aPortfolio! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:50:08'!
accountTransferNet: anAccount! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:50:18' prior: 50870180!
portfolioTransferNet: anAccount! !
!Report methodsFor: 'no messages' stamp: 'GR 11/12/2020 21:50:35'!
accountReport: aPortfolio! !
!Report methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:50:39' prior: 50870193!
accountReport: aPortfolio

	self subclassResponsibility.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:50:59' overrides: 50870197!
accountReport: anAccount! !

!methodRemoval: TransferNet #accountTransferNet: stamp: 'GR 11/12/2020 21:50:59'!
accountTransferNet: anAccount!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:51:06'!
portfolioReport: anAccount! !

!methodRemoval: TransferNet #portfolioTransferNet: stamp: 'GR 11/12/2020 21:51:06'!
portfolioTransferNet: anAccount!
!Report methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:51:19'!
portfolioReport: aPortfolio

	self subclassResponsibility.! !
!Account methodsFor: 'nil' stamp: 'GR 11/12/2020 21:52:26'!
summary

	self subclassResponsibility.! !
!Account methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 21:52:35'!
transferNet

	self subclassResponsibility.! !
!Summary methodsFor: 'nil' stamp: 'GR 11/12/2020 22:08:24' overrides: 16896425!
initialize

	! !

Report subclass: #Summary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Summary category: 'Portfolio-Solucion' stamp: 'GR 11/12/2020 22:10:29'!
Report subclass: #Summary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Portfolio methodsFor: 'report' stamp: 'GR 11/12/2020 22:12:23'!
giveReport: aReport

	aReport with: self.! !
!ReceptiveAccount methodsFor: 'report' stamp: 'GR 11/12/2020 22:12:40'!
giveReport: aReport

	aReport with: self.! !
!Account methodsFor: 'report' stamp: 'GR 11/12/2020 22:12:55'!
giveReport

	self subclassResponsibility.! !
!ReceptiveAccount methodsFor: 'report' stamp: 'GR 11/12/2020 22:17:22' prior: 50870246!
giveReport: aReport

	(aReport with: self) accountReport: self.! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:18:02'!
accountReport! !
!Report methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:18:02'!
accountReport

	self subclassResponsibility.! !
!Summary methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:18:02' overrides: 50870263!
accountReport

	! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:18:02' prior: 50870255!
giveReport: aReport

	(aReport with: self) accountReport.! !

!methodRemoval: TransferNet #accountReport: stamp: 'GR 11/12/2020 22:18:02'!
accountReport: anAccount!

!methodRemoval: Report #accountReport: stamp: 'GR 11/12/2020 22:18:02'!
accountReport: aPortfolio

	self subclassResponsibility.!

!methodRemoval: Summary #accountReport: stamp: 'GR 11/12/2020 22:18:02'!
accountReport: aPortfolio

	!
!Summary methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:18:24'!
portfolioReport

	! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:18:24'!
portfolioReport! !
!Report methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:18:24'!
portfolioReport

	self subclassResponsibility.! !

!methodRemoval: Summary #portfolioReport: stamp: 'GR 11/12/2020 22:18:24'!
portfolioReport: aPortfolio

	!

!methodRemoval: TransferNet #portfolioReport: stamp: 'GR 11/12/2020 22:18:24'!
portfolioReport: anAccount!

!methodRemoval: Report #portfolioReport: stamp: 'GR 11/12/2020 22:18:24'!
portfolioReport: aPortfolio

	self subclassResponsibility.!
!TransferNet methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:19:20' prior: 50870260 overrides: 50870263!
accountReport

	! !

Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'GR 11/12/2020 22:19:27'!
Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!Summary methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:20:09' prior: 50870268 overrides: 50870263!
accountReport

	! !
!Summary methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:20:41' prior: 50870327 overrides: 50870263!
accountReport

	| records |
	
	records := account transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	records add: 'Balance = ', self balance asString.
	
	^records! !
!Summary methodsFor: 'as yet unclassified' stamp: 'GR 11/12/2020 22:23:45' prior: 50870287 overrides: 50870294!
portfolioReport

	| report |
	
	report := account accounts collect: [ :anAccount | anAccount summary ].
	
	report add: 'Balance total = ', self balance asString.
	
	^report! !

!classRemoval: #Summary stamp: 'GR 11/12/2020 22:51:22'!
Report subclass: #Summary
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferNet stamp: 'GR 11/12/2020 22:51:26'!
Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Report stamp: 'GR 11/12/2020 22:51:31'!
Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!methodRemoval: ReceptiveAccount #giveReport: stamp: 'GR 11/12/2020 22:51:36'!
giveReport: aReport

	(aReport with: self) accountReport.!

!methodRemoval: Portfolio #giveReport: stamp: 'GR 11/12/2020 22:51:41'!
giveReport: aReport

	aReport with: self.!

!methodRemoval: Account #giveReport stamp: 'GR 11/12/2020 22:51:49'!
giveReport

	self subclassResponsibility.!

----QUIT----(12 November 2020 22:51:54) CuisUniversity-4384.image priorSource: 17155564!

----STARTUP---- (14 November 2020 12:48:03) as /home/grosinov/linux64/CuisUniversity-4384.image!


TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #ReportTest category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:00:10'!
TestCase subclass: #ReportTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRenamed: #ReportTest as: #ReportsTest stamp: 'GR 11/14/2020 15:00:20'!
Smalltalk renameClassNamed: #ReportTest as: #ReportsTest!
!ReportsTest methodsFor: 'no messages' stamp: 'GR 11/14/2020 15:01:11'!
test13ReportWith0Balance

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account summary.
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:01:29'!
test14ReportWithADeposit

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account summary.
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:01:41'!
test15ReportWithAWithdraw

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 100' with: 'Balance = -100'.
		
	self assert: register equals: account summary.
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:01:51'!
test16ReportWithATransfer

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account summary.
	self assert: entryRegister equals: anotherAccount summary.
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:02:00'!
test17TransferNetOfNnewAccountIsCero

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: account transferNet.! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:02:12'!
test18ATransferModifiesTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:02:22'!
test19DepositDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:02:33'!
test20WithdrawDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.
! !

!methodRemoval: ReceptiveAccountTest #test13ReportWith0Balance stamp: 'GR 11/14/2020 15:02:43'!
test13ReportWith0Balance

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account summary.
!

!methodRemoval: ReceptiveAccountTest #test14ReportWithADeposit stamp: 'GR 11/14/2020 15:02:45'!
test14ReportWithADeposit

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account summary.
!

!methodRemoval: ReceptiveAccountTest #test15ReportWithAWithdraw stamp: 'GR 11/14/2020 15:02:46'!
test15ReportWithAWithdraw

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 100' with: 'Balance = -100'.
		
	self assert: register equals: account summary.
!

!methodRemoval: ReceptiveAccountTest #test16ReportWithATransfer stamp: 'GR 11/14/2020 15:02:47'!
test16ReportWithATransfer

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account summary.
	self assert: entryRegister equals: anotherAccount summary.
!

!methodRemoval: ReceptiveAccountTest #test17TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:02:48'!
test17TransferNetOfNnewAccountIsCero

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: account transferNet.
!

!methodRemoval: ReceptiveAccountTest #test18ATransferModifiesTransferNet stamp: 'GR 11/14/2020 15:02:48'!
test18ATransferModifiesTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
!

!methodRemoval: ReceptiveAccountTest #test19DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:02:49'!
test19DepositDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.
!

!methodRemoval: ReceptiveAccountTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:02:50'!
test20WithdrawDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.
!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:03:02'!
test01ReportWith0Balance

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account summary.
! !

!methodRemoval: ReportsTest #test13ReportWith0Balance stamp: 'GR 11/14/2020 15:03:02'!
test13ReportWith0Balance

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: account summary.
!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:03:09'!
test02ReportWithADeposit

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account summary.
! !

!methodRemoval: ReportsTest #test14ReportWithADeposit stamp: 'GR 11/14/2020 15:03:09'!
test14ReportWithADeposit

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: account summary.
!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:03:15'!
test03ReportWithAWithdraw

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 100' with: 'Balance = -100'.
		
	self assert: register equals: account summary.
! !

!methodRemoval: ReportsTest #test15ReportWithAWithdraw stamp: 'GR 11/14/2020 15:03:15'!
test15ReportWithAWithdraw

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 100' with: 'Balance = -100'.
		
	self assert: register equals: account summary.
!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:03:22'!
test04ReportWithATransfer

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account summary.
	self assert: entryRegister equals: anotherAccount summary.
! !

!methodRemoval: ReportsTest #test16ReportWithATransfer stamp: 'GR 11/14/2020 15:03:22'!
test16ReportWithATransfer

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: account summary.
	self assert: entryRegister equals: anotherAccount summary.
!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:03:29'!
test05TransferNetOfNnewAccountIsCero

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: account transferNet.! !

!methodRemoval: ReportsTest #test17TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:03:29'!
test17TransferNetOfNnewAccountIsCero

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: account transferNet.!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:03:41'!
test06ATransferModifiesTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
! !

!methodRemoval: ReportsTest #test18ATransferModifiesTransferNet stamp: 'GR 11/14/2020 15:03:41'!
test18ATransferModifiesTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: account transferNet.
	self assert: 100 equals: anotherAccount transferNet.
!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:03:53'!
test07DepositDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.! !

!methodRemoval: ReportsTest #test19DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:03:53'!
test19DepositDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:03:58'!
test08WithdrawDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.
! !

!methodRemoval: ReportsTest #test20WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:03:58'!
test20WithdrawDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
		
	self assert: 0 equals: account transferNet.
	self assert: 0 equals: anotherAccount transferNet.
!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:04:00'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:04:00'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:04:00'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 15:04:00'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 15:04:00'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:04:00'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 15:04:00'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:04:00'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:04:00'!
PASSED!
!ReceptiveAccount methodsFor: 'report' stamp: 'GR 11/14/2020 15:11:37' prior: 50869429 overrides: 50870220!
summary
	
	| report |
	
	report := transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	report add: 'Balance = ', self balance asString.
	
	^report! !

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:29:54'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:29:45' prior: 50870593!
test01ReportWith0Balance

	| account register |
	
	account := ReceptiveAccount new.
	
	register := OrderedCollection with: 'Balance = 0'.
		
	self assert: register equals: (AccountSummary for: account) summary .
! !

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:31:56'!
ERROR!
!AccountSummary class methodsFor: 'instance creation' stamp: 'GR 11/14/2020 15:32:32'!
for: aReceptiveAccount 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeFor: aReceptiveAccount ! !
!AccountSummary class methodsFor: 'instance creation' stamp: 'GR 11/14/2020 15:32:50' prior: 50870839!
for: anAccount 
	
	^self new initializeFor: anAccount ! !

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:32:52'!
ERROR!
!AccountSummary methodsFor: 'initialization' stamp: 'GR 11/14/2020 15:33:02'!
initializeFor: anAccount 
	self shouldBeImplemented.
	account := anAccount.! !

Object subclass: #AccountSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:34:10'!
Object subclass: #AccountSummary
	instanceVariableNames: 'account summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!AccountSummary methodsFor: 'initialization' stamp: 'GR 11/14/2020 15:34:43' prior: 50870856!
initializeFor: anAccount 
	
	account := anAccount.
	summary  := OrderedCollection with: 'Balance = ', account balance asString! !

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:34:56'!
ERROR!
!AccountSummary methodsFor: 'accessing' stamp: 'GR 11/14/2020 15:35:17'!
summary
	self shouldBeImplemented.
	^summary! !
!AccountSummary methodsFor: 'accessing' stamp: 'GR 11/14/2020 15:35:22' prior: 50870885!
summary
	
	^summary! !

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:35:24'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:35:24'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:35:24'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 15:35:24'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 15:35:24'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:35:24'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 15:35:24'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:35:24'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:35:24'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:35:46' prior: 50870611!
test02ReportWithADeposit

	| account register |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	
	register := OrderedCollection with: 'Deposito de 100' with: 'Balance = 100'.
		
	self assert: register equals: (AccountSummary for: account) summary.
! !

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:35:51'!
FAILURE!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:35:51'!
FAILURE!
!AccountSummary methodsFor: 'initialization' stamp: 'GR 11/14/2020 15:37:53' prior: 50870875!
initializeFor: anAccount 
	
	account := anAccount.
	summary  := self accountReport! !

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:37:55'!
ERROR!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 15:38:06'!
accountReport
	self shouldBeImplemented.! !
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 15:38:29' prior: 50870947!
accountReport
	
	| report |
	
	report := account transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	report add: 'Balance = ', self balance asString.
	
	^report! !

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:38:32'!
ERROR!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 15:38:44' prior: 50870952!
accountReport
	
	| report |
	
	report := account transactions collect: [ :aTransaction | aTransaction giveReport ].
	
	report add: 'Balance = ', account balance asString.
	
	^report! !

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:38:44'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:38:48'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:38:58' prior: 50870633!
test03ReportWithAWithdraw

	| account register |
	
	account := ReceptiveAccount new.
	Withdraw register: 100 on: account.
	
	register := OrderedCollection with: 'Extraccion de 100' with: 'Balance = -100'.
		
	self assert: register equals: (AccountSummary for: account) summary.
! !

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 15:38:59'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:38:59'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:38:59'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 15:38:59'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 15:38:59'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:38:59'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 15:38:59'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:38:59'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:38:59'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:39:09' prior: 50870655!
test04ReportWithATransfer

	| account anotherAccount entryRegister exitRegister |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
	
	entryRegister := OrderedCollection with: 'Entrada por transferencia de 100' with: 'Balance = 100'.
	exitRegister := OrderedCollection with: 'Salida por transferencia de 100' with: 'Balance = -100'.
		
	self assert: exitRegister equals: (AccountSummary for: account) summary.
	self assert: entryRegister equals: (AccountSummary for: anotherAccount ) summary.
! !

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 15:39:09'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:39:09'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:39:09'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 15:39:09'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 15:39:10'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:39:10'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 15:39:10'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:39:10'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:39:10'!
PASSED!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:40:23'!
ProtoObject subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:39:54' prior: 50870694!
test05TransferNetOfNnewAccountIsCero

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: (TransferNet for: account) value.! !

Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:40:36'!
Object subclass: #Report
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #Report category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:40:39'!
Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #AccountSummary
	instanceVariableNames: 'summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #AccountSummary category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:40:49'!
Report subclass: #AccountSummary
	instanceVariableNames: 'summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:40:54'!
Report subclass: #TransferNet
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!methodRemoval: AccountSummary class #for: stamp: 'GR 11/14/2020 15:41:11'!
for: anAccount 
	
	^self new initializeFor: anAccount !
!Report class methodsFor: 'no messages' stamp: 'GR 11/14/2020 15:41:16'!
for: anAccount 
	
	^self new initializeFor: anAccount ! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:42:12' prior: 50870709!
test06ATransferModifiesTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Transfer transfer: 100 from: account to: anotherAccount.
		
	self assert: -100 equals: (TransferNet for: account) value.
	self assert: 100 equals: (TransferNet for: anotherAccount ) value.
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:42:22' prior: 50870734!
test07DepositDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Deposit register: 100 on: account.
		
	self assert: 0 equals: (TransferNet for: account) value.
	self assert: 0 equals: (TransferNet for: anotherAccount ) value.! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:42:28' prior: 50870758!
test08WithdrawDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
		
	self assert: 0 equals: (TransferNet for: account) value.
	self assert: 0 equals: (TransferNet for: account) value.
! !
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:42:32' prior: 50871165!
test08WithdrawDoesNotModifyTransferNet

	| account anotherAccount |
	
	account := ReceptiveAccount new.
	anotherAccount := ReceptiveAccount new.
	Withdraw register: 100 on: account.
		
	self assert: 0 equals: (TransferNet for: account) value.
	self assert: 0 equals: (TransferNet for: anotherAccount ) value.
! !

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:42:35'!
ERROR!

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:42:35'!
ERROR!
!TransferNet methodsFor: 'initialization' stamp: 'GR 11/14/2020 15:42:49'!
initializeFor: anAccount 
	self shouldBeImplemented.
	account := anAccount.! !

Report subclass: #TransferNet
	instanceVariableNames: ' value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classDefinition: #TransferNet category: 'Portfolio-Solucion' stamp: 'GR 11/14/2020 15:43:06'!
Report subclass: #TransferNet
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!
!TransferNet methodsFor: 'initialization' stamp: 'GR 11/14/2020 15:43:18' prior: 50871197!
initializeFor: anAccount 
	
	account := anAccount.
	value := 0.! !

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:43:19'!
FAILURE!
!TransferNet methodsFor: 'initialization' stamp: 'GR 11/14/2020 15:44:18' prior: 50871215!
initializeFor: anAccount 
	
	account := anAccount.
	value := self accountTransferNet.! !

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:44:21'!
ERROR!
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 15:44:27'!
accountTransferNet
	self shouldBeImplemented.! !
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 15:44:50' prior: 50871233!
accountTransferNet
	
	^ account transactions inject: 0 into: [ :transferNet :aTransaction | aTransaction transferNet: transferNet].! !

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:44:51'!
FAILURE!
!TransferNet methodsFor: 'nil' stamp: 'GR 11/14/2020 15:45:41' overrides: 16881508!
value

	^ value ! !

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:45:50'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:45:50'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:45:50'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 15:45:50'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 15:45:50'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:45:50'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 15:45:50'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:45:50'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:45:50'!
PASSED!
!ReportsTest methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:46:25'!
test05TransferNetOfNewAccountIsCero

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: (TransferNet for: account) value.! !

!methodRemoval: ReportsTest #test05TransferNetOfNnewAccountIsCero stamp: 'GR 11/14/2020 15:46:25'!
test05TransferNetOfNnewAccountIsCero

	| account |
	
	account := ReceptiveAccount new.
		
	self assert: 0 equals: (TransferNet for: account) value.!
!EntryTransfer methodsFor: 'report' stamp: 'GR 11/14/2020 15:53:59'!
giveReport: aReport
	
	^ 'Entrada por transferencia de ', transfer value asString.! !
!ExitTransfer methodsFor: 'report' stamp: 'GR 11/14/2020 15:53:59'!
giveReport: aReport
	
	^ 'Salida por transferencia de ',transfer value asString! !
!Withdraw methodsFor: 'report' stamp: 'GR 11/14/2020 15:53:59'!
giveReport: aReport
	
	^ ('Extraccion de ',self value asString).! !
!Deposit methodsFor: 'report' stamp: 'GR 11/14/2020 15:53:59'!
giveReport: aReport
	
	^ ('Deposito de ',value asString)! !
!TransferFeet methodsFor: 'report' stamp: 'GR 11/14/2020 15:53:59'!
giveReport: aReport

	self subclassResponsibility.! !
!AccountTransaction methodsFor: 'report' stamp: 'GR 11/14/2020 15:53:59'!
giveReport: aReport

	self subclassResponsibility.! !
!AccountSummary methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:53:59' prior: 50870964!
accountReport
	
	| report |
	
	report := account transactions collect: [ :aTransaction | aTransaction giveReport: self ].
	
	report add: 'Balance = ', account balance asString.
	
	^report! !
!ReceptiveAccount methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 15:53:59' prior: 50870810 overrides: 50870220!
summary
	
	| report |
	
	report := transactions collect: [ :aTransaction | aTransaction giveReport: self ].
	
	report add: 'Balance = ', self balance asString.
	
	^report! !

!methodRemoval: EntryTransfer #giveReport stamp: 'GR 11/14/2020 15:53:59'!
giveReport
	
	^ 'Entrada por transferencia de ', transfer value asString.!

!methodRemoval: ExitTransfer #giveReport stamp: 'GR 11/14/2020 15:53:59'!
giveReport
	
	^ 'Salida por transferencia de ',transfer value asString!

!methodRemoval: Withdraw #giveReport stamp: 'GR 11/14/2020 15:53:59'!
giveReport
	
	^ ('Extraccion de ',self value asString).!

!methodRemoval: Deposit #giveReport stamp: 'GR 11/14/2020 15:53:59'!
giveReport
	
	^ ('Deposito de ',value asString)!

!methodRemoval: TransferFeet #giveReport stamp: 'GR 11/14/2020 15:53:59'!
giveReport

	self subclassResponsibility.!

!methodRemoval: AccountTransaction #giveReport stamp: 'GR 11/14/2020 15:53:59'!
giveReport

	self subclassResponsibility.!
!Deposit methodsFor: 'report' stamp: 'GR 11/14/2020 15:55:48' prior: 50871310 overrides: 50871318!
giveReport: aReport
	
	^ aReport depositReport: self! !
!AccountSummary methodsFor: 'nil' stamp: 'GR 11/14/2020 15:56:06'!
depositReport: aDeposit

	^ ('Deposito de ',aDeposit value asString)! !

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:56:33'!
PASSED!
!EntryTransfer methodsFor: 'report' stamp: 'GR 11/14/2020 15:56:54' prior: 50871295 overrides: 50871314!
giveReport: aReport
	
	^ aReport entryTransferReport: self.! !
!AccountSummary methodsFor: 'operations -- private' stamp: 'GR 11/14/2020 15:57:41'!
entryTransferReport: anEntryTransfer

	^ 'Entrada por transferencia de ', anEntryTransfer value asString.! !
!AccountSummary methodsFor: 'operations -- private' stamp: 'GR 11/14/2020 15:58:19'!
exitTransferReport: anExitTransfer

	^ 'Salida por transferencia de ', anExitTransfer value asString.! !
!AccountSummary methodsFor: 'operations -- private' stamp: 'GR 11/14/2020 15:58:49'!
withdrawReport: aWithdraw

	^ ('Extraccion de ',aWithdraw value asString)! !
!ExitTransfer methodsFor: 'report' stamp: 'GR 11/14/2020 15:59:11' prior: 50871300 overrides: 50871314!
giveReport: aReport
	
	^ aReport exitTransferReport: self.! !
!Withdraw methodsFor: 'report' stamp: 'GR 11/14/2020 15:59:24' prior: 50871305 overrides: 50871318!
giveReport: aReport
	
	^ aReport withdrawReport: self.! !

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:59:30'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 15:59:30'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 15:59:30'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 15:59:30'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 15:59:30'!
ERROR!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 15:59:30'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 15:59:30'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:59:30'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 15:59:30'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 15:59:30'!
ERROR!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:00:07'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:00:07'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:00:07'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:00:07'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:00:07'!
ERROR!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:00:07'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:00:07'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:00:07'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:00:07'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:00:07'!
ERROR!
!ExitTransfer methodsFor: 'accessing' stamp: 'GR 11/14/2020 16:00:14' overrides: 50868604!
value
	self shouldBeImplemented.! !
!ExitTransfer methodsFor: 'accessing' stamp: 'GR 11/14/2020 16:00:19' prior: 50871475 overrides: 50868604!
value
	
	^ transfer value! !

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:00:21'!
ERROR!
!EntryTransfer methodsFor: 'accessing' stamp: 'GR 11/14/2020 16:00:26' overrides: 50868604!
value
	self shouldBeImplemented.! !
!EntryTransfer methodsFor: 'accessing' stamp: 'GR 11/14/2020 16:00:30' prior: 50871487 overrides: 50868604!
value
	
	^ transfer value! !

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:00:31'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:00:33'!
PASSED!

!methodRemoval: EntryTransfer #value stamp: 'GR 11/14/2020 16:02:13'!
value
	
	^ transfer value!

!methodRemoval: ExitTransfer #value stamp: 'GR 11/14/2020 16:02:18'!
value
	
	^ transfer value!
!TransferFeet methodsFor: 'nil' stamp: 'GR 11/14/2020 16:02:24' overrides: 50868604!
value
	
	^ transfer value! !

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:02:35'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:02:35'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:02:35'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:02:35'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:02:35'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:02:35'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:02:35'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:02:35'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:02:35'!
PASSED!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:03:19'!
test16

	| portfolio account summary |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	summary := OrderedCollection with: (OrderedCollection with: 'Balance = 0') with: 'Balance total = 0'.
	
	self assert: summary equals: portfolio summary! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:03:30'!
test17

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: portfolio summary! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:03:45'!
test18

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: 0 equals: portfolio transferNet! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:03:55'!
test19

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: portfolio transferNet! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:04:05'!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: portfolio transferNet! !

!methodRemoval: PortfolioTest #test16 stamp: 'GR 11/14/2020 16:04:13'!
test16

	| portfolio account summary |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	summary := OrderedCollection with: (OrderedCollection with: 'Balance = 0') with: 'Balance total = 0'.
	
	self assert: summary equals: portfolio summary!

!methodRemoval: PortfolioTest #test17 stamp: 'GR 11/14/2020 16:04:14'!
test17

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: portfolio summary!

!methodRemoval: PortfolioTest #test18 stamp: 'GR 11/14/2020 16:04:14'!
test18

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: 0 equals: portfolio transferNet!

!methodRemoval: PortfolioTest #test19 stamp: 'GR 11/14/2020 16:04:15'!
test19

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: portfolio transferNet!

!methodRemoval: PortfolioTest #test20 stamp: 'GR 11/14/2020 16:04:17'!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: portfolio transferNet!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:04:44' prior: 50871563!
test16

	| portfolio account summary |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	summary := OrderedCollection with: (OrderedCollection with: 'Balance = 0') with: 'Balance total = 0'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:04:45'!
FAILURE!

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:04:45'!
FAILURE!
!AccountSummary methodsFor: 'initialization' stamp: 'GR 11/14/2020 16:05:43' prior: 50870939!
initializeFor: anAccount 
	
	account := anAccount.
	summary  := account reportMake: self! !

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:05:46'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'GR 11/14/2020 16:06:01'!
reportMake: anAccountSummary 
	self shouldBeImplemented.! !
!Portfolio methodsFor: 'operations' stamp: 'GR 11/14/2020 16:07:21' prior: 50871703!
reportMake: aReport

	^ aReport portfolioReport: self
	
	! !

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:07:22'!
ERROR!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:07:38'!
portfolioReport: aPortfolio 
	self shouldBeImplemented.! !
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:08:44' prior: 50871715!
portfolioReport: aPortfolio 
	
	| report |
	
	report := account accounts collect: [ :anAccount | anAccount summary ].
	
	report add: 'Balance total = ', self balance asString.
	
	^report! !
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:09:25' prior: 50871720!
portfolioReport: aPortfolio 
	
	| report |
	
	report := account accounts collect: [ :anAccount | anAccount makeReport: self ].
	
	report add: 'Balance total = ', self balance asString.
	
	^report! !

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:09:27'!
ERROR!
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/14/2020 16:09:32'!
accounts
	self shouldBeImplemented.
	^accounts! !
!Portfolio methodsFor: 'accessing' stamp: 'GR 11/14/2020 16:09:33' prior: 50871740!
accounts
	
	^accounts! !

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:09:35'!
ERROR!
!ReceptiveAccount methodsFor: 'operations' stamp: 'GR 11/14/2020 16:09:44'!
makeReport: anAccountSummary 
	self shouldBeImplemented.! !
!ReceptiveAccount methodsFor: 'operations' stamp: 'GR 11/14/2020 16:10:20' prior: 50871751!
makeReport: aReport

	^ aReport accountReport: self
	
	! !

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:10:22'!
ERROR!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:10:42'!
accountReport: aReceptiveAccount
	
	| report |
	
	report := account transactions collect: [ :aTransaction | aTransaction giveReport: self ].
	
	report add: 'Balance = ', account balance asString.
	
	^report! !

!methodRemoval: AccountSummary #accountReport stamp: 'GR 11/14/2020 16:10:46'!
accountReport
	
	| report |
	
	report := account transactions collect: [ :aTransaction | aTransaction giveReport: self ].
	
	report add: 'Balance = ', account balance asString.
	
	^report!

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:10:52'!
ERROR!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:11:05' prior: 50871729!
portfolioReport: aPortfolio 
	
	| report |
	
	report := account accounts collect: [ :anAccount | anAccount makeReport: self ].
	
	report add: 'Balance total = ', account balance asString.
	
	^report! !

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:11:31'!
ERROR!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:11:31'!
ERROR!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:11:31'!
ERROR!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:11:31'!
ERROR!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test17 stamp: 'GR 11/14/2020 16:11:31'!
ERROR!

!testRun: #ReportsTest #test18 stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'GR 11/14/2020 16:11:31'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:11:38'!
ERROR!
!AccountSummary methodsFor: 'initialization' stamp: 'GR 11/14/2020 16:12:13' prior: 50871695!
initializeFor: anAccount 
	
	account := anAccount.
	summary  := account makeReport: self! !

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:12:15'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:12:19'!
ERROR!

!testRun: #ReportsTest #test17 stamp: 'GR 11/14/2020 16:12:19'!
ERROR!

!testRun: #ReportsTest #test18 stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'GR 11/14/2020 16:12:19'!
PASSED!

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:12:25'!
ERROR!
!Portfolio methodsFor: 'operations' stamp: 'GR 11/14/2020 16:12:44'!
makeReport: aReport

	^ aReport portfolioReport: self
	
	! !

!methodRemoval: Portfolio #reportMake: stamp: 'GR 11/14/2020 16:12:44'!
reportMake: aReport

	^ aReport portfolioReport: self
	
	!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test17 stamp: 'GR 11/14/2020 16:12:49'!
ERROR!

!testRun: #ReportsTest #test18 stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'GR 11/14/2020 16:12:49'!
PASSED!

!testRun: #ReportsTest #test17 stamp: 'GR 11/14/2020 16:12:49'!
ERROR!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:14:41' prior: 50871574!
test17

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:14:47'!
PASSED!

!testRun: #ReportsTest #test17 stamp: 'GR 11/14/2020 16:14:48'!
PASSED!

!methodRemoval: Portfolio #summary stamp: 'GR 11/14/2020 16:15:01'!
summary
	
	| report |
	
	report := accounts collect: [ :anAccount | anAccount summary ].
	
	report add: 'Balance total = ', self balance asString.
	
	^report!

!methodRemoval: ReceptiveAccount #summary stamp: 'GR 11/14/2020 16:15:07'!
summary
	
	| report |
	
	report := transactions collect: [ :aTransaction | aTransaction giveReport: self ].
	
	report add: 'Balance = ', self balance asString.
	
	^report!
!Account methodsFor: 'report' stamp: 'GR 11/14/2020 16:15:20'!
makeReport: aReport

	self subclassResponsibility.! !

!methodRemoval: Account #summary stamp: 'GR 11/14/2020 16:15:26'!
summary

	self subclassResponsibility.!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:15:49' prior: 50871596!
test19

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: (TransferNet for: portfolio) value! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:15:55' prior: 50871607!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: (TransferNet for: portfolio) value! !

!testRun: #ReportsTest #test19 stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test16 stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test17 stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test18 stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'GR 11/14/2020 16:15:57'!
PASSED!

!testRun: #ReportsTest #test19 stamp: 'GR 11/14/2020 16:16:10'!
PASSED!

!testRun: #ReportsTest #test20 stamp: 'GR 11/14/2020 16:16:12'!
PASSED!

account transactions!

account!

!testRun: #ReportsTest #test19 stamp: 'GR 11/14/2020 16:17:38'!
PASSED!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:18:26'!
test09PortfolioWithNewAccountReportsSummary

	| portfolio account summary |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	summary := OrderedCollection with: (OrderedCollection with: 'Balance = 0') with: 'Balance total = 0'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!methodRemoval: ReportsTest #test16 stamp: 'GR 11/14/2020 16:18:26'!
test16

	| portfolio account summary |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	summary := OrderedCollection with: (OrderedCollection with: 'Balance = 0') with: 'Balance total = 0'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:19:57'!
test17PortfolioWithDepositedAccountReportsSummart

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!methodRemoval: ReportsTest #test17 stamp: 'GR 11/14/2020 16:19:57'!
test17

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:20:03'!
test17PortfolioWithDepositedAccountReportsSummary

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!methodRemoval: ReportsTest #test17PortfolioWithDepositedAccountReportsSummart stamp: 'GR 11/14/2020 16:20:03'!
test17PortfolioWithDepositedAccountReportsSummart

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:20:28'!
test17PortfolioWithTransactionMadeAccountReportsSummary

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!methodRemoval: ReportsTest #test17PortfolioWithDepositedAccountReportsSummary stamp: 'GR 11/14/2020 16:20:28'!
test17PortfolioWithDepositedAccountReportsSummary

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:21:06'!
test18PortfolioWithNewAccountTransferNetEqualsCero

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: 0 equals: portfolio transferNet! !

!methodRemoval: ReportsTest #test18 stamp: 'GR 11/14/2020 16:21:06'!
test18

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: 0 equals: portfolio transferNet!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:21:33'!
test19PortfolioWithATransferGivesTransferNet

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: (TransferNet for: portfolio) value! !

!methodRemoval: ReportsTest #test19 stamp: 'GR 11/14/2020 16:21:33'!
test19

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: (TransferNet for: portfolio) value!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:22:45'!
test19PortfolioWithAccountTransferGivesItsTransferNet

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: (TransferNet for: portfolio) value! !

!methodRemoval: ReportsTest #test19PortfolioWithATransferGivesTransferNet stamp: 'GR 11/14/2020 16:22:45'!
test19PortfolioWithATransferGivesTransferNet

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: (TransferNet for: portfolio) value!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:23:19'!
test20PortfolioGivesSubAccountsTotalTransferNet

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: (TransferNet for: portfolio) value! !

!methodRemoval: ReportsTest #test20 stamp: 'GR 11/14/2020 16:23:19'!
test20

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: (TransferNet for: portfolio) value!

!testRun: #ReportsTest #test20PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test17PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test18PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test19PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:23:24'!
PASSED!

!testRun: #ReportsTest #test20PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:23:24'!
PASSED!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:23:38'!
test10PortfolioWithTransactionMadeAccountReportsSummary

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!methodRemoval: ReportsTest #test17PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:23:38'!
test17PortfolioWithTransactionMadeAccountReportsSummary

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:23:45'!
test11PortfolioWithNewAccountTransferNetEqualsCero

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: 0 equals: portfolio transferNet! !

!methodRemoval: ReportsTest #test18PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:23:45'!
test18PortfolioWithNewAccountTransferNetEqualsCero

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: 0 equals: portfolio transferNet!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:23:51'!
test12PortfolioWithAccountTransferGivesItsTransferNet

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: (TransferNet for: portfolio) value! !

!methodRemoval: ReportsTest #test19PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:23:51'!
test19PortfolioWithAccountTransferGivesItsTransferNet

	| portfolio account account2 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	Transfer transfer: 100 from: account to: account2.
	
	self assert: -100 equals: (TransferNet for: portfolio) value!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:23:56'!
test13PortfolioGivesSubAccountsTotalTransferNet

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: (TransferNet for: portfolio) value! !

!methodRemoval: ReportsTest #test20PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:23:56'!
test20PortfolioGivesSubAccountsTotalTransferNet

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account2 to: account3.
	
	self assert: -150 equals: (TransferNet for: portfolio) value!

!methodRemoval: AccountSummary #portfolioReport: stamp: 'GR 11/14/2020 16:25:01'!
portfolioReport: aPortfolio 
	
	| report |
	
	report := account accounts collect: [ :anAccount | anAccount makeReport: self ].
	
	report add: 'Balance total = ', account balance asString.
	
	^report!
!Portfolio methodsFor: 'operations' stamp: 'GR 11/14/2020 16:25:13' prior: 50871883 overrides: 50871968!
makeReport: aReport

	^ aReport accountReport: self
	
	! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:25:35' prior: 50872311!
test10PortfolioWithTransactionMadeAccountReportsSummary

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:27:07' prior: 50872439!
test10PortfolioWithTransactionMadeAccountReportsSummary

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance total = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!methodRemoval: Portfolio #transferNet stamp: 'GR 11/14/2020 16:27:17'!
transferNet
	
	^ accounts sum: [ :anAccount | anAccount transferNet] ifEmpty: [0].!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:30:48' prior: 50871763!
accountReport: aReceptiveAccount
	
	| report |
	
	report := aReceptiveAccount transactions collect: [ :aTransaction | aTransaction giveReport: self ].
	
	report add: 'Balance = ', account balance asString.
	
	^report! !
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:30:52' prior: 50872478!
accountReport: aReceptiveAccount
	
	| report |
	
	report := aReceptiveAccount transactions collect: [ :aTransaction | aTransaction giveReport: self ].
	
	report add: 'Balance = ', aReceptiveAccount balance asString.
	
	^report! !
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 16:31:22'!
accountTransferNet: anAccount
	
	^ account transactions inject: 0 into: [ :transferNet :aTransaction | aTransaction transferNet: transferNet].! !
!TransferNet methodsFor: 'as yet unclassified' stamp: 'GR 11/14/2020 16:31:22' prior: 50871224!
initializeFor: anAccount 
	
	account := anAccount.
	value := self accountTransferNet: self.! !

!methodRemoval: TransferNet #accountTransferNet stamp: 'GR 11/14/2020 16:31:22'!
accountTransferNet
	
	^ account transactions inject: 0 into: [ :transferNet :aTransaction | aTransaction transferNet: transferNet].!
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 16:31:35' prior: 50872498!
accountTransferNet: anAccount
	
	^ anAccount transactions inject: 0 into: [ :transferNet :aTransaction | aTransaction transferNet: transferNet].! !
!AccountSummary methodsFor: 'initialization' stamp: 'GR 11/14/2020 16:31:59' prior: 50871834!
initializeFor: anAccount 
	
	summary  := anAccount makeReport: self! !
!TransferNet methodsFor: 'initialization' stamp: 'GR 11/14/2020 16:32:48' prior: 50872506!
initializeFor: anAccount 
	
	value := anAccount makeReport: self.! !
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 16:33:01'!
accountReport: anAccount
	
	^ anAccount transactions inject: 0 into: [ :transferNet :aTransaction | aTransaction transferNet: transferNet].! !

!methodRemoval: TransferNet #accountTransferNet: stamp: 'GR 11/14/2020 16:33:01'!
accountTransferNet: anAccount
	
	^ anAccount transactions inject: 0 into: [ :transferNet :aTransaction | aTransaction transferNet: transferNet].!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:33:14'!
FAILURE!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:33:14'!
FAILURE!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:33:14'!
ERROR!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:33:14'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:33:18'!
ERROR!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:34:03' prior: 50872346!
test11PortfolioWithNewAccountTransferNetEqualsCero

	| portfolio account |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	self assert: 0 equals: (TransferNet for: portfolio ) value! !

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:34:09'!
FAILURE!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:34:09'!
FAILURE!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:34:09'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:34:13'!
FAILURE!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:34:48'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:35:08'!
PASSED!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:37:07'!
portfolioReport: aPortfolio

	| report |
	
	report := account accounts collect: [ :anAccount | anAccount makeReport: self ].
	
	report add: 'Balance total = ', account balance asString.
	
	^report! !
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:37:16' prior: 50872669!
portfolioReport: aPortfolio

	| report |
	
	report := aPortfolio accounts collect: [ :anAccount | anAccount makeReport: self ].
	
	report add: 'Balance total = ', aPortfolio balance asString.
	
	^report! !
!Portfolio methodsFor: 'report' stamp: 'GR 11/14/2020 16:42:16' prior: 50872434 overrides: 50871968!
makeReport: aReport

	^ aReport portfolioReport: self
	
	! !

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:42:20'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:42:20'!
ERROR!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:42:20'!
ERROR!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:42:20'!
ERROR!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:42:23'!
ERROR!
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 16:42:58'!
portfolioReport: aPortfolio 
	self shouldBeImplemented.! !
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 16:43:18' prior: 50872743!
portfolioReport: aPortfolio 
	
	self report: aPortfolio! !

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:43:20'!
ERROR!
!TransferNet methodsFor: 'operations -- private' stamp: 'GR 11/14/2020 16:43:43'!
report: aPortfolio 
	self shouldBeImplemented.! !
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 16:44:18' prior: 50872538!
accountReport: aReceptiveAccount
	
	^ self report: aReceptiveAccount! !
!TransferNet methodsFor: 'operations -- private' stamp: 'GR 11/14/2020 16:44:32' prior: 50872757!
report: anAccount

	^ anAccount transactions inject: 0 into: [ :transferNet :aTransaction | aTransaction transferNet: transferNet].! !

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:44:32'!
FAILURE!
!TransferNet methodsFor: 'operations' stamp: 'GR 11/14/2020 16:45:05' prior: 50872748!
portfolioReport: aPortfolio 
	
	^ self report: aPortfolio! !

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:45:17'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:45:21'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:45:49'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:45:49'!
PASSED!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 16:47:59' prior: 50872679!
portfolioReport: aPortfolio

	| report |
	
	report := aPortfolio accounts collect: [ :anAccount | anAccount makeReport: self ].
	
	report add: 'Balance = ', aPortfolio balance asString.
	
	^report! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:48:07' prior: 50872456!
test10PortfolioWithTransactionMadeAccountReportsSummary

	| portfolio account summary accountSummary |
	
	account := ReceptiveAccount new.
	Deposit register: 100 on: account.
	portfolio := Portfolio with: account.
	
	accountSummary := OrderedCollection with: 'Deposito de 100'  with: 'Balance = 100'.
	summary := OrderedCollection with: accountSummary with: 'Balance = 100'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:48:12' prior: 50872048!
test09PortfolioWithNewAccountReportsSummary

	| portfolio account summary |
	
	account := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	
	summary := OrderedCollection with: (OrderedCollection with: 'Balance = 0') with: 'Balance = 0'.
	
	self assert: summary equals: (AccountSummary for: portfolio) summary! !

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:48:41'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:48:41'!
PASSED!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 16:50:25' prior: 50872391!
test13PortfolioGivesSubAccountsTotalTransferNet

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account3 to: account2.
	
	self assert: -50 equals: (TransferNet for: portfolio) value! !

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 16:50:27'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 16:50:27'!
PASSED!
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 17:14:46' prior: 50872488!
accountReport: aReceptiveAccount
	
	"| report |
	
	report := aReceptiveAccount transactions collect: [ :aTransaction | aTransaction giveReport: self ].
	
	report add: 'Balance = ', aReceptiveAccount balance asString.
	
	^report"
	
	^ self report: aReceptiveAccount transactions collecting: [ :aTransaction | aTransaction giveReport: self ].! !
!AccountSummary methodsFor: 'operations -- private' stamp: 'GR 11/14/2020 17:15:06'!
report: anOrderedCollection collecting: aBlock
! !
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 17:15:20' prior: 50873028!
accountReport: aReceptiveAccount
	
	^ self report: aReceptiveAccount transactions collecting: [ :aTransaction | aTransaction giveReport: self ].! !
!AccountSummary methodsFor: 'operations -- private' stamp: 'GR 11/14/2020 17:16:34'!
report: anAccount with: anOrderedCollection collecting: aBlock


	| report |
	
	report := anOrderedCollection collect: aBlock.
	
	report add: 'Balance = ', anAccount balance asString.
	
	^report! !
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 17:17:06' prior: 50872879!
portfolioReport: aPortfolio

	^ self report: aPortfolio with: aPortfolio accounts collecting: [ :anAccount | anAccount makeReport: self ]! !
!AccountSummary methodsFor: 'operations' stamp: 'GR 11/14/2020 17:17:17' prior: 50873047!
accountReport: aReceptiveAccount
	
	^ self report: aReceptiveAccount with: aReceptiveAccount transactions collecting: [ :aTransaction | aTransaction giveReport: self ].! !
!AccountSummary methodsFor: 'operations -- private' stamp: 'GR 11/14/2020 17:17:29' prior: 50873055!
report: anAccount with: anOrderedCollection collecting: aBlock

	| report |
	
	report := anOrderedCollection collect: aBlock.
	
	report add: 'Balance = ', anAccount balance asString.
	
	^report! !

!methodRemoval: AccountSummary #report:collecting: stamp: 'GR 11/14/2020 17:17:32'!
report: anOrderedCollection collecting: aBlock
!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 17:17:36'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 17:17:36'!
PASSED!
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 17:33:06'!
test14

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account3 to: account2.
	
	self assert: -50 equals: (TransferNet for: portfolio) value! !
!ReportsTest methodsFor: 'tests' stamp: 'GR 11/14/2020 17:33:29' prior: 50872965!
test13PortfolioGivesSubAccountsTotalTransferNet

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account with: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account3 to: account2.
	
	self assert: -50 equals: (TransferNet for: portfolio) value! !

!methodRemoval: ReportsTest #test14 stamp: 'GR 11/14/2020 17:40:51'!
test14

	| portfolio account account2 account3 |
	
	account := ReceptiveAccount new.
	account2 := ReceptiveAccount new.
	account3 := ReceptiveAccount new.
	portfolio := Portfolio with: account.
	portfolio add: account2.
	Transfer transfer: 100 from: account to: account3.
	Transfer transfer: 50 from: account3 to: account2.
	
	self assert: -50 equals: (TransferNet for: portfolio) value!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 17:40:53'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test01BalanceOfPortfolioWithoutAccountsIsZero stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test02BalanceOfPortfolioWithOneAccountIsAccountBalance stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test03BalanceOfPortfolioIsCalculatedRecursivelyOnPortfolios stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test04PortfolioWithoutAccountsHasNoRegisteredTransaction stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test05PortfolioHasRegisteredItsAccountsTransactions stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test06PortfolioLooksForRegisteredTransactionsRecursively stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test07PortfolioHasNoTransactionWhenHasNoAccounts stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test08PortfolioTransactionsIncludesAllItsAccountsTransactions stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test09PortfolioTransactionsAreCalculatedRecursively stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test10PortfolioCanNotIncludeTheSameAccountMoreThanOnce stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test11PortfolioCanNotIncludeAccountOfItsPortfolios stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test12PortfolioCanNotIncludeItself stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test13ComposedPortfolioCanNotHaveParentPortfolioAccount stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test14ComposedPortfolioCanNotHaveAccountOfAnyRootParentRecursively stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #PortfolioTest #test15PortfolioCanNotIncludeAnyOfTheComposedAccountOfPortfolioToAdd stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test01ReceptiveAccountHaveZeroAsBalanceWhenCreated stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test02DepositIncreasesBalanceOnTransactionValue stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test03WithdrawDecreasesBalanceOnTransactionValue stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test04WithdrawValueMustBePositive stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test05ReceptiveAccountKnowsRegisteredTransactions stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test06ReceptiveAccountDoNotKnowNotRegisteredTransactions stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test07AccountKnowsItsTransactions stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test08TranferRegistersInBothAccounts stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test09TransfersModifiesBalance stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test10CanNotTransferToSameAccount stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test11CanNotTransferANegativeAmount stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReceptiveAccountTest #test12CanNotTransferNoMoney stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test01ReportWith0Balance stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test02ReportWithADeposit stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test03ReportWithAWithdraw stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test04ReportWithATransfer stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test05TransferNetOfNewAccountIsCero stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test06ATransferModifiesTransferNet stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test07DepositDoesNotModifyTransferNet stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test08WithdrawDoesNotModifyTransferNet stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test09PortfolioWithNewAccountReportsSummary stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test10PortfolioWithTransactionMadeAccountReportsSummary stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test11PortfolioWithNewAccountTransferNetEqualsCero stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test12PortfolioWithAccountTransferGivesItsTransferNet stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

!testRun: #ReportsTest #test13PortfolioGivesSubAccountsTotalTransferNet stamp: 'GR 11/14/2020 17:40:55'!
PASSED!

----QUIT----(14 November 2020 17:41:17) CuisUniversity-4384.image priorSource: 17239334!

----STARTUP---- (16 November 2020 17:46:22) as /home/grosinov/linux64/CuisUniversity-4384.image!


TestCase subclass: #CarritoTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CarritoTest category: 'TusLibros' stamp: 'GR 11/16/2020 17:46:54'!
TestCase subclass: #CarritoTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CarritoTest methodsFor: 'no messages' stamp: 'GR 11/16/2020 17:47:27'!
test01CanCreateCartWithValidUserAndPassword! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 17:47:49'!
test02CanNotCreateCartWithInvalidUsername! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 17:48:02'!
test02CanNotCreateCartWithValidUserButInvalidPassword! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 17:48:11'!
test03CanNotCreateCartWithValidUserButInvalidPassword! !

!methodRemoval: CarritoTest #test02CanNotCreateCartWithValidUserButInvalidPassword stamp: 'GR 11/16/2020 17:48:11'!
test02CanNotCreateCartWithValidUserButInvalidPassword!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 18:53:39'!
test01CanCreateNewCartWithNoProducts! !

!methodRemoval: CarritoTest #test01CanCreateCartWithValidUserAndPassword stamp: 'GR 11/16/2020 18:53:39'!
test01CanCreateCartWithValidUserAndPassword!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 18:54:51'!
test02CanAddAProductToCart! !

!methodRemoval: CarritoTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/16/2020 18:54:51'!
test02CanNotCreateCartWithInvalidUsername!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 18:56:04'!
test03CanAnMultipleProductsToCart! !

!methodRemoval: CarritoTest #test03CanNotCreateCartWithValidUserButInvalidPassword stamp: 'GR 11/16/2020 18:56:04'!
test03CanNotCreateCartWithValidUserButInvalidPassword!

!classDefinition: #Carrito category: 'TusLibros' stamp: 'GR 11/16/2020 18:58:14'!
Object subclass: #Carrito
	instanceVariableNames: 'products'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 18:58:02' prior: 50873419!
test01CanCreateNewCartWithNoProducts

	| carrito |
	
	carrito := Carrito new.
	
	self assert: 0 equals: carrito productAmount.! !

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 18:58:17'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/16/2020 18:58:59'!
productAmount
	self shouldBeImplemented.! !
!Carrito methodsFor: 'accessing' stamp: 'GR 11/16/2020 18:59:37' prior: 50873464!
productAmount

	^ products size.! !

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 18:59:47'!
ERROR!
!Carrito methodsFor: 'nil' stamp: 'GR 11/16/2020 19:02:08' overrides: 16896425!
initialize

	products := OrderedCollection new.! !

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:02:23'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:02:23'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:02:23'!
PASSED!

!testRun: #CarritoTest #test03CanAnMultipleProductsToCart stamp: 'GR 11/16/2020 19:02:23'!
PASSED!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:07:49' prior: 50873428!
test02CanAddAProductToCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0'.
	
	self assert: 1 equals: carrito productAmount.
	self assert: '978-3-16-1418410-0' equals: (carrito products at: 1)! !

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:07:54'!
ERROR!
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:08:03'!
addToCart: aString 
	self shouldBeImplemented.! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:08:20' prior: 50873506!
addToCart: anISBN

	products add: anISBN.
	! !

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:08:25'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/16/2020 19:08:29'!
products
	self shouldBeImplemented.
	^products! !
!Carrito methodsFor: 'accessing' stamp: 'GR 11/16/2020 19:08:32' prior: 50873518!
products
	
	^products! !

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:08:33'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:08:33'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:08:33'!
PASSED!

!testRun: #CarritoTest #test03CanAnMultipleProductsToCart stamp: 'GR 11/16/2020 19:08:33'!
PASSED!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:11:01' prior: 50873437!
test03CanAnMultipleProductsToCart

	! !
!Carrito methodsFor: 'initialization' stamp: 'GR 11/16/2020 19:11:09' prior: 50873475 overrides: 16896425!
initialize

	products := Dictionary new.! !

----End fileIn of /home/grosinov/linux64/Packages/TerseGuide.pck.st----!
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:14:38' prior: 50873511!
addToCart: anISBN

	products add: anISBN->1.
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:15:47' prior: 50873493!
test02CanAddAProductToCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0'.
	
	self assert: 1 equals: carrito productAmount.
	self assert: '978-3-16-1418410-0' equals: (carrito products keyAtValue: 1)! !

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:15:49'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:15:49'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:15:49'!
PASSED!

!testRun: #CarritoTest #test03CanAnMultipleProductsToCart stamp: 'GR 11/16/2020 19:15:49'!
PASSED!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:17:08' prior: 50873539!
test03CanAnMultipleProductsToCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0'.
	
	self assert: 1 equals: carrito productAmount.
	self assert: '978-3-16-1418410-0' equals: (carrito products keyAtValue: 1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:17:28'!
test03CanAddAProductToCartMultipleTimes

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0'.
	
	self assert: 1 equals: carrito productAmount.
	self assert: '978-3-16-1418410-0' equals: (carrito products keyAtValue: 1)! !

!methodRemoval: CarritoTest #test03CanAnMultipleProductsToCart stamp: 'GR 11/16/2020 19:17:28'!
test03CanAnMultipleProductsToCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0'.
	
	self assert: 1 equals: carrito productAmount.
	self assert: '978-3-16-1418410-0' equals: (carrito products keyAtValue: 1)!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:18:23' prior: 50876523!
test03CanAddAProductToCartMultipleTimes

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0' withAmount: 3.
	
	self assert: 1 equals: carrito productAmount.
	self assert: 3 equals: (carrito products at: '978-3-16-1418410-0')! !

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 19:18:26'!
ERROR!
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:18:45'!
addToCart: aString withAmount: aSmallInteger 
	self shouldBeImplemented.! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:21:22' prior: 50876559!
addToCart: anISBN withAmount: aProductAmount 
	
	products add: anISBN->aProductAmount .! !

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 19:21:24'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:21:24'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:21:24'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 19:21:24'!
PASSED!

!methodRemoval: Carrito #addToCart: stamp: 'GR 11/16/2020 19:21:32'!
addToCart: anISBN

	products add: anISBN->1.
	!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:21:44' prior: 50876489!
test02CanAddAProductToCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0' withAmount: 1.
	
	self assert: 1 equals: carrito productAmount.
	self assert: '978-3-16-1418410-0' equals: (carrito products keyAtValue: 1)! !

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:21:44'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:21:45'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:21:45'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 19:21:45'!
PASSED!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:23:26'!
test04AddAProductThatIsAlreadyInTheCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0' withAmount: 3.
	
	self assert: 1 equals: carrito productAmount.
	self assert: 3 equals: (carrito products at: '978-3-16-1418410-0')! !
!Carrito methodsFor: 'accessing' stamp: 'GR 11/16/2020 19:27:48' prior: 50873468!
productAmount

	^ products inject: 0 into: [:productsTotalAmount :productAmount | productsTotalAmount + productAmount].! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:27:56' prior: 50876545!
test03CanAddAProductToCartMultipleTimes

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0' withAmount: 3.
	
	self assert: 3 equals: carrito productAmount.
	self assert: 3 equals: (carrito products at: '978-3-16-1418410-0')! !

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 19:27:57'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:27:57'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:27:57'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 19:27:57'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 19:27:57'!
FAILURE!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 19:27:57'!
FAILURE!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:28:36' prior: 50876610!
test04AddAProductThatIsAlreadyInTheCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0' withAmount: 3.
	carrito addToCart: '978-3-16-1418410-0' withAmount: 1.
	
	self assert: 4 equals: carrito productAmount.
	self assert: 4 equals: (carrito products at: '978-3-16-1418410-0')! !

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 19:28:38'!
FAILURE!
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:30:47' prior: 50876564!
addToCart: anISBN withAmount: aProductAmount 
	
	(products includesKey: anISBN ) 
		ifTrue: [products at: anISBN put: (products at: anISBN) + aProductAmount.] 
		ifFalse: [products add: anISBN->aProductAmount ].
	
	! !

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 19:30:49'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:30:49'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:30:49'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 19:30:49'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 19:30:49'!
PASSED!
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:33:17'!
addExistingBook: anISBN withAmount: aProductAmount

	^ products at: anISBN put: (products at: anISBN) + aProductAmount! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:33:17' prior: 50876675!
addToCart: anISBN withAmount: aProductAmount 
	
	(products includesKey: anISBN ) 
		ifTrue: [self addExistingBook: anISBN withAmount: aProductAmount.] 
		ifFalse: [products add: anISBN->aProductAmount ].
	
	! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:33:41'!
addNewBook: anISBN withAmount: aProductAmount

	^ products add: anISBN->aProductAmount! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:33:41' prior: 50876707!
addToCart: anISBN withAmount: aProductAmount 
	
	(products includesKey: anISBN ) 
		ifTrue: [self addExistingBook: anISBN withAmount: aProductAmount.] 
		ifFalse: [self addNewBook: anISBN withAmount: aProductAmount ].
	
	! !

----SNAPSHOT----(16 November 2020 19:34:38) CuisUniversity-4384.image priorSource: 17335298!
!Carrito methodsFor: 'initialization' stamp: 'GR 11/16/2020 19:37:53' prior: 50873544 overrides: 16896425!
initialize

	products := Bag new.! !
!Carrito methodsFor: 'accessing' stamp: 'GR 11/16/2020 19:40:31' prior: 50876621!
productAmount
	
	^ products size.
	
	"^ products inject: 0 into: [:productsTotalAmount :productAmount | productsTotalAmount + productAmount]."! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:41:13' prior: 50876722!
addToCart: anISBN withAmount: aProductAmount 
	
	products add: anISBN occurrencesOf: aProductAmount.
	
	"(products includesKey: anISBN ) 
		ifTrue: [self addExistingBook: anISBN withAmount: aProductAmount.] 
		ifFalse: [self addNewBook: anISBN withAmount: aProductAmount ]."
	
	! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:41:49' prior: 50876748!
addToCart: anISBN withAmount: aProductAmount 
	
	products add: anISBN withOccurrences: aProductAmount.
	
	"(products includesKey: anISBN ) 
		ifTrue: [self addExistingBook: anISBN withAmount: aProductAmount.] 
		ifFalse: [self addNewBook: anISBN withAmount: aProductAmount ]."
	
	! !

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:41:55'!
ERROR!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:43:05' prior: 50876587!
test02CanAddAProductToCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0' withAmount: 1.
	
	self assert: 1 equals: carrito productAmount.
	self assert: (carrito products includes: '978-3-16-1418410-0')! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:43:18' prior: 50876628!
test03CanAddAProductToCartMultipleTimes

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0' withAmount: 3.
	
	self assert: 3 equals: carrito productAmount.
	self assert: 3 equals: (carrito products occurrencesOf: '978-3-16-1418410-0')! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:43:27' prior: 50876659!
test04AddAProductThatIsAlreadyInTheCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: '978-3-16-1418410-0' withAmount: 3.
	carrito addToCart: '978-3-16-1418410-0' withAmount: 1.
	
	self assert: 4 equals: carrito productAmount.
	self assert: 4 equals: (carrito products occurrencesOf: '978-3-16-1418410-0')! !

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 19:43:35'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 19:43:35'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 19:43:35'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 19:43:35'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 19:43:35'!
PASSED!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/16/2020 19:43:44' prior: 50876740!
productAmount
	
	^ products size.! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/16/2020 19:43:51' prior: 50876760!
addToCart: anISBN withAmount: aProductAmount 
	
	products add: anISBN withOccurrences: aProductAmount.
	
	! !

!methodRemoval: Carrito #addNewBook:withAmount: stamp: 'GR 11/16/2020 19:43:57'!
addNewBook: anISBN withAmount: aProductAmount

	^ products add: anISBN->aProductAmount!

!methodRemoval: Carrito #addExistingBook:withAmount: stamp: 'GR 11/16/2020 19:44:00'!
addExistingBook: anISBN withAmount: aProductAmount

	^ products at: anISBN put: (products at: anISBN) + aProductAmount!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:54:51' prior: 50876775!
test02CanAddAProductToCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: #libro1 withAmount: 1.
	
	self assert: 1 equals: carrito productAmount.
	self assert: (carrito products includes: #libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:55:05' prior: 50876786!
test03CanAddAProductToCartMultipleTimes

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self assert: 3 equals: carrito productAmount.
	self assert: 3 equals: (carrito products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:55:12' prior: 50876850!
test02CanAddAProductToCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: #Libro1 withAmount: 1.
	
	self assert: 1 equals: carrito productAmount.
	self assert: (carrito products includes: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/16/2020 19:55:27' prior: 50876798!
test04AddAProductThatIsAlreadyInTheCart

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: #Libro1 withAmount: 3.
	carrito addToCart: #Libro1 withAmount: 1.
	
	self assert: 4 equals: carrito productAmount.
	self assert: 4 equals: (carrito products occurrencesOf: #Libro1)! !

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 20:02:13'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/16/2020 20:02:13'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/16/2020 20:02:13'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/16/2020 20:02:13'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/16/2020 20:02:13'!
PASSED!

----SNAPSHOT----(16 November 2020 20:04:09) CuisUniversity-4384.image priorSource: 17442592!

----QUIT----(16 November 2020 21:34:22) CuisUniversity-4384.image priorSource: 17448256!

----STARTUP---- (18 November 2020 14:30:43) as /home/grosinov/linux64/CuisUniversity-4384.image!

!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:32:51'!
test05CanNotAddABookThatIsNotInTheCatalog

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: #Libro1 withAmount: 3.
	carrito addToCart: #Libro1 withAmount: 1.
	
	self assert: 4 equals: carrito productAmount.
	self assert: 4 equals: (carrito products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:33:02' prior: 50876918!
test05CanNotAddABookThatIsNotInTheCatalog

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: #Libro1 withAmount: 3.
	carrito addToCart: #Libro2 withAmount: 1.
	
	self assert: 4 equals: carrito productAmount.
	self assert: 4 equals: (carrito products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:35:42' prior: 50876931!
test05CanNotAddABookThatIsNotInTheCatalog

	| carrito |
	
	carrito := Carrito new.
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self
		should: [ carrito addToCart: #Libro2 withAmount: 1. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Carrito productNotInTheCatalog = anError messageText.
			self assert: 3 equals: carrito productAmount.
			self assert: 0 equals: (carrito products occurrencesOf: #Libro2) ].
	
	
	! !

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 14:35:50'!
FAILURE!

!classDefinition: #Carrito category: 'TusLibros' stamp: 'GR 11/18/2020 14:36:39'!
Object subclass: #Carrito
	instanceVariableNames: 'products catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Carrito methodsFor: 'initialization' stamp: 'GR 11/18/2020 14:36:33' prior: 50876736 overrides: 16896425!
initialize

	products := Bag new.
	catalog := #(#Libro1)! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/18/2020 14:39:02' prior: 50876831!
addToCart: aProduct withAmount: aProductAmount 
	
	(aProduct )
	
	products add: aProduct withOccurrences: aProductAmount.
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:39:36' prior: 50876944!
test05CanNotAddABookThatIsNotInTheCatalog

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self
		should: [ carrito addToCart: #Libro2 withAmount: 1. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Carrito productNotInTheCatalog = anError messageText.
			self assert: 3 equals: carrito productAmount.
			self assert: 0 equals: (carrito products occurrencesOf: #Libro2) ].
	
	
	! !

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 14:39:39'!
ERROR!
!Carrito class methodsFor: 'instance creation' stamp: 'GR 11/18/2020 14:39:49'!
withCatalog: anOrderedCollection 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithCatalog: anOrderedCollection ! !
!Carrito class methodsFor: 'instance creation' stamp: 'GR 11/18/2020 14:39:55' prior: 50877008!
withCatalog: anOrderedCollection 
	
	^self new initializeWithCatalog: anOrderedCollection ! !
!Carrito class methodsFor: 'instance creation' stamp: 'GR 11/18/2020 14:40:01' prior: 50877017!
withCatalog: aCatalog 
	
	^self new initializeWithCatalog: aCatalog ! !

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 14:40:02'!
ERROR!
!Carrito methodsFor: 'initialization' stamp: 'GR 11/18/2020 14:40:20'!
initializeWithCatalog: aCatalog 
	self shouldBeImplemented.
	catalog := aCatalog.! !
!Carrito methodsFor: 'initialization' stamp: 'GR 11/18/2020 14:40:31' prior: 50877031!
initializeWithCatalog: aCatalog 
	
	products := Bag new.
	catalog := aCatalog.! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/18/2020 14:41:24' prior: 50876978!
addToCart: aProduct withAmount: aProductAmount 
	
	(catalog includes: aProduct) ifFalse: [self error: self class ].
	
	products add: aProduct withOccurrences: aProductAmount.
	
	! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/18/2020 14:41:35' prior: 50877043!
addToCart: aProduct withAmount: aProductAmount 
	
	(catalog includes: aProduct) ifFalse: [self error: self class productNotInTheCatalog ].
	
	products add: aProduct withOccurrences: aProductAmount.
	
	! !

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 14:41:37'!
ERROR!
!Carrito class methodsFor: 'error handling' stamp: 'GR 11/18/2020 14:41:45'!
productNotInTheCatalog
	self shouldBeImplemented.! !
!Carrito class methodsFor: 'error handling' stamp: 'GR 11/18/2020 14:41:59' prior: 50877065!
productNotInTheCatalog
	
	^ 'The book is not in the catalog'! !

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 14:42:00'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/18/2020 14:42:00'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/18/2020 14:42:00'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/18/2020 14:42:00'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/18/2020 14:42:00'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 14:42:00'!
PASSED!

!methodRemoval: Carrito #initialize stamp: 'GR 11/18/2020 14:42:08'!
initialize

	products := Bag new.
	catalog := #(#Libro1)!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:42:24' prior: 50876881!
test04AddAProductThatIsAlreadyInTheCart

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	carrito addToCart: #Libro1 withAmount: 1.
	
	self assert: 4 equals: carrito productAmount.
	self assert: 4 equals: (carrito products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:42:28' prior: 50876860!
test03CanAddAProductToCartMultipleTimes

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self assert: 3 equals: carrito productAmount.
	self assert: 3 equals: (carrito products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:42:31' prior: 50876871!
test02CanAddAProductToCart

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 1.
	
	self assert: 1 equals: carrito productAmount.
	self assert: (carrito products includes: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:42:36' prior: 50873454!
test01CanCreateNewCartWithNoProducts

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self assert: 0 equals: carrito productAmount.! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:47:53'!
test06EmptyCartListsNoItems

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self assert: OrderedCollection new equals: carrito listCart
	
	
	! !

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 14:47:58'!
ERROR!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 14:47:58'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 14:48:22'!
listCart
	self shouldBeImplemented.! !
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 14:48:35' prior: 50877159!
listCart
	
	^OrderedCollection new! !

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 14:48:36'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 14:48:38'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/18/2020 14:48:38'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/18/2020 14:48:38'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/18/2020 14:48:38'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/18/2020 14:48:38'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 14:48:38'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 14:48:38'!
PASSED!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:49:08'!
test07CartWithProductsCanListThem

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self assert: OrderedCollection new equals: carrito listCart
	
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 14:50:57' prior: 50877192!
test07CartWithProductsCanListThem

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self assert: (OrderedCollection with: #Libro1 with: 3) equals: carrito listCart
	
	
	! !

!testRun: #CarritoTest #test07CartWithProductsCanListThem stamp: 'GR 11/18/2020 14:50:59'!
FAILURE!

products asOrderedCollection !
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 14:57:24' prior: 50877163!
listCart
	
	^ products 
		inject: OrderedCollection new 
		addingAll: [ :list :aProduct | 
			list add: aProduct.
			list add: (products occurrencesOf: aProduct)
		 ]! !

!testRun: #CarritoTest #test07CartWithProductsCanListThem stamp: 'GR 11/18/2020 14:57:28'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 14:59:08' prior: 50877216!
listCart
	
	^ products 
		inject: OrderedCollection new 
		addingAll: [ :aProduct | 
			| list |
			list := OrderedCollection new.
			list add: aProduct.
			list add: (products occurrencesOf: aProduct)
		 ]! !

!testRun: #CarritoTest #test07CartWithProductsCanListThem stamp: 'GR 11/18/2020 14:59:10'!
ERROR!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 15:02:19'!
test07CartWithOneProductCanListIt

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self assert: (OrderedCollection with: #Libro1 with: 3) equals: carrito listCart
	
	
	! !

!methodRemoval: CarritoTest #test07CartWithProductsCanListThem stamp: 'GR 11/18/2020 15:02:20'!
test07CartWithProductsCanListThem

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self assert: (OrderedCollection with: #Libro1 with: 3) equals: carrito listCart
	
	
	!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:02:23'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:04:05' prior: 50877227!
listCart
	
	| book |
	
	book := products at: 1.
	
	^ OrderedCollection with: book with: (products occurrencesOf: book)! !

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:04:07'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:04:53' prior: 50877265!
listCart
	
	| book |
	
	book := products detect: [ :aBook | true].
	
	^ OrderedCollection with: book with: (products occurrencesOf: book)! !

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:04:54'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/18/2020 15:04:54'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/18/2020 15:04:54'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/18/2020 15:04:54'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/18/2020 15:04:54'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 15:04:54'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:04:54'!
ERROR!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:04:54'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:04:54'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:06:17' prior: 50877275!
listCart
	
	| book |
	
	book := products asOrderedCollection at: 1.
	
	^ OrderedCollection with: book with: (products occurrencesOf: book)! !

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:06:18'!
ERROR!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:06:59'!
PASSED!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:07:12'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/18/2020 15:07:12'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/18/2020 15:07:12'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/18/2020 15:07:12'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/18/2020 15:07:12'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 15:07:12'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:07:12'!
ERROR!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:07:12'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:07:12'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:09:00' prior: 50877311!
listCart
	
	^ products collect: [ :aProduct | OrderedCollection with: aProduct with: (products occurrencesOf: aProduct )]! !

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:09:14'!
FAILURE!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:09:46' prior: 50877353!
listCart
	
	^ products collect: [ :aProduct | OrderedCollection with: aProduct with: (products occurrencesOf: aProduct )] asOrderedCollection ! !

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:09:47'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:10:00' prior: 50877363!
listCart
	
	^ (products collect: [ :aProduct | OrderedCollection with: aProduct with: (products occurrencesOf: aProduct )]) asOrderedCollection ! !

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:10:01'!
PASSED!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:10:03'!
FAILURE!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:10:03'!
FAILURE!

	self assert: (OrderedCollection with: #Libro1 with: 3) equals: carrito listCart!

carrito listCart!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 15:19:33' prior: 50877240!
test07CartWithOneProductCanListIt

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self assert: (OrderedCollection with: #Libro1 with: 3) equals: carrito listCart
	
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 15:21:05' prior: 50877395!
test07CartWithOneProductCanListIt

	| carrito list |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	list := Dictionary with: #Libro1->3.
	
	self assert: (OrderedCollection with: #Libro1 with: 3) equals: carrito listCart
	
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 15:21:14' prior: 50877406!
test07CartWithOneProductCanListIt

	| carrito list |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	list := Dictionary with: #Libro1->3.
	
	self assert: list equals: carrito listCart
	
	
	! !
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:21:30' prior: 50877374!
listCart
	
	^ products asDictionary.! !

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:21:34'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:23:08' prior: 50877430!
listCart
	
	^ products inject: Dictionary new into: [ :list :aProduct | list add: aProduct ->(products occurrencesOf: aProduct )]! !

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:23:08'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:23:52' prior: 50877437!
listCart
	
	^ products inject: Dictionary new into: [ :list :aProduct | list add: aProduct->(products occurrencesOf: aProduct )]! !

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:23:53'!
ERROR!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:24:09'!
ERROR!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:24:41'!
ERROR!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:26:14'!
ERROR!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:27:32'!
ERROR!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:27:32'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:27:52' prior: 50877447!
listCart
	
	^ products inject: Dictionary new into: [ :list :aProduct | list add: (aProduct->products occurrencesOf: aProduct)]! !

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:27:53'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:29:35' prior: 50877473!
listCart
	
	| productsSet |
	
	productsSet := products asSet.
	
	^ productsSet inject: Dictionary new into: [ :list :aProduct | list add: (aProduct->products occurrencesOf: aProduct)]! !

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:29:49'!
ERROR!

contents!

	products yourself!

products yourself!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 15:38:35' prior: 50877483!
listCart
	
	^ products contents
	
	"| productsSet |
	
	productsSet := products asSet.
	
	^ productsSet inject: Dictionary new into: [ :list :aProduct | list add: (aProduct->products occurrencesOf: aProduct)]"! !

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:38:37'!
PASSED!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:38:38'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/18/2020 15:38:38'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/18/2020 15:38:38'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/18/2020 15:38:38'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/18/2020 15:38:38'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 15:38:38'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:38:38'!
FAILURE!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:38:38'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:38:38'!
FAILURE!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/18/2020 15:38:52' prior: 50877145!
test06EmptyCartListsNoItems

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self assert: Dictionary new equals: carrito listCart
	
	
	! !

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:38:53'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/18/2020 15:38:53'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/18/2020 15:38:53'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/18/2020 15:38:53'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/18/2020 15:38:53'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 15:38:53'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:38:53'!
PASSED!

!testRun: #CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:38:53'!
PASSED!
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/18/2020 15:52:57'!
test07CartCanListEveryProductInIt

	| carrito list |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	list := Dictionary with: #Libro1->3.
	
	self assert: list equals: carrito listCart
	
	
	! !

!methodRemoval: CarritoTest #test07CartWithOneProductCanListIt stamp: 'GR 11/18/2020 15:52:57'!
test07CartWithOneProductCanListIt

	| carrito list |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	list := Dictionary with: #Libro1->3.
	
	self assert: list equals: carrito listCart
	
	
	!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/18/2020 15:53:00'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/18/2020 15:53:00'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/18/2020 15:53:00'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/18/2020 15:53:00'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/18/2020 15:53:00'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 15:53:00'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 15:53:00'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/18/2020 15:53:00'!
PASSED!

----SNAPSHOT----(18 November 2020 15:57:27) CuisUniversity-4384.image priorSource: 17448350!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/18/2020 16:07:04' prior: 50877497!
listCart
	
	^ products contents! !

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/18/2020 16:07:08'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/18/2020 16:07:08'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/18/2020 16:07:08'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/18/2020 16:07:08'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/18/2020 16:07:08'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/18/2020 16:07:08'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/18/2020 16:07:08'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/18/2020 16:07:08'!
PASSED!

----QUIT----(18 November 2020 16:07:13) CuisUniversity-4384.image priorSource: 17470998!

----STARTUP---- (19 November 2020 17:08:14) as /home/grosinov/linux64/CuisUniversity-4384.image!

!CarritoTest methodsFor: 'tests' stamp: 'GR 11/19/2020 17:10:20'!
test08CanNotAddNegativeAmountOfProducts

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self 
		should: [ carrito addToCart: #Libro1 withAmount: -2. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError 
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/19/2020 17:10:37'!
test09CanNotAddCeroAmountOfProducts

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self 
		should: [ carrito addToCart: #Libro1 withAmount: 0. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError 
	
	
	! !

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/19/2020 17:10:39'!
ERROR!

Bag new add: 4 withOccurrences: 0!

hola := Bag new.
hola add: 4 withOccurrences: 0!

hola add: 4 withOccurrences: -1!

hola := Bag new.
hola add: 4 withOccurrences: -1.
hola occurrencesOf: 4.!
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/19/2020 17:13:33' prior: 50877670!
test09CanNotAddCeroAmountOfProducts

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self 
		should: [ carrito addToCart: #Libro1 withAmount: 0. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.
	
	
	! !

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/19/2020 17:13:39'!
ERROR!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/19/2020 17:13:39'!
ERROR!
!Carrito class methodsFor: 'error handling' stamp: 'GR 11/19/2020 17:13:58'!
invalidAmountOfProductsError
	self shouldBeImplemented.! !
!Carrito class methodsFor: 'error handling' stamp: 'GR 11/19/2020 17:14:17' prior: 50877710!
invalidAmountOfProductsError
	
	^ 'You are adding an invalid amount of products to the cart'! !

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/19/2020 17:14:18'!
FAILURE!
!Carrito methodsFor: 'operations' stamp: 'GR 11/19/2020 17:15:01' prior: 50877052!
addToCart: aProduct withAmount: aProductAmount 
	
	(aProductAmount <= 0) ifTrue: [ self error: self class invalidAmountOfProductsError ].
	
	(catalog includes: aProduct) ifFalse: [self error: self class productNotInTheCatalog ].
	
	products add: aProduct withOccurrences: aProductAmount.
	
	! !

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/19/2020 17:15:02'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/19/2020 17:15:03'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/19/2020 17:15:03'!
PASSED!
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/19/2020 19:04:29'!
test10CanNotAddNonIntegerAmountOfProducts

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self 
		should: [ carrito addToCart: #Libro1 withAmount: 1.5. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.
	
	
	! !

	1.5+2!
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/19/2020 19:04:39' prior: 50877771!
test10CanNotAddNonIntegerAmountOfProducts

	| carrito |
	
	carrito := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self 
		should: [ carrito addToCart: #Libro1 withAmount: 1.5. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.! !

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/19/2020 19:04:41'!
FAILURE!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/19/2020 19:04:41'!
FAILURE!
!Carrito methodsFor: 'operations' stamp: 'GR 11/19/2020 19:05:11' prior: 50877724!
addToCart: aProduct withAmount: aProductAmount 
	
	(aProductAmount <= 0) ifTrue: [ self error: self class invalidAmountOfProductsError ].
	
	(aProductAmount isInteger ) ifFalse: [ self error: self class invalidAmountOfProductsError ].
	
	(catalog includes: aProduct) ifFalse: [self error: self class productNotInTheCatalog ].
	
	products add: aProduct withOccurrences: aProductAmount.
	
	! !

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/19/2020 19:05:13'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/19/2020 19:05:15'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/19/2020 19:05:15'!
PASSED!
!Carrito methodsFor: 'operations' stamp: 'GR 11/19/2020 19:05:32'!
validateAmount: aProductAmount

	(aProductAmount <= 0) ifTrue: [ self error: self class invalidAmountOfProductsError ].
	
	(aProductAmount isInteger ) ifFalse: [ self error: self class invalidAmountOfProductsError ]! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/19/2020 19:05:32' prior: 50877803!
addToCart: aProduct withAmount: aProductAmount 
	
	self validateAmount: aProductAmount.
	
	(catalog includes: aProduct) ifFalse: [self error: self class productNotInTheCatalog ].
	
	products add: aProduct withOccurrences: aProductAmount.
	
	! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/19/2020 19:05:58'!
validateProduct: aProduct

	^ (catalog includes: aProduct) ifFalse: [self error: self class productNotInTheCatalog ]! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/19/2020 19:05:58' prior: 50877867!
addToCart: aProduct withAmount: aProductAmount 
	
	self validateAmount: aProductAmount.
	
	self validateProduct: aProduct.
	
	products add: aProduct withOccurrences: aProductAmount.
	
	! !

TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'GR 11/19/2020 19:07:29'!
TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'GR 11/19/2020 19:19:02'!
Object subclass: #Cashier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'no messages' stamp: 'GR 11/19/2020 19:18:27'!
test01CantCheckOutAnEmptyCart

	| cashier cart |
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: (OrderedCollection with: #Libro1).
	
	self
		should: [ cashier checkOutCart: cart ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cashier emptyCartError.! !

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:19:12'!
ERROR!
!Cashier class methodsFor: 'error handling' stamp: 'GR 11/19/2020 19:19:20'!
emptyCartError
	self shouldBeImplemented.! !
!Cashier class methodsFor: 'error handling' stamp: 'GR 11/19/2020 19:19:38' prior: 50877925!
emptyCartError
	
	^ 'Can not checkout an empty cart'! !
!Cashier class methodsFor: 'error handling' stamp: 'GR 11/19/2020 19:19:43' prior: 50877930!
emptyCartError
	
	^ 'You can not checkout an empty cart'! !

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:19:44'!
ERROR!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:19:57'!
checkOutCart: aCarrito 
	self shouldBeImplemented.! !
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:20:44' prior: 50877942!
checkOutCart: aCarrito 
	
	(aCarrito isEmpty) ifTrue: [ Cashier emptyCartError ]! !

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:20:46'!
ERROR!
!Carrito methodsFor: 'testing' stamp: 'GR 11/19/2020 19:20:57'!
isEmpty
	self shouldBeImplemented.! !
!Carrito methodsFor: 'testing' stamp: 'GR 11/19/2020 19:21:05' prior: 50877955!
isEmpty
	
	products isEmpty.! !

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:21:06'!
FAILURE!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:22:23' prior: 50877947!
checkOutCart: aCarrito 
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ]! !

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:22:24'!
FAILURE!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:22:32'!
FAILURE!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:22:48'!
FAILURE!
!Carrito methodsFor: 'testing' stamp: 'GR 11/19/2020 19:23:00' prior: 50877959!
isEmpty
	
	^ products isEmpty.! !

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:23:01'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:23:01'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:24:49'!
test02CanCheckOutCartWithOneElement

	| cashier cart |
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: (OrderedCollection with: #Libro1).
	cart addToCart: #Libro1 withAmount: 1.
	
	self
		should: [ cashier checkOutCart: cart ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cashier emptyCartError.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:26:03' prior: 50877991!
test02CanCheckOutCartWithOneElement

	| cashier cart |
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: (OrderedCollection with: #Libro1).
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 10 equals: (cashier checkOutCart: cart)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:30:33' prior: 50878005!
test02CanCheckOutCartWithOneElement

	| cashier cart |
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: (Dictionary with: #Libro1->10).
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 10 equals: (cashier checkOutCart: cart)! !

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 19:30:37'!
ERROR!
!Carrito methodsFor: 'testing' stamp: 'GR 11/19/2020 19:32:16' prior: 50877877!
validateProduct: aProduct

	^ (catalog includesKey: aProduct) ifFalse: [self error: self class productNotInTheCatalog ]! !

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 19:32:26'!
FAILURE!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:34:01' prior: 50877966!
checkOutCart: aCarrito 
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	^10! !

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 19:34:02'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:34:02'!
PASSED!

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 19:34:02'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:34:31'!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart |
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: (Dictionary with: #Libro1->10).
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart)! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:34:34'!
FAILURE!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:34:34'!
FAILURE!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:36:12'!
FAILURE!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:36:12'!
FAILURE!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:41:46' prior: 50878040!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	^ aCarrito listCart keysDo: [ :aProduct | 
		total := total + ((aCarrito catalog at: aProduct)* aCarrito listCart at: aProduct)
		]! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:41:50'!
ERROR!
!Carrito methodsFor: 'accessing' stamp: 'GR 11/19/2020 19:41:54'!
catalog
	self shouldBeImplemented.
	^catalog! !
!Carrito methodsFor: 'accessing' stamp: 'GR 11/19/2020 19:41:59' prior: 50878095!
catalog
	
	^catalog! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:41:59'!
FAILURE!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:42:18' prior: 50878081!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + ((aCarrito catalog at: aProduct)* aCarrito listCart at: aProduct)
		].
	
	^total! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:42:20'!
PASSED!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:42:22'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:42:22'!
PASSED!

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 19:42:22'!
PASSED!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:42:22'!
PASSED!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:43:07' prior: 50878107!
checkOutCart: aCarrito 
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	^aCarrito listCart inject: 0 into: [ :total :aProduct | 
		total + ((aCarrito catalog at: aProduct)* aCarrito listCart at: aProduct)
		].! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:43:10'!
ERROR!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:42:18' prior: 50878135!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + ((aCarrito catalog at: aProduct)* aCarrito listCart at: aProduct)
		].
	
	^total! !
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:41:46' prior: 50878149!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	^ aCarrito listCart keysDo: [ :aProduct | 
		total := total + ((aCarrito catalog at: aProduct)* aCarrito listCart at: aProduct)
		]! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:45:11'!
FAILURE!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:45:35' prior: 50878161!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + ((aCarrito catalog at: aProduct)* aCarrito listCart at: aProduct)
		].
	
	^total.! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:45:37'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 19:45:37'!
PASSED!

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 19:45:37'!
PASSED!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 19:45:37'!
PASSED!
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:46:52'!
valueOf: aProduct in: aCarrito

	^ (aCarrito catalog at: aProduct)* aCarrito listCart at: aProduct! !
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:46:52' prior: 50878176!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:47:27' prior: 50878206!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito catalog)
		].
	
	^total.! !
!Cashier methodsFor: 'private -- operations' stamp: 'GR 11/19/2020 19:47:48' prior: 50878200!
valueOf: aProduct in: aCarrito

	^ (aCarrito catalog at: aProduct)* aCarrito listCart at: aProduct! !
!Cashier methodsFor: 'operations' stamp: 'GR 11/19/2020 19:47:53' prior: 50878217!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:50:53' prior: 50878056!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart catalog |
	
	catalog := Dictionary with: #Libro1->10.
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: (catalog).
	
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:50:59' prior: 50878245!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart catalog |
	
	catalog := Dictionary with: #Libro1->10.
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart)! !

!classDefinition: #Catalogo category: 'TusLibros' stamp: 'GR 11/19/2020 19:58:31'!
Object subclass: #Catalogo
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:58:08' prior: 50878257!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: #Libro1->10.
	
	cashier := Cashier withCatalog: catalog.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:58:54' prior: 50877910!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog |
	
	catalog := Catalogo with: #Libro1->10.
	
	cashier := Cashier withCatalog: catalog.
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier checkOutCart: cart ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cashier emptyCartError.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 19:59:17' prior: 50878016!
test02CanCheckOutCartWithOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: #Libro1->10.
	
	cashier := Cashier withCatalog: catalog.
	
	cart := Carrito withCatalog: catalog.
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 10 equals: (cashier checkOutCart: cart)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:01:27' prior: 50878302!
test02CanCheckOutCartWithOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: #Libro1->10.
	
	cashier := Cashier withCatalog: catalog.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 10 equals: (cashier checkOutCart: cart)! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:01:34'!
ERROR!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:01:34'!
ERROR!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:01:46'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:02:57' prior: 50878276!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cashier withCatalog: catalog.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart)! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:03:04'!
ERROR!
!Catalogo class methodsFor: 'instance creation' stamp: 'GR 11/19/2020 20:03:14'!
with: aDictionary 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aDictionary ! !
!Catalogo class methodsFor: 'instance creation' stamp: 'GR 11/19/2020 20:03:20' prior: 50878354!
with: aDictionary 
	
	^self new initializeWith: aDictionary ! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:03:23'!
ERROR!

!classDefinition: #Catalogo category: 'TusLibros' stamp: 'GR 11/19/2020 20:03:32'!
Object subclass: #Catalogo
	instanceVariableNames: 'items dictionary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Catalogo methodsFor: 'initialization' stamp: 'GR 11/19/2020 20:03:32'!
initializeWith: aDictionary 
	self shouldBeImplemented.
	dictionary := aDictionary.! !
!Catalogo methodsFor: 'initialization' stamp: 'GR 11/19/2020 20:03:34' prior: 50878377!
initializeWith: aDictionary 
	
	dictionary := aDictionary.! !
!Catalogo methodsFor: 'initialization' stamp: 'GR 11/19/2020 20:04:05' prior: 50878383!
initializeWith: aDictionary 
	
	dictionary := aDictionary.! !
!Catalogo class methodsFor: 'instance creation' stamp: 'GR 11/19/2020 20:05:38' prior: 50878362!
with: aDictionary 
	
	aDictionary do: [ :aValue | (aValue <= 0) ifTrue: [ self error: self invalidProductPrice ] ].
	
	^self new initializeWith: aDictionary ! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:05:41'!
ERROR!
!Cashier class methodsFor: 'instance creation' stamp: 'GR 11/19/2020 20:05:49'!
withCatalog: aCatalogo 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithCatalog: aCatalogo ! !
!Cashier class methodsFor: 'instance creation' stamp: 'GR 11/19/2020 20:05:54' prior: 50878404!
withCatalog: aCatalogo 
	
	^self new initializeWithCatalog: aCatalogo ! !
!Cashier class methodsFor: 'instance creation' stamp: 'GR 11/19/2020 20:06:02' prior: 50878413!
withCatalog: aCatalog
	
	^self new initializeWithCatalog: aCatalog! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:06:03'!
ERROR!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'GR 11/19/2020 20:06:12'!
Object subclass: #Cashier
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'GR 11/19/2020 20:06:12'!
initializeWithCatalog: aCatalog 
	self shouldBeImplemented.
	catalog := aCatalog.! !
!Cashier methodsFor: 'initialization' stamp: 'GR 11/19/2020 20:06:15' prior: 50878434!
initializeWithCatalog: aCatalog 
	
	catalog := aCatalog.! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:06:24'!
ERROR!
!Carrito methodsFor: 'testing' stamp: 'GR 11/19/2020 20:07:15' prior: 50878030!
validateProduct: aProduct

	^ (catalog includes: aProduct) ifFalse: [self error: self class productNotInTheCatalog ]! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:07:17'!
ERROR!
!Catalogo methodsFor: 'accessing' stamp: 'GR 11/19/2020 20:07:32'!
includes: aSymbol 
	self shouldBeImplemented.! !
!Catalogo methodsFor: 'accessing' stamp: 'GR 11/19/2020 20:08:00' prior: 50878458!
includes: aProduct

	^ items includesKey: aProduct 
	! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:08:01'!
ERROR!
!Catalogo methodsFor: 'initialization' stamp: 'GR 11/19/2020 20:08:28' prior: 50878388!
initializeWith: aDictionary 
	
	items := aDictionary.! !

Object subclass: #Catalogo
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Catalogo category: 'TusLibros' stamp: 'GR 11/19/2020 20:08:33'!
Object subclass: #Catalogo
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:09:56'!
ERROR!
!Cashier methodsFor: 'private -- operations' stamp: 'GR 11/19/2020 20:10:06' prior: 50878228!
valueOf: aProduct in: aCarrito

	^ (catalog at: aProduct)* aCarrito listCart at: aProduct! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:10:07'!
ERROR!
!Cashier methodsFor: 'private -- operations' stamp: 'GR 11/19/2020 20:10:27' prior: 50878490!
valueOf: aProduct in: aCarrito

	^ (catalog priceOf: aProduct)* aCarrito listCart at: aProduct! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:10:30'!
ERROR!
!Catalogo methodsFor: 'accessing' stamp: 'GR 11/19/2020 20:10:38'!
priceOf: aSymbol 
	self shouldBeImplemented.! !
!Catalogo methodsFor: 'accessing' stamp: 'GR 11/19/2020 20:10:55' prior: 50878509!
priceOf: aProduct

	^ items at: aProduct.
	! !

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:10:56'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 20:10:56'!
ERROR!

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 20:10:56'!
ERROR!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:10:56'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 20:10:59'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:11:28' prior: 50878315!
test02CanCheckOutCartWithOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cashier withCatalog: catalog.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 10 equals: (cashier checkOutCart: cart)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:11:32' prior: 50878289!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cashier withCatalog: catalog.
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier checkOutCart: cart ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cashier emptyCartError.! !

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 20:11:33'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 20:11:34'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 20:11:34'!
PASSED!

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 20:11:34'!
PASSED!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:11:34'!
PASSED!

TestCase subclass: #CatalogoTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CatalogoTest category: 'TusLibros' stamp: 'GR 11/19/2020 20:19:11'!
TestCase subclass: #CatalogoTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CatalogoTest methodsFor: 'no messages' stamp: 'GR 11/19/2020 20:21:34'!
test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct

	
	self 
		should: [ Catalogo with: (Dictionary with: #Libro1->-1) ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Catalog 
	! !
!CatalogoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:22:01' prior: 50878588!
test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct

	
	self 
		should: [ Catalogo with: (Dictionary with: #Libro1->-1) ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Catalog invalidProductPrice
	! !
!CatalogoTest methodsFor: 'tests' stamp: 'GR 11/19/2020 20:22:25' prior: 50878598!
test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct

	self 
		should: [ Catalogo with: (Dictionary with: #Libro1->-1) ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Catalog invalidProductPrice
	! !

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/19/2020 20:22:27'!
ERROR!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/19/2020 20:22:27'!
ERROR!
!Catalog class methodsFor: 'error handling' stamp: 'GR 11/19/2020 20:22:38'!
invalidProductPrice
	self shouldBeImplemented.! !
!Catalog class methodsFor: 'error handling' stamp: 'GR 11/19/2020 20:22:56' prior: 50878625!
invalidProductPrice
	
	^ 'You are adding products with invalid price'! !
!Catalog class methodsFor: 'error handling' stamp: 'GR 11/19/2020 20:22:58' prior: 50878630!
invalidProductPrice
	
	^ 'You are adding products with invalid prices'! !

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/19/2020 20:22:59'!
ERROR!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/19/2020 20:23:38'!
ERROR!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/19/2020 20:24:33'!
ERROR!
!Catalogo class methodsFor: 'error handling' stamp: 'GR 11/19/2020 20:24:41'!
invalidProductPrice
	self shouldBeImplemented.! !
!Catalogo class methodsFor: 'error handling' stamp: 'GR 11/19/2020 20:24:43' prior: 50878653!
invalidProductPrice
	
	^ 'You are adding products with invalid price'! !

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/19/2020 20:24:45'!
FAILURE!
!CatalogoTest methodsFor: 'tests' stamp: 'GR 11/19/2020 20:25:03' prior: 50878608!
test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct

	self 
		should: [ Catalogo with: (Dictionary with: #Libro1->-1) ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Catalogo invalidProductPrice
	! !

!methodRemoval: Catalog class #invalidProductPrice stamp: 'GR 11/19/2020 20:25:19'!
invalidProductPrice
	
	^ 'You are adding products with invalid prices'!
!Catalogo class methodsFor: 'error handling' stamp: 'GR 11/19/2020 20:25:49' prior: 50878658!
invalidProductPrice
	
	^ 'You are adding products with invalid prices'! !

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/19/2020 20:25:53'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/19/2020 20:25:53'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:36:27' prior: 50878338!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:36:32' prior: 50878535!
test02CanCheckOutCartWithOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 10 equals: (cashier checkOutCart: cart)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:36:36' prior: 50878548!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cashier new.
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier checkOutCart: cart ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cashier emptyCartError.! !

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 20:36:44'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 20:36:44'!
PASSED!

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 20:36:44'!
ERROR!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:36:44'!
ERROR!

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 20:37:02'!
ERROR!
!Cashier methodsFor: 'private -- operations' stamp: 'GR 11/19/2020 20:37:12' prior: 50878500!
valueOf: aProduct in: aCarrito

	^ (aCarrito catalog priceOf: aProduct)* aCarrito listCart at: aProduct! !

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 20:37:14'!
PASSED!

!testRun: #CashierTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/19/2020 20:37:14'!
PASSED!

!testRun: #CashierTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/19/2020 20:37:14'!
PASSED!

!testRun: #CashierTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/19/2020 20:37:14'!
PASSED!

!methodRemoval: Cashier #initializeWithCatalog: stamp: 'GR 11/19/2020 20:37:43'!
initializeWithCatalog: aCatalog 
	
	catalog := aCatalog.!

!methodRemoval: Cashier class #withCatalog: stamp: 'GR 11/19/2020 20:37:49'!
withCatalog: aCatalog
	
	^self new initializeWithCatalog: aCatalog!

!classRenamed: #Cashier as: #Cajero stamp: 'GR 11/19/2020 20:39:42'!
Smalltalk renameClassNamed: #Cashier as: #Cajero!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:39:42' prior: 50878721!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier checkOutCart: cart ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:39:42' prior: 50878708!
test02CanCheckOutCartWithOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 10 equals: (cashier checkOutCart: cart)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'GR 11/19/2020 20:39:42' prior: 50878695!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart)! !

!classRenamed: #CashierTest as: #CajeroTest stamp: 'GR 11/19/2020 20:39:57'!
Smalltalk renameClassNamed: #CashierTest as: #CajeroTest!

----QUIT----(19 November 2020 20:50:51) CuisUniversity-4384.image priorSource: 17472044!

----STARTUP---- (22 November 2020 16:14:13) as /home/grosinov/linux64/CuisUniversity-4384.image!


!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 16:46:26'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 16:46:26'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 16:46:26'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 16:46:26'!
PASSED!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 16:48:32'!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/22/2020 16:48:32' prior: 50878808!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: aCreditCard)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/22/2020 16:48:32' prior: 50878795!
test02CanCheckOutCartWithOneElement

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 10 equals: (cashier checkOutCart: cart withCreditCard: aCreditCard)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/22/2020 16:48:32' prior: 50878782!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: aCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !

!methodRemoval: Cajero #checkOutCart: stamp: 'GR 11/22/2020 16:48:32'!
checkOutCart: aCarrito 
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.!

!classDefinition: #TarjetaDeCredito category: 'TusLibros' stamp: 'GR 11/22/2020 16:51:20'!
Object subclass: #TarjetaDeCredito
	instanceVariableNames: 'number expiration owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 16:51:05' prior: 50878882!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: (07@2025) withOwner: 'Matias Morales'.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 16:51:24'!
ERROR!
!TarjetaDeCredito class methodsFor: 'instance creation' stamp: 'GR 11/22/2020 16:51:30'!
number: aSmallInteger withExpiration: aPoint withOwner: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeNumber: aSmallInteger withExpiration: aPoint withOwner: aString ! !
!TarjetaDeCredito class methodsFor: 'instance creation' stamp: 'GR 11/22/2020 16:51:35' prior: 50878934!
number: aSmallInteger withExpiration: aPoint withOwner: aString 
	
	^self new initializeNumber: aSmallInteger withExpiration: aPoint withOwner: aString ! !

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 16:51:39'!
ERROR!

!classDefinition: #TarjetaDeCredito category: 'TusLibros' stamp: 'GR 11/22/2020 16:51:48'!
Object subclass: #TarjetaDeCredito
	instanceVariableNames: 'number expiration owner smallInteger'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TarjetaDeCredito category: 'TusLibros' stamp: 'GR 11/22/2020 16:51:48'!
Object subclass: #TarjetaDeCredito
	instanceVariableNames: 'number expiration owner smallInteger point'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TarjetaDeCredito category: 'TusLibros' stamp: 'GR 11/22/2020 16:51:48'!
Object subclass: #TarjetaDeCredito
	instanceVariableNames: 'number expiration owner smallInteger point string'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TarjetaDeCredito methodsFor: 'initialization' stamp: 'GR 11/22/2020 16:51:48'!
initializeNumber: aSmallInteger withExpiration: aPoint withOwner: aString 
	self shouldBeImplemented.
	smallInteger := aSmallInteger.
	point := aPoint.
	string := aString.! !
!TarjetaDeCredito methodsFor: 'initialization' stamp: 'GR 11/22/2020 16:53:06' prior: 50878982!
initializeNumber: aCreditCardNumber withExpiration: anExpirationDate withOwner: aName 
	
	number := aCreditCardNumber.
	expiration := anExpirationDate.
	owner := aName.! !

Object subclass: #TarjetaDeCredito
	instanceVariableNames: 'number expiration owner '
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TarjetaDeCredito category: 'TusLibros' stamp: 'GR 11/22/2020 16:53:12'!
Object subclass: #TarjetaDeCredito
	instanceVariableNames: 'number expiration owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 16:53:15'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 16:53:15'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 16:53:15'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 16:53:15'!
PASSED!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 16:53:37' prior: 50878913!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !

August, 2021!

August, 2021 asPoint !

(August, 2021) monthNumber !

(August, 2021) asString !

(August, 2021) month !

(August, 2021) monthNumber !

(August, 2021) year !

(August, 2021) year printString!

00!

00 + 8!

(00) + 8!

(August, 2021) monthNumber !

(August, 2021) class !

(August, 25, 2021) !

(25/2021) !

(08/2021)!

(08/12/2021)!

5/12/2012!

5\12\2012!

August/12/2012!

August/2012!

August, 2012!

Date today!

FixedGregorianDate today!

August, 2012 > FixedGregorianDate today!

August, 2012 > GregorianMonthOfYear today!

August, 2012 > Date today month !

August, 2012 > FixedGregorianDate today monthOfYear !

August, 2021 > FixedGregorianDate today monthOfYear !

'0', 8 asString !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:05:47' prior: 50878869!
test02CanCheckOutCartWithOneElement

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self assert: 10 equals: (cashier checkOutCart: cart withCreditCard: creditCard)! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:06:12' prior: 50878855!
test03CanCheckOutCartWithMoreThanOneElement

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: creditCard)! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:07:02'!
test04CanNotCheckOutWithInvalidCardNumber

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: creditCard)! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:07:24' prior: 50879099!
test04CanNotCheckOutWithInvalidCardNumber

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: creditCard)! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:08:31' prior: 50879116!
test04CanNotCheckOutWithInvalidCardNumber

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:08:35'!
ERROR!
!Cajero class methodsFor: 'error handling' stamp: 'GR 11/22/2020 17:08:44'!
invalidCreditCard
	self shouldBeImplemented.! !
!Cajero class methodsFor: 'error handling' stamp: 'GR 11/22/2020 17:09:49' prior: 50879156!
invalidCreditCard
	
	^ 'Your credit card is invalid'! !

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:10:02'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:13:00' prior: 50878843!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	((aCreditCard number numberOfDigitsInBase: 10) = 16) ifFalse: [self error: self class invalidCreditCard ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:13:00'!
ERROR!
!TarjetaDeCredito methodsFor: 'accessing' stamp: 'GR 11/22/2020 17:13:08'!
number
	self shouldBeImplemented.
	^number! !
!TarjetaDeCredito methodsFor: 'accessing' stamp: 'GR 11/22/2020 17:13:10' prior: 50879187!
number
	
	^number! !

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:13:11'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 17:13:11'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 17:13:11'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 17:13:11'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:13:11'!
PASSED!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:13:34'!
test05CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:13:46' prior: 50879211!
test05CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:13:47'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:15:01' prior: 50879169!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	((aCreditCard number numberOfDigitsInBase: 10) = 16) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate > FixedGregorianDate today monthOfYear ) ifTrue: [ self error: self class invalidCreditCard ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:15:02'!
ERROR!
!TarjetaDeCredito methodsFor: 'accessing' stamp: 'GR 11/22/2020 17:15:05'!
expirationDate
	self shouldBeImplemented.! !
!TarjetaDeCredito methodsFor: 'accessing' stamp: 'GR 11/22/2020 17:15:10' prior: 50879275!
expirationDate
	
	^ expiration ! !

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:15:13'!
FAILURE!

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:15:42'!
FAILURE!

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:15:42'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:16:05' prior: 50879253!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	((aCreditCard number numberOfDigitsInBase: 10) = 16) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate < FixedGregorianDate today monthOfYear ) ifTrue: [ self error: self class invalidCreditCard ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:16:06'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:16:07'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 17:16:07'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 17:16:07'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 17:16:07'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:16:07'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:16:07'!
PASSED!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:17:16'!
test06CanNotCheckOutACreditCardWithNoOwner
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:17:18'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 17:17:18'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 17:17:18'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 17:17:18'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:17:18'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:17:18'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:17:18'!
PASSED!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:17:22' prior: 50879335!
test06CanNotCheckOutACreditCardWithNoOwner
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: ''.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:17:23'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 17:17:23'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 17:17:23'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 17:17:23'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:17:23'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:17:23'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:17:23'!
PASSED!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:17:31' prior: 50879378!
test06CanNotCheckOutACreditCardWithNoOwner
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:17:33'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:18:11' prior: 50879294!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	((aCreditCard number numberOfDigitsInBase: 10) = 16) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate < FixedGregorianDate today monthOfYear ) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ].
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:18:12'!
ERROR!
!TarjetaDeCredito methodsFor: 'accessing' stamp: 'GR 11/22/2020 17:18:18'!
owner
	self shouldBeImplemented.
	^owner! !
!TarjetaDeCredito methodsFor: 'accessing' stamp: 'GR 11/22/2020 17:18:19' prior: 50879468!
owner
	
	^owner! !

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:18:20'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 17:18:20'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 17:18:20'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 17:18:20'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:18:20'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:18:20'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:18:20'!
PASSED!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:18:37'!
validateCreditCard: aCreditCard

	((aCreditCard number numberOfDigitsInBase: 10) = 16) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate < FixedGregorianDate today monthOfYear ) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:18:37' prior: 50879443!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| total |
	
	(aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ].
	
	self validateCreditCard: aCreditCard.
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:18:49'!
validateCard: aCarrito

	^ (aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ]! !
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:18:49' prior: 50879513!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| total |
	
	self validateCard: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:19:11'!
validateCart: aCarrito

	^ (aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ]! !
!Cajero methodsFor: 'as yet unclassified' stamp: 'GR 11/22/2020 17:19:11' prior: 50879531!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| total |
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	total := 0.
	
	aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total.! !

!methodRemoval: Cajero #validateCard: stamp: 'GR 11/22/2020 17:19:11'!
validateCard: aCarrito

	^ (aCarrito isEmpty) ifTrue: [ self error: self class emptyCartError ]!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:21:24' prior: 50879548!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	"total := 0."
	
	^aCarrito listCart keys inject: 0 into: [ :total :aProduct | 
		total + (self valueOf: aProduct in: aCarrito) ].
	
	"aCarrito listCart keysDo: [ :aProduct | 
		total := total + (self valueOf: aProduct in: aCarrito)
		].
	
	^total."! !

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:21:28'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 17:21:28'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 17:21:28'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 17:21:28'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:21:28'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:21:28'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:21:28'!
PASSED!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:21:42' prior: 50879565!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	^aCarrito listCart keys inject: 0 into: [ :total :aProduct | 
		total + (self valueOf: aProduct in: aCarrito) ].! !
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:21:53' prior: 50879603!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	^aCarrito listCart keys 
		inject: 0 
		into: [ :total :aProduct | 
		total + (self valueOf: aProduct in: aCarrito) ].! !
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:22:20' prior: 50879614!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	^aCarrito listCart keys 
		inject: 0 
		into: [ :total :aProduct | 
			total + (self valueOf: aProduct in: aCarrito) ].! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:28:22' prior: 50879420!
test06CanNotCheckOutACreditCardWithNoOwner
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:37:03'!
test07CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:38:00'!
test04CanNotCheckOutWithCardNumberThatHasNot16Digits

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test04CanNotCheckOutWithInvalidCardNumber stamp: 'GR 11/22/2020 17:38:00'!
test04CanNotCheckOutWithInvalidCardNumber

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:38:54'!
test07CanNotCheckOutWithNegativeCardNumber
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:39:02'!
test05CanNotCheckOutWithNegativeCardNumber
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test07CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 17:39:02'!
test07CanNotCheckOutWithNegativeCardNumber
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:39:09'!
test06CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test05CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:39:09'!
test05CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:39:21'!
test08CanNotCheckOutACreditCardWithNoOwner
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test06CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 17:39:21'!
test06CanNotCheckOutACreditCardWithNoOwner
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!

082012!

10 withNegativeSign !

10 withDecimalUnitPrefixAndValue: 1!

10 digitAt: 1!

10 digitAt: 0!

13 digitAt: 1 !

13 digitAt: 0 !

13 digitAt: 2 !

13 digitAt: 1!

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 17:45:44'!
FAILURE!

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 17:45:44'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:46:19' prior: 50879499!
validateCreditCard: aCreditCard

	((aCreditCard number numberOfDigitsInBase: 10) = 16 or: aCreditCard number < 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate < FixedGregorianDate today monthOfYear ) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 17:46:30'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:46:53' prior: 50879862!
validateCreditCard: aCreditCard

	((aCreditCard number numberOfDigitsInBase: 10) = 16 or: aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate < FixedGregorianDate today monthOfYear ) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 17:46:54'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 17:47:43' prior: 50879880!
validateCreditCard: aCreditCard

	((aCreditCard number numberOfDigitsInBase: 10) = 16 and: aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate < FixedGregorianDate today monthOfYear ) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 17:47:44'!
PASSED!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 17:51:31'!
test09CheckoutOwnerNameWithMoreThan30CharactersIsTrimed
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test07CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 17:51:31'!
test07CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 18:03:30' prior: 50879772!
test06CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 18:04:18' prior: 50879956!
test06CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

1.5558787 primTestTruncated !

1.5558787 truncated !

1.5558787 floatsAwayFrom: 3 !

1.5558787 floatsAwayFrom: 1.5 !

1.5558787 significand !

1.5558787 ulp !

(1.5558787 *100) truncated /100 !

(1.5558787 *100) truncated /100 asFloat !

(1.5 *100) truncated /100 asFloat  !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 18:23:34'!
test09CheckoutPaymentHasNoMoreThanTwoDecimals
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test09CheckoutOwnerNameWithMoreThan30CharactersIsTrimed stamp: 'GR 11/22/2020 18:23:34'!
test09CheckoutOwnerNameWithMoreThan30CharactersIsTrimed
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 18:24:34' prior: 50880004!
test09CheckoutPaymentHasNoMoreThanTwoDecimals
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10.563).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self assert: 10.56 equals: (cashier checkOutCart: cart withCreditCard: creditCard)
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 18:24:40' prior: 50880045!
test09CheckoutPaymentHasNoMoreThanTwoDecimals
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10.563).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self assert: 10.56 equals: (cashier checkOutCart: cart withCreditCard: creditCard)
	
	
	
	! !

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/22/2020 18:24:43'!
FAILURE!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 18:24:54' prior: 50880063!
test09CheckoutPaymentHasNoMoreThanTwoDecimals
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10.563).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self assert: 10.56 equals: (cashier checkOutCart: cart withCreditCard: creditCard)
	
	
	
	! !

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/22/2020 18:24:55'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 18:27:06' prior: 50879625!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| totalPayment |
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	totalPayment := 
		aCarrito listCart keys 
			inject: 0 
			into: [ :total :aProduct | 
				total + (self valueOf: aProduct in: aCarrito) ].
		
	^ self twoDecimalsTrimed: totalPayment.! !

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/22/2020 18:27:26'!
ERROR!
!Cajero methodsFor: 'private -- operations' stamp: 'GR 11/22/2020 18:27:41'!
twoDecimalsTrimed: aSmallFloat64 
	self shouldBeImplemented.! !
!Cajero methodsFor: 'private -- operations' stamp: 'GR 11/22/2020 18:28:15' prior: 50880122!
twoDecimalsTrimed: aTotalPayment
	
	^ (aTotalPayment *100) truncated /100 asFloat! !

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/22/2020 18:28:17'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 18:28:17'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 18:28:17'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 18:28:17'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithCardNumberThatHasNot16Digits stamp: 'GR 11/22/2020 18:28:17'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 18:28:17'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 18:28:17'!
PASSED!

!testRun: #CajeroTest #test08CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 18:28:17'!
PASSED!

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/22/2020 18:28:17'!
PASSED!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/22/2020 18:34:33'!
test10CanNotBuyForAPriceOfMoreThan15Digits
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->100000).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 100000000000.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero priceOutOfBound
	
	
	
	! !

!testRun: #CajeroTest #test10CanNotBuyForAPriceOfMoreThan15Digits stamp: 'GR 11/22/2020 18:34:36'!
ERROR!
!Cajero class methodsFor: 'error handling' stamp: 'GR 11/22/2020 18:34:43'!
priceOutOfBound
	self shouldBeImplemented.! !
!Cajero class methodsFor: 'error handling' stamp: 'GR 11/22/2020 18:35:36' prior: 50880185!
priceOutOfBound
	
	^ 'You can not buy for that amount!!'! !

!testRun: #CajeroTest #test10CanNotBuyForAPriceOfMoreThan15Digits stamp: 'GR 11/22/2020 18:35:37'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/22/2020 18:37:17' prior: 50880105!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| totalPayment |
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	totalPayment := 
		aCarrito listCart keys 
			inject: 0 
			into: [ :total :aProduct | 
				total + (self valueOf: aProduct in: aCarrito) ].
	
	(totalPayment < 1000000000000000) ifFalse: [ self error: self class priceOutOfBound ].
	
	^ self twoDecimalsTrimed: totalPayment.! !

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithCardNumberThatHasNot16Digits stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test08CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test10CanNotBuyForAPriceOfMoreThan15Digits stamp: 'GR 11/22/2020 18:37:18'!
PASSED!

!testRun: #CajeroTest #test10CanNotBuyForAPriceOfMoreThan15Digits stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithCardNumberThatHasNot16Digits stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test08CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

!testRun: #CajeroTest #test10CanNotBuyForAPriceOfMoreThan15Digits stamp: 'GR 11/22/2020 18:37:21'!
PASSED!

1.5 printString!

----QUIT----(22 November 2020 18:40:59) CuisUniversity-4384.image priorSource: 17509555!

----STARTUP---- (22 November 2020 18:41:32) as /home/grosinov/linux64/CuisUniversity-4384.image!


----QUIT----(22 November 2020 18:43:42) CuisUniversity-4384.image priorSource: 17556081!

----STARTUP---- (24 November 2020 13:44:32) as /home/grosinov/linux64/CuisUniversity-4384.image!

!Cajero methodsFor: 'operations' stamp: 'GR 11/24/2020 13:44:52' prior: 50879898!
validateCreditCard: aCreditCard

	((aCreditCard number numberOfDigitsInBase: 10) = 16 and: aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate < GregorianMonthOfYear current) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !

!testRun: #CajeroTest #test06CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithCardNumberThatHasNot16Digits stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test08CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!testRun: #CajeroTest #test10CanNotBuyForAPriceOfMoreThan15Digits stamp: 'GR 11/24/2020 13:44:54'!
PASSED!

!methodRemoval: CajeroTest #test04CanNotCheckOutWithCardNumberThatHasNot16Digits stamp: 'GR 11/24/2020 14:27:02'!
test04CanNotCheckOutWithCardNumberThatHasNot16Digits

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!Cajero methodsFor: 'operations' stamp: 'GR 11/24/2020 14:27:13' prior: 50880290!
validateCreditCard: aCreditCard

	(aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard expirationDate < GregorianMonthOfYear current) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!testRun: #CajeroTest #test08CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!testRun: #CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!testRun: #CajeroTest #test10CanNotBuyForAPriceOfMoreThan15Digits stamp: 'GR 11/24/2020 14:27:16'!
PASSED!

!methodRemoval: CajeroTest #test09CheckoutPaymentHasNoMoreThanTwoDecimals stamp: 'GR 11/24/2020 14:27:50'!
test09CheckoutPaymentHasNoMoreThanTwoDecimals
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10.563).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self assert: 10.56 equals: (cashier checkOutCart: cart withCreditCard: creditCard)
	
	
	
	!

!methodRemoval: CajeroTest #test10CanNotBuyForAPriceOfMoreThan15Digits stamp: 'GR 11/24/2020 14:27:57'!
test10CanNotBuyForAPriceOfMoreThan15Digits
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->100000).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 100000000000.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero priceOutOfBound
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:34:23'!
test04CanNotCheckOutWithNegativeCardNumber
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test05CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:34:23'!
test05CanNotCheckOutWithNegativeCardNumber
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:34:41'!
test06CanNotCheckOutWithNegativeCardNumber
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test04CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:34:41'!
test04CanNotCheckOutWithNegativeCardNumber
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:34:49'!
test04CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test06CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:34:49'!
test06CanNotCheckOutWithExpiredCreditCard
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:34:54'!
test05CanNotCheckOutACreditCardWithNoOwner
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: CajeroTest #test08CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 14:34:54'!
test08CanNotCheckOutACreditCardWithNoOwner
	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero new.
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!Cajero methodsFor: 'operations' stamp: 'GR 11/24/2020 14:37:02' prior: 50880198!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	^ aCarrito listCart keys 
			inject: 0 
			into: [ :total :aProduct | 
				total + (self valueOf: aProduct in: aCarrito) ].! !
!Cajero methodsFor: 'operations' stamp: 'GR 11/24/2020 14:39:37' prior: 50880597!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	^ aCarrito totalValue
			! !

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:39:40'!
ERROR!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 14:39:40'!
ERROR!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/24/2020 14:39:40'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:39:42'!
ERROR!
!Carrito methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 14:40:16'!
totalValue
	self shouldBeImplemented.! !
!Cajero methodsFor: 'operations' stamp: 'GR 11/24/2020 14:41:02' prior: 50880608!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	^ aCarrito purchaseValue
			! !

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:41:02'!
ERROR!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 14:41:02'!
ERROR!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/24/2020 14:41:02'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:41:04'!
ERROR!
!Carrito methodsFor: 'operations' stamp: 'GR 11/24/2020 14:41:34'!
purchaseValue
	self shouldBeImplemented.! !
!Carrito methodsFor: 'operations' stamp: 'GR 11/24/2020 14:43:01' prior: 50880744!
purchaseValue
	
	products keys 
		inject: 0 
		into: [ :total :aProduct | 
			total + catalog at: aProduct ].! !

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:43:02'!
ERROR!
!Carrito methodsFor: 'operations' stamp: 'GR 11/24/2020 14:43:20' prior: 50880748!
purchaseValue
	
	products 
		inject: 0 
		into: [ :total :aProduct | 
			total + catalog at: aProduct ].! !

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:43:23'!
ERROR!
!Carrito methodsFor: 'operations' stamp: 'GR 11/24/2020 14:43:37' prior: 50880758!
purchaseValue
	
	products 
		inject: 0 
		into: [ :total :aProduct | 
			total + (catalog at: aProduct) ].! !

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:43:38'!
ERROR!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:43:46'!
ERROR!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 14:43:46'!
ERROR!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/24/2020 14:43:46'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:43:47'!
ERROR!
!Carrito methodsFor: 'operations' stamp: 'GR 11/24/2020 14:44:14' prior: 50880768!
purchaseValue
	
	products 
		inject: 0 
		into: [ :total :aProduct | 
			total + (catalog valueOf: aProduct) ].! !

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:45:29'!
ERROR!
!Catalogo methodsFor: 'accessing' stamp: 'GR 11/24/2020 14:45:38'!
valueOf: aSymbol 
	self shouldBeImplemented.! !
!Catalogo methodsFor: 'accessing' stamp: 'GR 11/24/2020 14:45:52' prior: 50880848!
valueOf: aProduct
	
	items at: aProduct! !

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:45:53'!
ERROR!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:47:28'!
ERROR!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:47:35'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 14:47:35'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:47:35'!
ERROR!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 14:47:35'!
ERROR!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:47:35'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 14:47:35'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:47:35'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:47:37'!
ERROR!

items at: aProduct!
!Catalogo methodsFor: 'accessing' stamp: 'GR 11/24/2020 14:47:57' prior: 50880853!
valueOf: aProduct
	
	^ items at: aProduct! !

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:47:58'!
FAILURE!
!Carrito methodsFor: 'operations' stamp: 'GR 11/24/2020 14:48:17' prior: 50880839!
purchaseValue
	
	^ products 
		inject: 0 
		into: [ :total :aProduct | 
			total + (catalog valueOf: aProduct) ].! !

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:48:17'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 14:48:22'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:48:22'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 14:48:22'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:48:22'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:48:22'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 14:48:22'!
PASSED!
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:48:47' prior: 50877137!
test01CanCreateNewCartWithNoProducts

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	self assert: 0 equals: carrito productAmount.! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:05' prior: 50877125!
test02CanAddAProductToCart

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	carrito addToCart: #Libro1 withAmount: 1.
	
	self assert: 1 equals: carrito productAmount.
	self assert: (carrito products includes: #Libro1)! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:10' prior: 50877113!
test03CanAddAProductToCartMultipleTimes

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self assert: 3 equals: carrito productAmount.
	self assert: 3 equals: (carrito products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:14' prior: 50877099!
test04AddAProductThatIsAlreadyInTheCart

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	carrito addToCart: #Libro1 withAmount: 3.
	carrito addToCart: #Libro1 withAmount: 1.
	
	self assert: 4 equals: carrito productAmount.
	self assert: 4 equals: (carrito products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:23' prior: 50876986!
test05CanNotAddABookThatIsNotInTheCatalog

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	self
		should: [ carrito addToCart: #Libro2 withAmount: 1. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Carrito productNotInTheCatalog = anError messageText.
			self assert: 3 equals: carrito productAmount.
			self assert: 0 equals: (carrito products occurrencesOf: #Libro2) ].
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:29' prior: 50877539!
test06EmptyCartListsNoItems

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	self assert: Dictionary new equals: carrito listCart
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:35' prior: 50877572!
test07CartCanListEveryProductInIt

	| carrito list catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	carrito addToCart: #Libro1 withAmount: 3.
	
	list := Dictionary with: #Libro1->3.
	
	self assert: list equals: carrito listCart
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:41' prior: 50877658!
test08CanNotAddNegativeAmountOfProducts

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	self 
		should: [ carrito addToCart: #Libro1 withAmount: -2. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError 
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:46' prior: 50877691!
test09CanNotAddCeroAmountOfProducts

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	self 
		should: [ carrito addToCart: #Libro1 withAmount: 0. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:49:52' prior: 50877784!
test10CanNotAddNonIntegerAmountOfProducts

	| carrito catalog |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	carrito := Carrito withCatalog: catalog.
	
	self 
		should: [ carrito addToCart: #Libro1 withAmount: 1.5. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.! !

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/24/2020 14:50:12'!
PASSED!

Object subclass: #Cajero
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cajero category: 'TusLibros' stamp: 'GR 11/24/2020 14:51:40'!
Object subclass: #Cajero
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcesorSimulator category: 'TusLibros' stamp: 'GR 11/24/2020 14:55:13'!
Object subclass: #MerchantProcesorSimulator
	instanceVariableNames: 'validationCondition'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:54:24' prior: 50879025!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart := Carrito withCatalog: catalog.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !

TestCase subclass: #CajeroTest
	instanceVariableNames: ' cashier cart '
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:56:38' prior: 50881138!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog creditCard |
	
	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart := Carrito withCatalog: catalog.
	
	creditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !

TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart1 catalog1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 14:57:54'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart1 catalog1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'nil' stamp: 'GR 11/24/2020 14:57:59' overrides: 16927572!
setUp! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:58:13' prior: 50881167!
test01CantCheckOutAnEmptyCart

	| cashier cart catalog creditCard |
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 14:58:54'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart1 catalog1 validCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 14:58:51' prior: 50881199 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart1 := Carrito withCatalog: catalog1.
	
	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 14:59:03'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart1 catalog1 validCreditCard expiredCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 14:59:01' prior: 50881221 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart1 := Carrito withCatalog: catalog1.
	
	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 14:59:28' prior: 50880519!
test04CanNotCheckOutWithExpiredCreditCard
	
	| cashier cart creditCard |
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: creditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:00:00'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart1 catalog1 validCreditCard expiredCreditCard negativeNumberCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:00:02' prior: 50881244 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart1 := Carrito withCatalog: catalog1.
	
	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:00:18' prior: 50881279 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart1 := Carrito withCatalog: catalog1.
	
	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:00:41'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart1 catalog1 validCreditCard expiredCreditCard negativeNumberCreditCard noOwnerCreditCard'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:00:40' prior: 50881298 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart1 := Carrito withCatalog: catalog1.
	
	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:00:53' prior: 50881330 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart1 := Carrito withCatalog: catalog1.
	
	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:01:09' prior: 50881202!
test01CantCheckOutAnEmptyCart

	self
		should: [ cashier1 checkOutCart: cart1 withCreditCard: validCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:01:41' prior: 50879065!
test02CanCheckOutCartWithOneElement

	self assert: 10 equals: (cashier1 checkOutCart: cart1 withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:01:57' prior: 50879082!
test03CanCheckOutCartWithMoreThanOneElement

	self assert: 30 equals: (cashier1 checkOutCart: cart1 withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:02:09' prior: 50881258!
test04CanNotCheckOutWithExpiredCreditCard
	
	self 
		should: [ cashier1 checkOutCart: cart1 withCreditCard: expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:02:23' prior: 50880558!
test05CanNotCheckOutACreditCardWithNoOwner
	
	self 
		should: [ cashier1 checkOutCart: cart1 withCreditCard: noOwnerCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:02:33' prior: 50880479!
test06CanNotCheckOutWithNegativeCardNumber
	
	self 
		should: [ cashier1 checkOutCart: cart1 withCreditCard: negativeNumberCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:02:57'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart1 catalog1 validCreditCard expiredCreditCard negativeNumberCreditCard noOwnerCreditCard emptyCart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:02:56' prior: 50881353 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	emptyCart := Carrito withCatalog: catalog1.
	
	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:03:28' prior: 50881442 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	emptyCart := Carrito withCatalog: catalog1.
	
	cart1 := Carrito withCatalog: catalog1.
	
	cart1 addToCart: #Libro1 withAmount: 3.
	
	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:08' prior: 50881468 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).

	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:04:25' prior: 50881377!
test01CantCheckOutAnEmptyCart
	
	cart1 := Carrito withCatalog: catalog1.
	
	self
		should: [ cashier1 checkOutCart: cart1 withCreditCard: validCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:04:29'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart catalog1 validCreditCard expiredCreditCard negativeNumberCreditCard noOwnerCreditCard emptyCart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:29' prior: 50881393!
test03CanCheckOutCartWithMoreThanOneElement

	self assert: 30 equals: (cashier1 checkOutCart: cart withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:29' prior: 50881420!
test06CanNotCheckOutWithNegativeCardNumber
	
	self 
		should: [ cashier1 checkOutCart: cart withCreditCard: negativeNumberCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:29' prior: 50881519!
test01CantCheckOutAnEmptyCart
	
	cart := Carrito withCatalog: catalog1.
	
	self
		should: [ cashier1 checkOutCart: cart withCreditCard: validCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:29' prior: 50881386!
test02CanCheckOutCartWithOneElement

	self assert: 10 equals: (cashier1 checkOutCart: cart withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:29' prior: 50881400!
test04CanNotCheckOutWithExpiredCreditCard
	
	self 
		should: [ cashier1 checkOutCart: cart withCreditCard: expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:29' prior: 50881410!
test05CanNotCheckOutACreditCardWithNoOwner
	
	self 
		should: [ cashier1 checkOutCart: cart withCreditCard: noOwnerCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:04:39'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier1 cashier2 cart catalog validCreditCard expiredCreditCard negativeNumberCreditCard noOwnerCreditCard emptyCart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:39' prior: 50881496 overrides: 16927572!
setUp

	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier1 := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).

	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:04:39' prior: 50881559!
test01CantCheckOutAnEmptyCart
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier1 checkOutCart: cart withCreditCard: validCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:05:09'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier cashier2 cart catalog validCreditCard expiredCreditCard negativeNumberCreditCard noOwnerCreditCard emptyCart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:05:09' prior: 50881632!
test01CantCheckOutAnEmptyCart
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: validCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:05:09' prior: 50881577!
test04CanNotCheckOutWithExpiredCreditCard
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:05:09' prior: 50881570!
test02CanCheckOutCartWithOneElement

	self assert: 10 equals: (cashier checkOutCart: cart withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:05:09' prior: 50881608 overrides: 16927572!
setUp

	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).

	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:05:09' prior: 50881540!
test03CanCheckOutCartWithMoreThanOneElement

	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:05:09' prior: 50881587!
test05CanNotCheckOutACreditCardWithNoOwner
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: noOwnerCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:05:09' prior: 50881548!
test06CanNotCheckOutWithNegativeCardNumber
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: negativeNumberCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:05:41' prior: 50881674!
test02CanCheckOutCartWithOneElement

	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.

	self assert: 10 equals: (cashier checkOutCart: cart withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:05:50' prior: 50881705!
test03CanCheckOutCartWithMoreThanOneElement
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:06:12' prior: 50881743!
test03CanCheckOutCartWithMoreThanOneElement
	
	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: validCreditCard)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:06:19' prior: 50881682 overrides: 16927572!
setUp

	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.

	validCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.! !
!MerchantProcesorSimulator class methodsFor: 'instance creation' stamp: 'GR 11/24/2020 15:07:31'!
with: aBlockClosure 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aBlockClosure ! !
!MerchantProcesorSimulator class methodsFor: 'instance creation' stamp: 'GR 11/24/2020 15:07:49' prior: 50881787!
with: aValidationCondition 
	
	^self new initializeWith: aValidationCondition ! !
!MerchantProcesorSimulator methodsFor: 'initialization' stamp: 'GR 11/24/2020 15:07:58'!
initializeWith: aValidationCondition 
	self shouldBeImplemented.
	validationCondition := aValidationCondition.! !
!MerchantProcesorSimulator methodsFor: 'initialization' stamp: 'GR 11/24/2020 15:08:01' prior: 50881802!
initializeWith: aValidationCondition 
	
	validationCondition := aValidationCondition.! !
!Cajero class methodsFor: 'instance creation' stamp: 'GR 11/24/2020 15:08:13'!
with: aMerchantProcesorSimulator 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aMerchantProcesorSimulator ! !
!Cajero class methodsFor: 'instance creation' stamp: 'GR 11/24/2020 15:08:21' prior: 50881815!
with: aMerchantProcesor
	
	^self new initializeWith: aMerchantProcesor! !

!classDefinition: #Cajero category: 'TusLibros' stamp: 'GR 11/24/2020 15:08:29'!
Object subclass: #Cajero
	instanceVariableNames: 'catalog merchantProcesor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cajero methodsFor: 'initialization' stamp: 'GR 11/24/2020 15:08:29'!
initializeWith: aMerchantProcesor 
	self shouldBeImplemented.
	merchantProcesor := aMerchantProcesor.! !
!Cajero methodsFor: 'initialization' stamp: 'GR 11/24/2020 15:08:32' prior: 50881836!
initializeWith: aMerchantProcesor 
	
	merchantProcesor := aMerchantProcesor.! !

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/24/2020 15:08:33'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/24/2020 15:08:33'!
PASSED!
!CajeroTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:13:03'!
test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | false ]).
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: validCreditCard ]
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:13:16'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier cashier2 cart catalog cashierValidatedCreditCard expiredCreditCard negativeNumberCreditCard noOwnerCreditCard emptyCart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:13:16' prior: 50881761 overrides: 16927572!
setUp

	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.

	cashierValidatedCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	noOwnerCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: ''.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:13:16' prior: 50881653!
test01CantCheckOutAnEmptyCart
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: cashierValidatedCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:13:16' prior: 50881753!
test03CanCheckOutCartWithMoreThanOneElement
	
	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: cashierValidatedCreditCard)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:13:16' prior: 50881906!
test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | false ]).
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: cashierValidatedCreditCard ]
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:13:16' prior: 50881733!
test02CanCheckOutCartWithOneElement

	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.

	self assert: 10 equals: (cashier checkOutCart: cart withCreditCard: cashierValidatedCreditCard)! !

!testRun: #CajeroTest #test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard stamp: 'GR 11/24/2020 15:13:19'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/24/2020 15:18:15' prior: 50880678!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| totalPrice |
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	totalPrice := aCarrito purchaseValue.
	
	merchantProcesor processPurchase: totalPrice withCreditCard: aCreditCard.
	
	^ totalPrice
			! !

!testRun: #CajeroTest #test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard stamp: 'GR 11/24/2020 15:18:22'!
ERROR!
!MerchantProcesorSimulator methodsFor: 'operations' stamp: 'GR 11/24/2020 15:18:34'!
processPurchase: aSmallInteger withCreditCard: aTarjetaDeCredito 
	self shouldBeImplemented.! !
!MerchantProcesorSimulator methodsFor: 'operations' stamp: 'GR 11/24/2020 15:24:06' prior: 50882020!
processPurchase: aTotalPrice withCreditCard: aCreditCard
	
	^ validationCondition value: aCreditCard! !

!testRun: #CajeroTest #test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard stamp: 'GR 11/24/2020 15:24:07'!
FAILURE!
!Cajero methodsFor: 'operations' stamp: 'GR 11/24/2020 15:24:47' prior: 50882004!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| totalPrice |
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	totalPrice := aCarrito purchaseValue.
	
	( merchantProcesor processPurchase: totalPrice withCreditCard: aCreditCard ) ifFalse: [ self error: self class invalidCreditCard ].
	
	^ totalPrice
			! !

!testRun: #CajeroTest #test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard stamp: 'GR 11/24/2020 15:25:06'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 15:25:06'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 15:25:06'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 15:25:06'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 15:25:06'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 15:25:06'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 15:25:06'!
PASSED!

!testRun: #CajeroTest #test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard stamp: 'GR 11/24/2020 15:25:06'!
PASSED!

----SNAPSHOT----(24 November 2020 15:26:58) CuisUniversity-4384.image priorSource: 17556270!
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:27:30' prior: 50880927!
test01CanCreateNewCartWithNoProducts

	| carrito catalog |
	
	self assert: 0 equals: carrito productAmount.! !

TestCase subclass: #CarritoTest
	instanceVariableNames: 'cart1 catalog1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CarritoTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:27:44'!
TestCase subclass: #CarritoTest
	instanceVariableNames: 'cart1 catalog1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CarritoTest methodsFor: 'nil' stamp: 'GR 11/24/2020 15:27:57' overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cart1 := Carrito withCatalog: catalog1.! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:28:04' prior: 50882081!
test01CanCreateNewCartWithNoProducts

	self assert: 0 equals: cart1 productAmount.! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:28:23' prior: 50880937!
test02CanAddAProductToCart

	cart1 addToCart: #Libro1 withAmount: 1.
	
	self assert: 1 equals: cart1 productAmount.
	self assert: (cart1 products includes: #Libro1)! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:28:39' prior: 50880949!
test03CanAddAProductToCartMultipleTimes

	cart1 addToCart: #Libro1 withAmount: 3.
	
	self assert: 3 equals: cart1 productAmount.
	self assert: 3 equals: (cart1 products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:28:50' prior: 50880962!
test04AddAProductThatIsAlreadyInTheCart

	cart1 addToCart: #Libro1 withAmount: 3.
	cart1 addToCart: #Libro1 withAmount: 1.
	
	self assert: 4 equals: cart1 productAmount.
	self assert: 4 equals: (cart1 products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:29:02' prior: 50880977!
test05CanNotAddABookThatIsNotInTheCatalog

	cart1 addToCart: #Libro1 withAmount: 3.
	
	self
		should: [ cart1 addToCart: #Libro2 withAmount: 1. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Carrito productNotInTheCatalog = anError messageText.
			self assert: 3 equals: cart1 productAmount.
			self assert: 0 equals: (cart1 products occurrencesOf: #Libro2) ].
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:29:16' prior: 50880997!
test06EmptyCartListsNoItems

	self assert: Dictionary new equals: cart1 listCart
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:29:33' prior: 50881007!
test07CartCanListEveryProductInIt

	| list |
	
	cart1 addToCart: #Libro1 withAmount: 3.
	
	list := Dictionary with: #Libro1->3.
	
	self assert: list equals: cart1 listCart
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:29:41' prior: 50881020!
test08CanNotAddNegativeAmountOfProducts

	self 
		should: [ cart1 addToCart: #Libro1 withAmount: -2. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError 
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:29:50' prior: 50881034!
test09CanNotAddCeroAmountOfProducts

	self 
		should: [ cart1 addToCart: #Libro1 withAmount: 0. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.
	
	
	! !
!CarritoTest methodsFor: 'tests' stamp: 'GR 11/24/2020 15:29:57' prior: 50881047!
test10CanNotAddNonIntegerAmountOfProducts

	self 
		should: [ cart1 addToCart: #Libro1 withAmount: 1.5. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.! !

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CajeroTest #test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/24/2020 15:29:59'!
PASSED!

!classDefinition: #CarritoTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:30:05'!
TestCase subclass: #CarritoTest
	instanceVariableNames: 'cart catalog1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882106!
test01CanCreateNewCartWithNoProducts

	self assert: 0 equals: cart productAmount.! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882099 overrides: 16927572!
setUp

	catalog1 := Catalogo with: (Dictionary with: #Libro1->10).
	
	cart := Carrito withCatalog: catalog1.! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882155!
test06EmptyCartListsNoItems

	self assert: Dictionary new equals: cart listCart
	
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882120!
test03CanAddAProductToCartMultipleTimes

	cart addToCart: #Libro1 withAmount: 3.
	
	self assert: 3 equals: cart productAmount.
	self assert: 3 equals: (cart products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882180!
test09CanNotAddCeroAmountOfProducts

	self 
		should: [ cart addToCart: #Libro1 withAmount: 0. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.
	
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882129!
test04AddAProductThatIsAlreadyInTheCart

	cart addToCart: #Libro1 withAmount: 3.
	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 4 equals: cart productAmount.
	self assert: 4 equals: (cart products occurrencesOf: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882170!
test08CanNotAddNegativeAmountOfProducts

	self 
		should: [ cart addToCart: #Libro1 withAmount: -2. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError 
	
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882161!
test07CartCanListEveryProductInIt

	| list |
	
	cart addToCart: #Libro1 withAmount: 3.
	
	list := Dictionary with: #Libro1->3.
	
	self assert: list equals: cart listCart
	
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882112!
test02CanAddAProductToCart

	cart addToCart: #Libro1 withAmount: 1.
	
	self assert: 1 equals: cart productAmount.
	self assert: (cart products includes: #Libro1)! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882139!
test05CanNotAddABookThatIsNotInTheCatalog

	cart addToCart: #Libro1 withAmount: 3.
	
	self
		should: [ cart addToCart: #Libro2 withAmount: 1. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Carrito productNotInTheCatalog = anError messageText.
			self assert: 3 equals: cart productAmount.
			self assert: 0 equals: (cart products occurrencesOf: #Libro2) ].
	
	
	! !
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:05' prior: 50882189!
test10CanNotAddNonIntegerAmountOfProducts

	self 
		should: [ cart addToCart: #Libro1 withAmount: 1.5. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Carrito invalidAmountOfProductsError.! !

!classDefinition: #CarritoTest category: 'TusLibros' stamp: 'GR 11/24/2020 15:30:26'!
TestCase subclass: #CarritoTest
	instanceVariableNames: 'cart catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CarritoTest methodsFor: 'as yet unclassified' stamp: 'GR 11/24/2020 15:30:26' prior: 50882276 overrides: 16927572!
setUp

	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cart := Carrito withCatalog: catalog.! !

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CajeroTest #test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/24/2020 15:30:39'!
PASSED!

!methodRemoval: Cajero #valueOf:in: stamp: 'GR 11/24/2020 15:35:21'!
valueOf: aProduct in: aCarrito

	^ (aCarrito catalog priceOf: aProduct)* aCarrito listCart at: aProduct!

!methodRemoval: Cajero #twoDecimalsTrimed: stamp: 'GR 11/24/2020 15:35:26'!
twoDecimalsTrimed: aTotalPayment
	
	^ (aTotalPayment *100) truncated /100 asFloat!

----QUIT----(24 November 2020 15:37:43) CuisUniversity-4384.image priorSource: 17613678!

----STARTUP---- (24 November 2020 15:38:15) as /home/grosinov/linux64/CuisUniversity-4384.image!


----QUIT----(24 November 2020 15:38:24) CuisUniversity-4384.image priorSource: 17625838!

----STARTUP---- (26 November 2020 20:34:05) as /home/grosinov/linux64/CuisUniversity-4384.image!

!Cajero methodsFor: 'operations' stamp: 'GR 11/26/2020 20:36:29'!
checkOutCart: aCarrito withCreditCard: aCreditCard on: aDate   
	
	| totalPrice |
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	totalPrice := aCarrito purchaseValue.
	
	( merchantProcesor processPurchase: totalPrice withCreditCard: aCreditCard ) ifFalse: [ self error: self class invalidCreditCard ].
	
	^ totalPrice
			! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 20:36:29' prior: 50881957!
test01CantCheckOutAnEmptyCart
	
	cart := Carrito withCatalog: catalog.
	
	self
		should: [ cashier checkOutCart: cart withCreditCard: cashierValidatedCreditCard on: GregorianMonthOfYear current ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero emptyCartError.! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 20:36:29' prior: 50881713!
test05CanNotCheckOutACreditCardWithNoOwner
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: noOwnerCreditCard on: GregorianMonthOfYear current ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 20:36:29' prior: 50881976!
test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | false ]).
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: cashierValidatedCreditCard on: GregorianMonthOfYear current ]
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 20:36:29' prior: 50881990!
test02CanCheckOutCartWithOneElement

	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 1.

	self assert: 10 equals: (cashier checkOutCart: cart withCreditCard: cashierValidatedCreditCard on: GregorianMonthOfYear current)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 20:36:29' prior: 50881968!
test03CanCheckOutCartWithMoreThanOneElement
	
	self assert: 30 equals: (cashier checkOutCart: cart withCreditCard: cashierValidatedCreditCard on: GregorianMonthOfYear current)! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 20:36:29' prior: 50881664!
test04CanNotCheckOutWithExpiredCreditCard
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: expiredCreditCard on: GregorianMonthOfYear current ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !
!CajeroTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 20:36:29' prior: 50881723!
test06CanNotCheckOutWithNegativeCardNumber
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: negativeNumberCreditCard on: GregorianMonthOfYear current ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	! !

!methodRemoval: Cajero #checkOutCart:withCreditCard: stamp: 'GR 11/26/2020 20:36:29'!
checkOutCart: aCarrito withCreditCard: aCreditCard  
	
	| totalPrice |
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard.
	
	totalPrice := aCarrito purchaseValue.
	
	( merchantProcesor processPurchase: totalPrice withCreditCard: aCreditCard ) ifFalse: [ self error: self class invalidCreditCard ].
	
	^ totalPrice
			!
!Cajero methodsFor: 'private -- operations' stamp: 'GR 11/26/2020 20:37:26' prior: 50880358!
validateCreditCard: aCreditCard

	| aDate |
	(aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !
!Cajero methodsFor: 'private -- operations' stamp: 'GR 11/26/2020 20:38:07' prior: 50882579!
validateCreditCard: aCreditCard

	| aDaste |
	(aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard isExpiredOn: aDaste) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !
!Cajero methodsFor: 'private -- operations' stamp: 'GR 11/26/2020 20:38:30'!
validateCreditCard: aCreditCard on: aDate 

	| aDaste |
	(aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard isExpiredOn: aDaste) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !
!Cajero methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 20:38:30' prior: 50882470!
checkOutCart: aCarrito withCreditCard: aCreditCard on: aDate   
	
	| totalPrice |
	
	self validateCart: aCarrito.
	
	self validateCreditCard: aCreditCard on: aDate.
	
	totalPrice := aCarrito purchaseValue.
	
	( merchantProcesor processPurchase: totalPrice withCreditCard: aCreditCard ) ifFalse: [ self error: self class invalidCreditCard ].
	
	^ totalPrice
			! !

!methodRemoval: Cajero #validateCreditCard: stamp: 'GR 11/26/2020 20:38:30'!
validateCreditCard: aCreditCard

	| aDaste |
	(aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard isExpiredOn: aDaste) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]!
!Cajero methodsFor: 'private -- operations' stamp: 'GR 11/26/2020 20:38:36' prior: 50882604!
validateCreditCard: aCreditCard on: aDate 

	(aCreditCard number >= 0) ifFalse: [ self error: self class invalidCreditCard ].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [ self error: self class invalidCreditCard ].
	
	(aCreditCard owner = '' ) ifTrue: [ self error: self class invalidCreditCard ]! !

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/26/2020 20:38:50'!
ERROR!
!TarjetaDeCredito methodsFor: 'testing' stamp: 'GR 11/26/2020 20:39:02'!
isExpiredOn: aGregorianMonthOfYear 
	self shouldBeImplemented.! !
!TarjetaDeCredito methodsFor: 'testing' stamp: 'GR 11/26/2020 20:39:21' prior: 50882660!
isExpiredOn: aDate

	expiration < aDate! !

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/26/2020 20:39:22'!
ERROR!
!TarjetaDeCredito methodsFor: 'testing' stamp: 'GR 11/26/2020 20:39:33' prior: 50882665!
isExpiredOn: aDate

	^ expiration < aDate! !

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CajeroTest #test01CantCheckOutAnEmptyCart stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CajeroTest #test02CanCheckOutCartWithOneElement stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CajeroTest #test03CanCheckOutCartWithMoreThanOneElement stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CajeroTest #test04CanNotCheckOutWithExpiredCreditCard stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CajeroTest #test06CanNotCheckOutWithNegativeCardNumber stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CajeroTest #test07CanNotCheckoutIfMerchantProcessorDoesNotValidateCreditCard stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test01CanCreateNewCartWithNoProducts stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test02CanAddAProductToCart stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test03CanAddAProductToCartMultipleTimes stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test04AddAProductThatIsAlreadyInTheCart stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test05CanNotAddABookThatIsNotInTheCatalog stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test06EmptyCartListsNoItems stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test07CartCanListEveryProductInIt stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test08CanNotAddNegativeAmountOfProducts stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test09CanNotAddCeroAmountOfProducts stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CarritoTest #test10CanNotAddNonIntegerAmountOfProducts stamp: 'GR 11/26/2020 20:39:34'!
PASSED!

!testRun: #CatalogoTest #test01CanNotCreateACatalogWithInvalidPriceOfAnyProduct stamp: 'GR 11/26/2020 20:39:34'!
PASSED!
!TarjetaDeCredito methodsFor: 'initialization' stamp: 'GR 11/26/2020 20:40:31' prior: 50878991!
initializeNumber: aCreditCardNumber withExpiration: anExpirationDate withOwner: aName 
	
	(aName = '') ifTrue: [ self error: self class invalidName ].
	
	number := aCreditCardNumber.
	expiration := anExpirationDate.
	owner := aName.! !

!methodRemoval: CajeroTest #test05CanNotCheckOutACreditCardWithNoOwner stamp: 'GR 11/26/2020 20:40:52'!
test05CanNotCheckOutACreditCardWithNoOwner
	
	self 
		should: [ cashier checkOutCart: cart withCreditCard: noOwnerCreditCard on: GregorianMonthOfYear current ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: Cajero invalidCreditCard.
	
	
	
	!
!CajeroTest methodsFor: 'setUp' stamp: 'GR 11/26/2020 20:41:01' prior: 50881931 overrides: 16927572!
setUp

	catalog := Catalogo with: (Dictionary with: #Libro1->10).
	
	cashier := Cajero with: (MerchantProcesorSimulator with: [ :aCreditCard | true]).
	
	cart := Carrito withCatalog: catalog.
	
	cart addToCart: #Libro1 withAmount: 3.

	cashierValidatedCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.
	
	expiredCreditCard := TarjetaDeCredito number: 4659540000978462 withExpiration: August, 2012 withOwner: 'Matias Morales'.
	
	negativeNumberCreditCard := TarjetaDeCredito number: -4659540000978462 withExpiration: August, 2021 withOwner: 'Matias Morales'.! !

TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier cashier2 cart catalog cashierValidatedCreditCard expiredCreditCard negativeNumberCreditCard emptyCart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CajeroTest category: 'TusLibros' stamp: 'GR 11/26/2020 20:41:08'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier cashier2 cart catalog cashierValidatedCreditCard expiredCreditCard negativeNumberCreditCard emptyCart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #TarjetaDeCredito stamp: 'GR 11/26/2020 20:43:33'!
Object subclass: #TarjetaDeCredito
	instanceVariableNames: 'number expiration owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #MerchantProcesorSimulator stamp: 'GR 11/26/2020 20:43:34'!
Object subclass: #MerchantProcesorSimulator
	instanceVariableNames: 'validationCondition'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Catalogo stamp: 'GR 11/26/2020 20:43:34'!
Object subclass: #Catalogo
	instanceVariableNames: 'items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Carrito stamp: 'GR 11/26/2020 20:43:34'!
Object subclass: #Carrito
	instanceVariableNames: 'products catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cajero stamp: 'GR 11/26/2020 20:43:34'!
Object subclass: #Cajero
	instanceVariableNames: 'catalog merchantProcesor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CatalogoTest stamp: 'GR 11/26/2020 20:43:35'!
TestCase subclass: #CatalogoTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CarritoTest stamp: 'GR 11/26/2020 20:43:35'!
TestCase subclass: #CarritoTest
	instanceVariableNames: 'cart catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CajeroTest stamp: 'GR 11/26/2020 20:43:35'!
TestCase subclass: #CajeroTest
	instanceVariableNames: 'cashier cashier2 cart catalog cashierValidatedCreditCard expiredCreditCard negativeNumberCreditCard emptyCart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Transfer stamp: 'GR 11/26/2020 20:43:43'!
Object subclass: #Transfer
	instanceVariableNames: 'value transferEntry transferExit'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferNet stamp: 'GR 11/26/2020 20:43:43'!
Report subclass: #TransferNet
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #AccountSummary stamp: 'GR 11/26/2020 20:43:43'!
Report subclass: #AccountSummary
	instanceVariableNames: 'summary'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Report stamp: 'GR 11/26/2020 20:43:44'!
Object subclass: #Report
	instanceVariableNames: 'account'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Withdraw stamp: 'GR 11/26/2020 20:43:44'!
AccountTransaction subclass: #Withdraw
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ExitTransfer stamp: 'GR 11/26/2020 20:43:44'!
TransferFeet subclass: #ExitTransfer
	instanceVariableNames: 'receiver'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #EntryTransfer stamp: 'GR 11/26/2020 20:43:45'!
TransferFeet subclass: #EntryTransfer
	instanceVariableNames: 'transmitter'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #TransferFeet stamp: 'GR 11/26/2020 20:43:45'!
AccountTransaction subclass: #TransferFeet
	instanceVariableNames: 'transfer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Deposit stamp: 'GR 11/26/2020 20:43:45'!
AccountTransaction subclass: #Deposit
	instanceVariableNames: 'value'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #AccountTransaction stamp: 'GR 11/26/2020 20:43:45'!
Object subclass: #AccountTransaction
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReceptiveAccount stamp: 'GR 11/26/2020 20:43:46'!
Account subclass: #ReceptiveAccount
	instanceVariableNames: 'transactions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Portfolio stamp: 'GR 11/26/2020 20:43:46'!
Account subclass: #Portfolio
	instanceVariableNames: 'accounts parents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #Account stamp: 'GR 11/26/2020 20:43:46'!
Object subclass: #Account
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReportsTest stamp: 'GR 11/26/2020 20:43:47'!
TestCase subclass: #ReportsTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #ReceptiveAccountTest stamp: 'GR 11/26/2020 20:43:47'!
TestCase subclass: #ReceptiveAccountTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

!classRemoval: #PortfolioTest stamp: 'GR 11/26/2020 20:43:48'!
TestCase subclass: #PortfolioTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'Portfolio-Solucion'!

----End fileIn of /home/grosinov/linux64/TusLibros-3.st----!

TestCase subclass: #RESTInterfaceTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterfaceTest category: 'TusLibros' stamp: 'GR 11/26/2020 20:47:27'!
TestCase subclass: #RESTInterfaceTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/26/2020 21:17:39'!
Object subclass: #RESTInterface
	instanceVariableNames: 'users'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'nil' stamp: 'GR 11/26/2020 21:17:11'!
test01CanNotCreateCartWithInvalidUsername

	
	
	| interface |
	interface := RESTInterface with: Dictionary new.
	
	self
		should: [ interface createCart: 'Crocken321' password: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:17:48'!
ERROR!
!RESTInterface class methodsFor: 'instance creation' stamp: 'GR 11/26/2020 21:17:54'!
with: aDictionary 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aDictionary ! !
!RESTInterface class methodsFor: 'instance creation' stamp: 'GR 11/26/2020 21:18:08' prior: 50883550!
with: aUserList

	^self new initializeWith: aUserList ! !

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:18:09'!
ERROR!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/26/2020 21:18:15'!
Object subclass: #RESTInterface
	instanceVariableNames: 'users userList'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/26/2020 21:18:15'!
initializeWith: aUserList 
	self shouldBeImplemented.
	userList := aUserList.! !
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/26/2020 21:18:21' prior: 50883574!
initializeWith: aUserList 
	
	userList := aUserList.! !

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:18:22'!
ERROR!
!RESTInterface class methodsFor: 'error handling' stamp: 'GR 11/26/2020 21:18:36'!
invalidUserError
	self shouldBeImplemented.! !
!RESTInterface class methodsFor: 'error handling' stamp: 'GR 11/26/2020 21:19:00' prior: 50883588!
invalidUserError
	
	^ '1|invalid_user'! !

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:19:01'!
ERROR!
!RESTInterface methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:19:17'!
createCart: aString password: aString2 
	self shouldBeImplemented.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:19:32' prior: 50883534!
test01CanNotCreateCartWithInvalidUsername

	
	
	| interface |
	interface := RESTInterface with: Dictionary new.
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:19:34'!
ERROR!
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/26/2020 21:19:46'!
createCartWithUser: aString andPassword: aString2 
	self shouldBeImplemented.! !

!methodRemoval: RESTInterface #createCart:password: stamp: 'GR 11/26/2020 21:21:48'!
createCart: aString password: aString2 
	self shouldBeImplemented.!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:22:46' prior: 50883607!
test01CanNotCreateCartWithInvalidUsername

	| interface |
	interface := RESTInterface with: Dictionary new.
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterface class methodsFor: 'error handling' stamp: 'GR 11/26/2020 21:23:00' prior: 50883593!
invalidUserError
	
	^ '1|invalid_user_or_password'! !
!RESTInterface class methodsFor: 'error handling' stamp: 'GR 11/26/2020 21:25:26' prior: 50883647!
invalidUserError
	
	^ 'Invalid username or password'! !

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:25:58'!
FAILURE!
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/26/2020 21:27:01' prior: 50883623!
createCartWithUser: aUsername andPassword: aPassword 
	
	self error: self class invalidUserError.! !

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:27:02'!
PASSED!

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:27:02'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:28:43'!
test02CanNotCreateCartWithValidUsernameButInvalidPassword

	| interface |
	interface := RESTInterface with: Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:29:53'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:30:03' prior: 50883674!
test02CanNotCreateCartWithValidUsernameButInvalidPassword

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:30:06'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:30:06'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:48:28'!
test02CanCreateCartWithValidUsernameAndPassword

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !

!testRun: #RESTInterfaceTest #test02CanCreateCartWithValidUsernameAndPassword stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanCreateCartWithValidUsernameAndPassword stamp: 'GR 11/26/2020 21:48:31'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:48:31'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:51:49' prior: 50883765!
test02CanCreateCartWithValidUsernameAndPassword

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:52:57'!
test02CreateCartWithValidUsernameAndPasswordReturnsID

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !

!methodRemoval: RESTInterfaceTest #test02CanCreateCartWithValidUsernameAndPassword stamp: 'GR 11/26/2020 21:52:57'!
test02CanCreateCartWithValidUsernameAndPassword

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:53:13'!
test02CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !

!methodRemoval: RESTInterfaceTest #test02CreateCartWithValidUsernameAndPasswordReturnsID stamp: 'GR 11/26/2020 21:53:13'!
test02CreateCartWithValidUsernameAndPasswordReturnsID

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:53:22' prior: 50883878!
test02CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !

!testRun: #RESTInterfaceTest #test02CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/26/2020 21:53:26'!
ERROR!
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/26/2020 21:54:59' prior: 50883661!
createCartWithUser: aUsername andPassword: aPassword 
	
	(userList includes: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	^ 0! !

!testRun: #RESTInterfaceTest #test02CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/26/2020 21:55:00'!
ERROR!
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/26/2020 21:55:24' prior: 50883921!
createCartWithUser: aUsername andPassword: aPassword 
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	^ 0! !

!testRun: #RESTInterfaceTest #test02CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:55:25'!
FAILURE!

!testRun: #RESTInterfaceTest #test02CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/26/2020 21:55:25'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:55:25'!
FAILURE!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:55:36'!
test03CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !

!methodRemoval: RESTInterfaceTest #test02CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/26/2020 21:55:36'!
test02CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:55:42'!
test02CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !

!methodRemoval: RESTInterfaceTest #test03CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/26/2020 21:55:42'!
test03CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:55:47'!
test03CanNotCreateCartWithValidUsernameButInvalidPassword

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !

!methodRemoval: RESTInterfaceTest #test02CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:55:47'!
test02CanNotCreateCartWithValidUsernameButInvalidPassword

	| interface |
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:56:03'!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !

!methodRemoval: RESTInterfaceTest #test02CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/26/2020 21:56:03'!
test02CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/26/2020 21:56:08'!
test02CanNotCreateCartWithInvalidUsername

	| interface |
	interface := RESTInterface with: Dictionary new.
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !

!methodRemoval: RESTInterfaceTest #test01CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:56:08'!
test01CanNotCreateCartWithInvalidUsername

	| interface |
	interface := RESTInterface with: Dictionary new.
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:56:11'!
FAILURE!
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/26/2020 21:58:31' prior: 50883933!
createCartWithUser: aUsername andPassword: aPassword 
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	^ 0! !

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/26/2020 21:58:33'!
PASSED!

----QUIT----(26 November 2020 22:03:47) CuisUniversity-4384.image priorSource: 17626027!

----STARTUP---- (29 November 2020 14:35:02) as /home/grosinov/linux64/CuisUniversity-4384.image!

!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 14:46:18'!
test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').
	self assert: 1 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 14:46:57' prior: 50884221!
test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas' with: 'ortoPilot'->'ilovemusic').
	
	self assert: 0 equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').
	self assert: 1 equals: (interface createCartWithUser: 'ortoPilot' andPassword: 'ilovemusic').! !

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 14:47:07'!
FAILURE!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 14:47:24' prior: 50884088!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: '0' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 14:47:36' prior: 50884238!
test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas' with: 'ortoPilot'->'ilovemusic').
	
	self assert: '0' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').
	self assert: '1' equals: (interface createCartWithUser: 'ortoPilot' andPassword: 'ilovemusic').! !

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 14:47:41'!
FAILURE!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/29/2020 14:48:11'!
Object subclass: #RESTInterface
	instanceVariableNames: 'users userList nextCartID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/29/2020 14:48:09' prior: 50884143!
createCartWithUser: aUsername andPassword: aPassword 
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	^ nextCartID asString! !

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 14:48:14'!
FAILURE!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/29/2020 14:48:57' prior: 50883580!
initializeWith: aUserList 
	
	userList := aUserList.
	nextCartID := 0! !

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 14:49:01'!
FAILURE!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/29/2020 14:49:23' prior: 50884318!
initializeWith: aUserList 
	
	userList := aUserList.
	nextCartID := -1! !
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/29/2020 14:49:42' prior: 50884302!
createCartWithUser: aUsername andPassword: aPassword 
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	nextCartID := nextCartID +1.
	^ nextCartID asString! !

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 14:49:44'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 14:49:44'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 14:49:44'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 14:49:44'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 14:49:44'!
PASSED!
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/29/2020 14:50:10' prior: 50884334!
createCartWithUser: aUsername andPassword: aPassword 
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	nextCartID := nextCartID +1.
	nextCartID asString! !
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/29/2020 14:50:27'!
giveCartID

	nextCartID := nextCartID +1.
	nextCartID asString! !
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/29/2020 14:50:27' prior: 50884367!
createCartWithUser: aUsername andPassword: aPassword 
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	self giveCartID! !
!RESTInterface methodsFor: 'opertaions' stamp: 'GR 11/29/2020 14:50:31' prior: 50884384!
createCartWithUser: aUsername andPassword: aPassword 
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	^ self giveCartID! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:03:30'!
test05CartIsCreatedAndSaved

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas' with: 'ortoPilot'->'ilovemusic').
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: (interface isDefinedTheID: '0').! !

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:03:37'!
ERROR!
!RESTInterface methodsFor: 'accessing' stamp: 'GR 11/29/2020 15:03:43'!
isDefinedTheID: aString 
	self shouldBeImplemented.! !

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/29/2020 15:04:16'!
Object subclass: #RESTInterface
	instanceVariableNames: 'users userList nextCartID carts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'accessing' stamp: 'GR 11/29/2020 15:04:14' prior: 50884422!
isDefinedTheID: aCartID

	carts includes: aCartID.! !

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:04:17'!
ERROR!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/29/2020 15:04:32' prior: 50884328!
initializeWith: aUserList 
	
	userList := aUserList.
	nextCartID := 0! !
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/29/2020 15:04:43' prior: 50884443!
initializeWith: aUserList 
	
	userList := aUserList.
	nextCartID := 0.
	carts := Dictionary new.! !

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:04:44'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:04:50' prior: 50884406!
test05CartIsCreatedAndSaved

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas' with: 'ortoPilot'->'ilovemusic').
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: (interface isDefinedTheID: '1').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:04:55' prior: 50884273!
test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas' with: 'ortoPilot'->'ilovemusic').
	
	self assert: '1' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').
	self assert: '2' equals: (interface createCartWithUser: 'ortoPilot' andPassword: 'ilovemusic').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:05:02' prior: 50884260!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: '1' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:05:07'!
ERROR!
!RESTInterface methodsFor: 'accessing' stamp: 'GR 11/29/2020 15:05:19' prior: 50884435!
isDefinedTheID: aCartID

	^ carts includes: aCartID.! !

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:05:20'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:09:09' prior: 50884395!
createCartWithUser: aUsername andPassword: aPassword 
	
	| ID |
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	ID := self giveCartID.
	
	"carts add: ID->Cart "
	
	^ self giveCartID! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:10:00' prior: 50884491!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface with: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas').
	
	self assert: '1' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'nil' stamp: 'GR 11/29/2020 15:12:31' overrides: 16927572!
setUp! !

!classDefinition: #RESTInterfaceTest category: 'TusLibros' stamp: 'GR 11/29/2020 15:12:44'!
TestCase subclass: #RESTInterfaceTest
	instanceVariableNames: 'testObjectsFactory'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:12:43' prior: 50884542 overrides: 16927572!
setUp

	testObjectsFactory := StoreTestObjectsFactory new.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:13:42' prior: 50884529!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface withUserList: (Dictionary with: 'Crocken321'->'lacontraseniamasseguradetodas') andCatalog: testObjectsFactory defaultCatalog.
	
	self assert: '1' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:14:05' prior: 50884560!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	self assert: '1' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!StoreTestObjectsFactory methodsFor: 'nil' stamp: 'GR 11/29/2020 15:14:17'!
userList

	! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:14:44' prior: 50884588!
userList

	Dictionary 
		with: 'Crocken321'->'lacontraseniamasseguradetodas'! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:16:03' prior: 50884592!
userList

	Dictionary 
		with: 'Crocken321'->'lacontraseniamasseguradetodas'
		with: 'ortoPilot'->'ilovemusic'! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:16:44' prior: 50884114!
test02CanNotCreateCartWithInvalidUsername

	| interface |
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	self
		should: [ interface createCartWithUser: 'CheckPoint' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:16:54' prior: 50884058!
test03CanNotCreateCartWithValidUsernameButInvalidPassword

	| interface |
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:17:04' prior: 50884473!
test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	self assert: '1' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').
	self assert: '2' equals: (interface createCartWithUser: 'ortoPilot' andPassword: 'ilovemusic').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:17:10' prior: 50884459!
test05CartIsCreatedAndSaved

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: (interface isDefinedTheID: '1').! !

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:17:13'!
ERROR!
!RESTInterface class methodsFor: 'instance creation' stamp: 'GR 11/29/2020 15:17:22'!
withUserList: aStoreTestObjectsFactory andCatalog: aDictionary 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWithUserList: aStoreTestObjectsFactory andCatalog: aDictionary ! !
!RESTInterface class methodsFor: 'instance creation' stamp: 'GR 11/29/2020 15:17:46' prior: 50884669!
withUserList: aUserList andCatalog: aCatalog 
	
	^self new initializeWithUserList: aUserList andCatalog: aCatalog ! !

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:17:47'!
ERROR!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/29/2020 15:17:53'!
Object subclass: #RESTInterface
	instanceVariableNames: 'users userList nextCartID carts catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/29/2020 15:17:53'!
initializeWithUserList: aUserList andCatalog: aCatalog 
	self shouldBeImplemented.
	userList := aUserList.
	catalog := aCatalog.! !
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/29/2020 15:17:55' prior: 50884699!
initializeWithUserList: aUserList andCatalog: aCatalog 
	
	userList := aUserList.
	catalog := aCatalog.! !
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/29/2020 15:18:08' prior: 50884707!
initializeWithUserList: aUserList andCatalog: aCatalog 
	
	userList := aUserList.
	catalog := aCatalog.
	nextCartID := 0.! !

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:18:09'!
ERROR!
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:18:46' prior: 50884598!
userList

	^ Dictionary 
		with: 'Crocken321'->'lacontraseniamasseguradetodas'
		with: 'ortoPilot'->'ilovemusic'! !

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:18:47'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:20:45' prior: 50884515!
createCartWithUser: aUsername andPassword: aPassword 
	
	| ID |
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	ID := self giveCartID.
	
	carts add: ID->(Cart acceptingItemsOf: catalog ).
	
	^ ID! !

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:20:47'!
ERROR!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/29/2020 15:21:11' prior: 50884714!
initializeWithUserList: aUserList andCatalog: aCatalog 
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.! !

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:21:12'!
FAILURE!
!RESTInterface methodsFor: 'operations -- private' stamp: 'GR 11/29/2020 15:21:29' prior: 50884379!
giveCartID

	nextCartID := nextCartID +1.
	^nextCartID asString! !

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:21:32'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:21:38'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:21:38'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 15:21:38'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:21:38'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 15:21:38'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:21:38'!
FAILURE!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:21:38'!
FAILURE!
!RESTInterface methodsFor: 'accessing' stamp: 'GR 11/29/2020 15:22:01' prior: 50884507!
isDefinedTheID: aCartID

	^ carts includesKey: aCartID.! !

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:22:02'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:22:04'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:22:04'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 15:22:04'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:22:04'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 15:22:04'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:22:04'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:27:11'!
test06CanAddProductsToCartWithCartID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface addToCart: '0' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (interface isDefinedTheID: '1').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:29:11' prior: 50884835!
test06CanAddProductsToCartWithCartID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (interface theCart: '1' hasTheProduct: testObjectsFactory itemSellByTheStore withAmount: 10).! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:29:13'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:29:21'!
addToCart: aString theProduct: aString2 withAmount: aSmallInteger 
	self shouldBeImplemented.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:31:22' prior: 50884870!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount
 
	(carts at: aCartID) add: aProductAmount of: aProduct.! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:31:26'!
ERROR!
!RESTInterface methodsFor: 'testing' stamp: 'GR 11/29/2020 15:31:36'!
theCart: aString hasTheProduct: aString2 withAmount: aSmallInteger 
	self shouldBeImplemented.! !
!RESTInterface methodsFor: 'testing' stamp: 'GR 11/29/2020 15:36:03' prior: 50884886!
theCart: aCartID hasTheProduct: aProduct withAmount: aProductAmount 
	
	| cart amountOfProductInCart |
	
	cart := carts at: aCartID.
	
	amountOfProductInCart := cart occurrencesOf: aProduct.
	
	(cart includes: aProduct) and: (amountOfProductInCart = aProductAmount )! !
!RESTInterface methodsFor: 'testing' stamp: 'GR 11/29/2020 15:36:11' prior: 50884892!
theCart: aCartID hasTheProduct: aProduct withAmount: aProductAmount 
	
	| cart amountOfProductInCart |
	
	cart := carts at: aCartID.
	
	amountOfProductInCart := cart occurrencesOf: aProduct.
	
	^ (cart includes: aProduct) and: (amountOfProductInCart = aProductAmount )! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:36:12'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:36:12'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 15:36:12'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:36:12'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 15:36:12'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:36:12'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:36:12'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:40:00'!
test07CanNotAddProductsToInvalidCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: interface invalidCartError equals: anError messageText.
			self deny: (interface theCart: '4' hasTheProduct: testObjectsFactory itemSellByTheStore withAmount: 10).
			 ]
	
	! !

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:40:04'!
ERROR!
!RESTInterface methodsFor: 'error handling' stamp: 'GR 11/29/2020 15:40:21'!
invalidCartError
	self shouldBeImplemented.! !
!RESTInterface methodsFor: 'error handling' stamp: 'GR 11/29/2020 15:40:46' prior: 50884968!
invalidCartError
	
	^ 'Invalid cart'! !

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:40:49'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:41:42' prior: 50884876!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount
 
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	(carts at: aCartID) add: aProductAmount of: aProduct.! !

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:41:43'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:42:05' prior: 50884942!
test07CanNotAddProductsToInvalidCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: RESTInterface invalidCartError equals: anError messageText.
			self deny: (interface theCart: '4' hasTheProduct: testObjectsFactory itemSellByTheStore withAmount: 10).
			 ]
	
	! !

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:42:06'!
ERROR!
!RESTInterface class methodsFor: 'error handling' stamp: 'GR 11/29/2020 15:42:22'!
invalidCartError
	self shouldBeImplemented.! !
!RESTInterface class methodsFor: 'error handling' stamp: 'GR 11/29/2020 15:42:28' prior: 50885022!
invalidCartError
	
	^ 'Invalid cart'! !

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:42:29'!
ERROR!
!RESTInterface methodsFor: 'testing' stamp: 'GR 11/29/2020 15:43:07' prior: 50884904!
theCart: aCartID hasTheProduct: aProduct withAmount: aProductAmount 
	
	| cart amountOfProductInCart |
	
	cart := carts at: aCartID ifAbsent: [^false].
	
	amountOfProductInCart := cart occurrencesOf: aProduct.
	
	^ (cart includes: aProduct) and: (amountOfProductInCart = aProductAmount )! !

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:43:11'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:43:11'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 15:43:11'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:43:11'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 15:43:11'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:43:11'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:43:11'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:43:11'!
PASSED!

!methodRemoval: RESTInterface #invalidCartError stamp: 'GR 11/29/2020 15:43:28'!
invalidCartError
	
	^ 'Invalid cart'!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:44:14'!
test08CanListCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: RESTInterface invalidCartError equals: anError messageText.
			self deny: (interface theCart: '4' hasTheProduct: testObjectsFactory itemSellByTheStore withAmount: 10).
			 ]
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:46:36' prior: 50885081!
test08CanListCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:47:17'!
test08CanListAnEmptyCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !

!methodRemoval: RESTInterfaceTest #test08CanListCart stamp: 'GR 11/29/2020 15:47:17'!
test08CanListCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:48:05' prior: 50885118!
test08CanListAnEmptyCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: Dictionary new equals: (interface listCart: '1')
	
	! !

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/29/2020 15:48:08'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:48:18'!
listCart: aString 
	self shouldBeImplemented.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:48:32' prior: 50885162!
listCart: aCartID 
	
	^ Dictionary new.! !

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/29/2020 15:48:34'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:48:34'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 15:48:34'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:48:34'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 15:48:34'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:48:34'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:48:34'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:48:34'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/29/2020 15:48:34'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:49:21'!
test09CanListCartWithOneItem

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore ) equals: (interface listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:49:59' prior: 50885204!
test09CanListCartWithOneItem

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 1.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->1 ) equals: (interface listCart: '1')
	
	! !

!testRun: #RESTInterfaceTest #test09CanListCartWithOneItem stamp: 'GR 11/29/2020 15:51:47'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:53:40' prior: 50885167!
listCart: aCartID 
	
	| cart |
	
	cart := carts at: aCartID.
	
	^ cart listCart.! !

!testRun: #RESTInterfaceTest #test09CanListCartWithOneItem stamp: 'GR 11/29/2020 15:53:41'!
ERROR!
!Cart methodsFor: 'accessing' stamp: 'GR 11/29/2020 15:53:47'!
listCart
	self shouldBeImplemented.! !
!Cart methodsFor: 'accessing' stamp: 'GR 11/29/2020 15:53:55' prior: 50885248!
listCart
	
	items asBag contents! !

!testRun: #RESTInterfaceTest #test09CanListCartWithOneItem stamp: 'GR 11/29/2020 15:53:56'!
FAILURE!
!Cart methodsFor: 'accessing' stamp: 'GR 11/29/2020 15:54:11' prior: 50885252!
listCart
	
	^ items asBag contents! !

!testRun: #RESTInterfaceTest #test09CanListCartWithOneItem stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/29/2020 15:54:15'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithOneItem stamp: 'GR 11/29/2020 15:54:15'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:54:31' prior: 50885219!
test09CanListCartWithOneItem

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	! !

!testRun: #RESTInterfaceTest #test09CanListCartWithOneItem stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/29/2020 15:54:33'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithOneItem stamp: 'GR 11/29/2020 15:54:33'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:54:54'!
test09CanListCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	! !

!methodRemoval: RESTInterfaceTest #test09CanListCartWithOneItem stamp: 'GR 11/29/2020 15:54:54'!
test09CanListCartWithOneItem

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:55:16'!
test09CanListCartWithValidID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	! !

!methodRemoval: RESTInterfaceTest #test09CanListCart stamp: 'GR 11/29/2020 15:55:16'!
test09CanListCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:55:30'!
test10CanNotListCartWithInvalidID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:56:35' prior: 50885422!
test10CanNotListCartWithInvalidID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface listCart: '4' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.
	
	! !

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/29/2020 15:56:39'!
FAILURE!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/29/2020 15:57:01'!
FAILURE!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/29/2020 15:57:01'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 15:58:00' prior: 50885240!
listCart: aCartID 
	
	| cart |
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	cart := carts at: aCartID.
	
	^ cart listCart.! !

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/29/2020 15:58:01'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/29/2020 15:58:03'!
PASSED!

'a' + 1!

'a' asciiValue + 1!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 16:27:10' prior: 50885440!
test10CanNotListCartWithInvalidID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface listCart: '4' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !

!methodRemoval: RESTInterface #initializeWith: stamp: 'GR 11/29/2020 16:34:45'!
initializeWith: aUserList 
	
	userList := aUserList.
	nextCartID := 0.
	carts := Dictionary new.!

!methodRemoval: RESTInterface class #with: stamp: 'GR 11/29/2020 16:34:52'!
with: aUserList

	^self new initializeWith: aUserList !

Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID carts catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/29/2020 16:35:05'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID carts catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID carts catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/29/2020 16:39:50'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID carts catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 16:41:16'!
test11CanNotCheckoutCartWithInvalidID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface checkout: '4' withCreditCard: testObjectsFactory ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 16:41:36' prior: 50885575!
test11CanNotCheckoutCartWithInvalidID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface checkout: '4' withCreditCard: testObjectsFactory notExpiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/29/2020 16:41:51'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 16:41:59'!
checkout: aString withCreditCard: aCreditCard 
	self shouldBeImplemented.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/29/2020 16:45:13' prior: 50885619!
checkout: aCartID withCreditCard: aCreditCard 
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ]! !

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/29/2020 16:45:14'!
PASSED!

----QUIT----(29 November 2020 16:45:33) CuisUniversity-4384.image priorSource: 17682049!

----STARTUP---- (30 November 2020 18:05:09) as /home/grosinov/linux64/CuisUniversity-4384.image!

!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 18:14:12'!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface checkout: '4' withCreditCard: testObjectsFactory notExpiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 18:16:38' prior: 50885681!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !

	self time !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 18:29:34' prior: 50885703!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !

Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID carts catalog cartsPerUser salesPerUser'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/30/2020 18:31:55'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID carts catalog cartsPerUser salesPerUser'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID carts catalog salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/30/2020 18:33:09'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID carts catalog salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID catalog carts salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/30/2020 18:34:49'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID catalog carts salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 18:36:18'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 18:36:20'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 18:36:20'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 18:53:04' prior: 50885719!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	
	
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 18:59:38' prior: 50884849!
test06CanAddProductsToCartWithCartID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self deny: (interface listCart: '1') isEmpty.! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 18:59:39'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 18:59:39'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 19:00:30' prior: 50884995!
test07CanNotAddProductsToInvalidCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: RESTInterface invalidCartError equals: anError messageText.
			self deny: (interface listCart: '4' isEmpty).
			 ]
	
	! !

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/30/2020 19:00:31'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 19:01:54' prior: 50885905!
test07CanNotAddProductsToInvalidCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError. 
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 19:02:35' prior: 50885146!
test08CanListAnEmptyCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: (interface listCart: '1') isEmpty
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:48:05' prior: 50885949!
test08CanListAnEmptyCart

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: Dictionary new equals: (interface listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/29/2020 15:29:11' prior: 50885842!
test06CanAddProductsToCartWithCartID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (interface theCart: '1' hasTheProduct: testObjectsFactory itemSellByTheStore withAmount: 10).! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 18:59:38' prior: 50885976!
test06CanAddProductsToCartWithCartID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self deny: (interface listCart: '1') isEmpty.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 19:10:13'!
test13

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	
	
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 19:11:07'!
test13CheckoutACartReturnsSaleID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	
	
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !

!methodRemoval: RESTInterfaceTest #test13 stamp: 'GR 11/30/2020 19:11:07'!
test13

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	
	
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 19:13:00' prior: 50886024!
test13CheckoutACartReturnsSaleID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: 4865642166849654 withCCED: August, 2021 withCCO: 'Matias Morales')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 19:15:46' prior: 50886052!
test13CheckoutACartReturnsSaleID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: August, 2021 withCCO: 'Matias Morales')
	
	! !

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 19:17:16'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 19:17:24'!
checkout: aString withCCN: aString2 withCCED: aGregorianMonthOfYear withCCO: aString4 
	self shouldBeImplemented.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 19:19:57' prior: 50886092!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard |
	
	creditCard := CreditCard expiringOn: (Month month: aCCED monthOfYear year: aCCED year)! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 19:26:29' prior: 50886099!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard |
	
	creditCard := CreditCard expiringOn: (Month month: aCCED monthOfYear year: aCCED year).! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 19:30:49' prior: 50886071!
test13CheckoutACartReturnsSaleID

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: August, 2021 withCCO: 'Matias Morales')
	
	! !

TestCase subclass: #RESTInterfaceTest
	instanceVariableNames: 'testObjectsFactory clock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterfaceTest category: 'TusLibros' stamp: 'GR 11/30/2020 20:11:04'!
TestCase subclass: #RESTInterfaceTest
	instanceVariableNames: 'testObjectsFactory clock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:28:55' prior: 50885826!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	
	
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !

!classDefinition: #RealTimeClock category: 'TusLibros' stamp: 'GR 11/30/2020 20:30:09'!
Object subclass: #RealTimeClock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:30:04' prior: 50884554 overrides: 16927572!
setUp

	testObjectsFactory := StoreTestObjectsFactory new.
	
	clock := RealTimeClock new.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:31:10' prior: 50886149!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWrap.
	
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:34:08' prior: 50886179!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWrap.
	
	self 
		should: [ interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: '1') ]
	
	
	! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:34:11'!
ERROR!
!RESTInterfaceTest methodsFor: 'timeWrapper' stamp: 'GR 11/30/2020 20:34:23'!
thirtyMinutesTimeWrap
	self shouldBeImplemented.! !

!classDefinition: #WarpedClock category: 'TusLibros' stamp: 'GR 11/30/2020 20:35:40'!
Object subclass: #WarpedClock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'timeWrapper' stamp: 'GR 11/30/2020 20:35:33' prior: 50886223!
thirtyMinutesTimeWrap
	
	clock := WarpedClock new.! !
!RESTInterfaceTest methodsFor: 'timeWrapper' stamp: 'GR 11/30/2020 20:36:07'!
thirtyMinutesTimeWarp
	
	clock := WarpedClock new.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:36:07' prior: 50886196!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	| interface |
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: '1') ]
	
	
	! !

!methodRemoval: RESTInterfaceTest #thirtyMinutesTimeWrap stamp: 'GR 11/30/2020 20:36:07'!
thirtyMinutesTimeWrap
	
	clock := WarpedClock new.!

Object subclass: #Clock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Clock category: 'TusLibros' stamp: 'GR 11/30/2020 20:36:14'!
Object subclass: #Clock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Clock subclass: #RealTimeClock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RealTimeClock category: 'TusLibros' stamp: 'GR 11/30/2020 20:36:20'!
Clock subclass: #RealTimeClock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Clock subclass: #WarpedClock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #WarpedClock category: 'TusLibros' stamp: 'GR 11/30/2020 20:36:27'!
Clock subclass: #WarpedClock
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterfaceTest category: 'TusLibros' stamp: 'GR 11/30/2020 20:37:06'!
TestCase subclass: #RESTInterfaceTest
	instanceVariableNames: 'testObjectsFactory clock interface2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:37:19' prior: 50886245!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface2 isDefinedTheID: '1') ]
	
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:37:31' prior: 50886117!
test13CheckoutACartReturnsSaleID

	| interface |
	
	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface2 checkout: '1' withCCN: '4865642166849654' withCCED: August, 2021 withCCO: 'Matias Morales')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:37:36' prior: 50886336!
test13CheckoutACartReturnsSaleID

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface2 checkout: '1' withCCN: '4865642166849654' withCCED: August, 2021 withCCO: 'Matias Morales')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:37:41' prior: 50885595!
test11CanNotCheckoutCartWithInvalidID

	
	
	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface2 checkout: '4' withCreditCard: testObjectsFactory notExpiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:37:45' prior: 50886374!
test11CanNotCheckoutCartWithInvalidID

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface2 checkout: '4' withCreditCard: testObjectsFactory notExpiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:37:51' prior: 50885521!
test10CanNotListCartWithInvalidID

	
	
	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface2 listCart: '4' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:37:54' prior: 50886416!
test10CanNotListCartWithInvalidID

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface2 listCart: '4' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:06' prior: 50885387!
test09CanListCartWithValidID

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface2 listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:18' prior: 50885962!
test08CanListAnEmptyCart

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: Dictionary new equals: (interface2 listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:24' prior: 50885930!
test07CanNotAddProductsToInvalidCart

	
	
	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface2 addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError. 
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:28' prior: 50886485!
test07CanNotAddProductsToInvalidCart

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface2 addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError. 
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:34' prior: 50885994!
test06CanAddProductsToCartWithCartID

	
	
	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self deny: (interface2 listCart: '1') isEmpty.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:37' prior: 50886521!
test06CanAddProductsToCartWithCartID

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self deny: (interface2 listCart: '1') isEmpty.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:44' prior: 50884652!
test05CartIsCreatedAndSaved

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: (interface2 isDefinedTheID: '1').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:51' prior: 50884635!
test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	self assert: '1' equals: (interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').
	self assert: '2' equals: (interface2 createCartWithUser: 'ortoPilot' andPassword: 'ilovemusic').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:38:58' prior: 50884620!
test03CanNotCreateCartWithValidUsernameButInvalidPassword

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	self
		should: [ interface2 createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:04' prior: 50884605!
test02CanNotCreateCartWithInvalidUsername

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	self
		should: [ interface2 createCartWithUser: 'CheckPoint' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:10' prior: 50884575!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	self assert: '1' equals: (interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:16' prior: 50886613!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	self assert: '1' equals: (interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:19' prior: 50886172 overrides: 16927572!
setUp

	testObjectsFactory := StoreTestObjectsFactory new.
	
	interface2 := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	clock := RealTimeClock new.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:27' prior: 50886598!
test02CanNotCreateCartWithInvalidUsername

	self
		should: [ interface2 createCartWithUser: 'CheckPoint' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:31' prior: 50886583!
test03CanNotCreateCartWithValidUsernameButInvalidPassword

	self
		should: [ interface2 createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:35' prior: 50886566!
test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach

	self assert: '1' equals: (interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').
	self assert: '2' equals: (interface2 createCartWithUser: 'ortoPilot' andPassword: 'ilovemusic').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:39' prior: 50886553!
test05CartIsCreatedAndSaved

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: (interface2 isDefinedTheID: '1').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:42' prior: 50886537!
test06CanAddProductsToCartWithCartID

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self deny: (interface2 listCart: '1') isEmpty.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:46' prior: 50886503!
test07CanNotAddProductsToInvalidCart

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface2 addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError. 
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:51' prior: 50886472!
test08CanListAnEmptyCart

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: Dictionary new equals: (interface2 listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:55' prior: 50886454!
test09CanListCartWithValidID

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface2 listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:39:59' prior: 50886435!
test10CanNotListCartWithInvalidID

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface2 listCart: '4' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:02' prior: 50886395!
test11CanNotCheckoutCartWithInvalidID

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface2 checkout: '4' withCreditCard: testObjectsFactory notExpiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:06' prior: 50886313!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface2 isDefinedTheID: '1') ]
	
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:09' prior: 50886355!
test13CheckoutACartReturnsSaleID

	interface2 createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface2 addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface2 checkout: '1' withCCN: '4865642166849654' withCCED: August, 2021 withCCO: 'Matias Morales')
	
	! !

!classDefinition: #RESTInterfaceTest category: 'TusLibros' stamp: 'GR 11/30/2020 20:40:18'!
TestCase subclass: #RESTInterfaceTest
	instanceVariableNames: 'testObjectsFactory clock interface'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886657!
test03CanNotCreateCartWithValidUsernameButInvalidPassword

	self
		should: [ interface createCartWithUser: 'Crocken321' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886792!
test13CheckoutACartReturnsSaleID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: August, 2021 withCCO: 'Matias Morales')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886702!
test07CanNotAddProductsToInvalidCart

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError. 
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886636 overrides: 16927572!
setUp

	testObjectsFactory := StoreTestObjectsFactory new.
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog.
	
	clock := RealTimeClock new.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886668!
test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach

	self assert: '1' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').
	self assert: '2' equals: (interface createCartWithUser: 'ortoPilot' andPassword: 'ilovemusic').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886626!
test01CreateCartWithValidUsernameAndPasswordReturnsCartID

	self assert: '1' equals: (interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886740!
test10CanNotListCartWithInvalidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface listCart: '4' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886755!
test11CanNotCheckoutCartWithInvalidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface checkout: '4' withCreditCard: testObjectsFactory notExpiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886726!
test09CanListCartWithValidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886772!
test12CanNotAddToCartIf30MinutesPassedSinceLastOperation

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: '1') ]
	
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886646!
test02CanNotCreateCartWithInvalidUsername

	self
		should: [ interface createCartWithUser: 'CheckPoint' andPassword: 'elMatiPiola321' ]
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886681!
test05CartIsCreatedAndSaved

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: (interface isDefinedTheID: '1').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886716!
test08CanListAnEmptyCart

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: Dictionary new equals: (interface listCart: '1')
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50886690!
test06CanAddProductsToCartWithCartID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self deny: (interface listCart: '1') isEmpty.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:44' prior: 50886856 overrides: 16927572!
setUp

	testObjectsFactory := StoreTestObjectsFactory new.
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog withMerchantProcessor: self withClock: self.
	
	clock := RealTimeClock new.! !
!RESTInterface class methodsFor: 'instance creation' stamp: 'GR 11/30/2020 20:41:49'!
withUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor  
	
	^self new initializeWithUserList: aUserList andCatalog: aCatalog ! !

!methodRemoval: RESTInterface class #withUserList:andCatalog: stamp: 'GR 11/30/2020 20:41:49'!
withUserList: aUserList andCatalog: aCatalog 
	
	^self new initializeWithUserList: aUserList andCatalog: aCatalog !
!RESTInterface class methodsFor: 'instance creation' stamp: 'GR 11/30/2020 20:42:06'!
withUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	^self new initializeWithUserList: aUserList andCatalog: aCatalog ! !

!methodRemoval: RESTInterface class #withUserList:andCatalog:withMerchantProcessor: stamp: 'GR 11/30/2020 20:42:06'!
withUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor  
	
	^self new initializeWithUserList: aUserList andCatalog: aCatalog !
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/30/2020 20:42:43'!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor  
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.! !
!RESTInterface class methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:42:43' prior: 50887023!
withUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	^self new initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor ! !

!methodRemoval: RESTInterface #initializeWithUserList:andCatalog: stamp: 'GR 11/30/2020 20:42:43'!
initializeWithUserList: aUserList andCatalog: aCatalog 
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/30/2020 20:43:07'!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.! !
!RESTInterface class methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:43:07' prior: 50887050!
withUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	^self new initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock ! !

!methodRemoval: RESTInterface #initializeWithUserList:andCatalog:withMerchantProcessor: stamp: 'GR 11/30/2020 20:43:07'!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor  
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:43:31'!
FAILURE!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 11/30/2020 20:46:14'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID catalog carts salesBook clock'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 20:46:10' prior: 50884981!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	(clock now - (carts at: aCartID) at: 3 ) >= 30 minutes ifTrue: [ self error: self class cartTimeExceededErrorDescription ].
 
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	(carts at: aCartID) add: aProductAmount of: aProduct.! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:46:21'!
ERROR!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 11/30/2020 20:47:03' prior: 50887068!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.
	clock := aClock.! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:47:25'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:47:38'!
now
	self shouldBeImplemented.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:48:07' prior: 50887143!
now
	
	^ clock now.! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:48:10'!
ERROR!
!WarpedClock methodsFor: 'time' stamp: 'GR 11/30/2020 20:48:34'!
now
	self shouldBeImplemented.! !
!WarpedClock methodsFor: 'time' stamp: 'GR 11/30/2020 20:48:51' prior: 50887155!
now
	
	^ DateAndTime now + 30 minutes! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:48:54'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 20:49:11' prior: 50887111!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	(clock now - ((carts at: aCartID) at: 3) ) >= 30 minutes ifTrue: [ self error: self class cartTimeExceededErrorDescription ].
 
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	(carts at: aCartID) add: aProductAmount of: aProduct.! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:49:16'!
ERROR!
!RESTInterface class methodsFor: 'error handling' stamp: 'GR 11/30/2020 20:49:39'!
cartTimeExceededErrorDescription
	self shouldBeImplemented.! !
!RESTInterface class methodsFor: 'error handling' stamp: 'GR 11/30/2020 20:49:52' prior: 50887186!
cartTimeExceededErrorDescription
	
	^ 'Cart time exceeded'! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:49:54'!
FAILURE!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:50:26'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 20:51:31' prior: 50884737!
createCartWithUser: aUsername andPassword: aPassword 
	
	| ID |
	
	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ].
	
	ID := self giveCartID.
	
	carts add: ID->( OrderedCollection with: (Cart acceptingItemsOf: catalog) with: aUsername with: DateAndTime now).
	
	^ ID! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:52:13'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 20:53:39' prior: 50887168!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	(clock now - ((carts at: aCartID) at: 3) ) >= 30 minutes ifTrue: [ 
		carts remove: aCartID.
		self error: self class cartTimeExceededErrorDescription ].
	
	(carts at: aCartID) add: aProductAmount of: aProduct.! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:53:44'!
FAILURE!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:54:01'!
FAILURE!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:54:16'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 20:56:22' prior: 50887225!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	(clock now - ((carts at: aCartID) at: 3) ) >= 30 minutes ifTrue: [ 
		carts removeKey: aCartID.
		self error: self class cartTimeExceededErrorDescription ].
	
	(carts at: aCartID) add: aProductAmount of: aProduct.! !

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:56:23'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:56:25'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/30/2020 20:56:25'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/30/2020 20:56:25'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/30/2020 20:56:25'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/30/2020 20:56:25'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/30/2020 20:56:25'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 20:56:25'!
ERROR!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/30/2020 20:56:25'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/30/2020 20:56:25'!
ERROR!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/30/2020 20:56:25'!
ERROR!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 20:56:25'!
ERROR!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 20:56:25'!
ERROR!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 20:56:25'!
PASSED!

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 20:56:25'!
ERROR!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 20:57:51'!
ERROR!
!RealTimeClock methodsFor: 'time' stamp: 'GR 11/30/2020 20:57:59'!
now
	self shouldBeImplemented.! !
!RealTimeClock methodsFor: 'time' stamp: 'GR 11/30/2020 20:58:17' prior: 50887324!
now
	
	^ DateAndTime now.! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 20:58:18'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 20:59:22' prior: 50887252!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	(clock now - ((carts at: aCartID) at: 3) ) >= 30 minutes ifTrue: [ 
		carts removeKey: aCartID.
		self error: self class cartTimeExceededErrorDescription ].
	
	((carts at: aCartID) at: 1) add: aProductAmount of: aProduct.! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 20:59:24'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 20:59:37' prior: 50885469!
listCart: aCartID 
	
	| cart |
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	cart := (carts at: aCartID) at: 1.
	
	^ cart listCart.! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 20:59:38'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/30/2020 20:59:40'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/30/2020 20:59:40'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 20:59:41'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 20:59:41'!
PASSED!

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 20:59:42'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:00:05' prior: 50886108!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard |
	
	creditCard := CreditCard expiringOn: (Month month: aCCED month year: aCCED year).! !

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:00:10'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:01:24' prior: 50886826!
test13CheckoutACartReturnsSaleID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: August year: 2021 ) withCCO: 'Matias Morales')
	
	! !

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:01:30'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 20:40:18' prior: 50887394!
test13CheckoutACartReturnsSaleID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: August, 2021 withCCO: 'Matias Morales')
	
	! !

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:02:05'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:03:10' prior: 50887413!
test13CheckoutACartReturnsSaleID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales')
	
	! !

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:03:12'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:03:43' prior: 50887382!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard |
	
	creditCard := CreditCard expiringOn: aCCED.! !

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:03:46'!
FAILURE!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:04:04'!
PASSED!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:10:19' prior: 50887336!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	| cartLastTimeUsed |
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	cartLastTimeUsed := self lastTimeUsed: aCartID.
	
	(clock now - cartLastTimeUsed ) >= 30 minutes ifTrue: [ 
		carts removeKey: aCartID.
		self error: self class cartTimeExceededErrorDescription ].
	
	((carts at: aCartID) at: 1) add: aProductAmount of: aProduct.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:11:36' prior: 50887464!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	| cartLastTimeUsed |
	
	cartLastTimeUsed := self lastTimeUsed: aCartID.
	
	(clock now - cartLastTimeUsed ) >= 30 minutes ifTrue: [ 
		carts removeKey: aCartID.
		self error: self class cartTimeExceededErrorDescription ].
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	((carts at: aCartID) at: 1) add: aProductAmount of: aProduct.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:11:58'!
checkIfCartTimeExceeded: aCartID

	| cartLastTimeUsed |
	
	cartLastTimeUsed := self lastTimeUsed: aCartID.
	
	(clock now - cartLastTimeUsed ) >= 30 minutes ifTrue: [ 
		carts removeKey: aCartID.
		self error: self class cartTimeExceededErrorDescription ]! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:11:58' prior: 50887481!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	self checkIfCartTimeExceeded: aCartID.
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	((carts at: aCartID) at: 1) add: aProductAmount of: aProduct.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:12:05' prior: 50887509!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	((carts at: aCartID) at: 1) add: aProductAmount of: aProduct.! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 21:13:00'!
ERROR!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 21:13:00'!
ERROR!
!RESTInterface methodsFor: 'accessing' stamp: 'GR 11/30/2020 21:13:09'!
lastTimeUsed: aString 
	self shouldBeImplemented.! !
!RESTInterface methodsFor: 'accessing' stamp: 'GR 11/30/2020 21:13:33' prior: 50887538!
lastTimeUsed: aCartID 
	
	^ (carts at: aCartID) at: 3! !

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 21:13:34'!
PASSED!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:14:13'!
cartWithID: aCartID

	^ (carts at: aCartID) at: 1! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:14:13' prior: 50887520!
addToCart: aCartID theProduct: aProduct withAmount: aProductAmount

	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	(self cartWithID: aCartID) add: aProductAmount of: aProduct.! !

!methodRemoval: RESTInterface #checkout:withCreditCard: stamp: 'GR 11/30/2020 21:14:52'!
checkout: aCartID withCreditCard: aCreditCard 
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ]!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:15:01' prior: 50887449!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	creditCard := CreditCard expiringOn: aCCED.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:16:19'!
verificateUsername: aUsername andPassword: aPassword

	(userList includesKey: aUsername) ifFalse: [ self error: self class invalidUserError ].
	
	(userList at: aUsername) = aPassword ifFalse: [ self error: self class invalidUserError ]! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:16:19' prior: 50887205!
createCartWithUser: aUsername andPassword: aPassword 
	
	| ID |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	ID := self giveCartID.
	
	carts add: ID->( OrderedCollection with: (Cart acceptingItemsOf: catalog) with: aUsername with: DateAndTime now).
	
	^ ID! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:16:46' prior: 50887354!
listCart: aCartID 
	
	| cart |
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	cart := self cartWithID: aCartID.
	
	^ cart listCart.! !

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/30/2020 21:17:23'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/30/2020 21:17:25'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/30/2020 21:17:26'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/30/2020 21:17:27'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 21:17:28'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/30/2020 21:17:29'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/30/2020 21:17:30'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/30/2020 21:17:31'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 21:17:32'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 21:17:33'!
ERROR!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 21:17:33'!
ERROR!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:18:20' prior: 50886903!
test11CanNotCheckoutCartWithInvalidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface checkout: '4' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 21:18:21'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:18:38'!
test12CanNotListCartIf30MinutesPassedSinceLastOperation

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: '1') ]
	
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:18:45'!
test13CanNotListCartIf30MinutesPassedSinceLastOperation

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: '1') ]
	
	
	! !

!methodRemoval: RESTInterfaceTest #test12CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:18:45'!
test12CanNotListCartIf30MinutesPassedSinceLastOperation

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: '1') ]
	
	
	!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:19:49' prior: 50887695!
test13CanNotListCartIf30MinutesPassedSinceLastOperation

	| cartID |
	
	cartID := interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface listCart: cartID ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: cartID) ]
	
	
	! !

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:19:55'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:20:16' prior: 50887607!
listCart: aCartID 
	
	| cart |
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	^ cart listCart.! !

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:20:17'!
PASSED!

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:20:17'!
FAILURE!

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:20:17'!
FAILURE!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:20:28'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:21:12'!
test13CanNotCheckoutIf30MinutesPassedSinceLastOperation

	| cartID |
	
	cartID := interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface listCart: cartID ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: cartID) ]
	
	
	! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:21:19'!
test14CanNotCheckoutIf30MinutesPassedSinceLastOperation

	| cartID |
	
	cartID := interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface listCart: cartID ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: cartID) ]
	
	
	! !

!methodRemoval: RESTInterfaceTest #test13CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:21:19'!
test13CanNotCheckoutIf30MinutesPassedSinceLastOperation

	| cartID |
	
	cartID := interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface listCart: cartID ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: cartID) ]
	
	
	!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 11/30/2020 21:21:36' prior: 50887846!
test14CanNotCheckoutIf30MinutesPassedSinceLastOperation

	| cartID |
	
	cartID := interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self thirtyMinutesTimeWarp.
	
	self 
		should: [ interface checkout: cartID withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales' ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: RESTInterface cartTimeExceededErrorDescription = anError messageText.
			self deny: (interface isDefinedTheID: cartID) ]
	
	
	! !

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:21:41'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 11/30/2020 21:21:59' prior: 50887574!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.! !

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:22:01'!
FAILURE!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:22:01'!
PASSED!

!testRun: #RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 11/30/2020 21:22:01'!
FAILURE!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 11/30/2020 21:22:05'!
PASSED!

----QUIT----(30 November 2020 21:22:47) CuisUniversity-4384.image priorSource: 17728762!

----STARTUP---- (1 December 2020 15:15:32) as /home/grosinov/linux64/CuisUniversity-4384.image!


!classDefinition: #RESTInterfaceTest category: 'TusLibros' stamp: 'GR 12/1/2020 15:16:23'!
TestCase subclass: #RESTInterfaceTest
	instanceVariableNames: 'testObjectsFactory clock interface debitBehavior'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 15:16:22' prior: 50886997 overrides: 16927572!
setUp

	testObjectsFactory := StoreTestObjectsFactory new.
	
	debitBehavior := [ :anAmount :aCreditCard | ].
	
	interface := RESTInterface withUserList: testObjectsFactory userList andCatalog: testObjectsFactory defaultCatalog withMerchantProcessor: self withClock: self.
	
	clock := RealTimeClock new.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 15:16:58'!
test15CheckoutACartReturnsSaleID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales')
	
	! !

!methodRemoval: RESTInterfaceTest #test13CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:16:58'!
test13CheckoutACartReturnsSaleID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '1' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales')
	
	!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:17:03'!
FAILURE!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 12/1/2020 15:22:51'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID catalog carts salesBook clock merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 15:22:48' prior: 50887908!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	cashier checkOut.
	
	^ cashier createSale ID.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:22:54'!
ERROR!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 12/1/2020 15:23:33' prior: 50887129!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.
	clock := aClock.! !
!RESTInterface methodsFor: 'initialization' stamp: 'GR 12/1/2020 15:23:56' prior: 50888079!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.
	clock := aClock.
	merchantProcessor := aMerchantProcessor.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:24:01'!
ERROR!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:24:09'!
ERROR!
!RESTInterfaceTest methodsFor: 'merchantProcessor' stamp: 'GR 12/1/2020 15:24:27'!
debit: aSmallInteger from: aCreditCard 
	self shouldBeImplemented.! !
!RESTInterfaceTest methodsFor: 'merchantProcessor' stamp: 'GR 12/1/2020 15:24:40' prior: 50888108!
debit: anAmount from: aCreditCard 

	^debitBehavior value: anAmount value: aCreditCard 
	! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:24:41'!
ERROR!
!Sale methodsFor: 'accessing' stamp: 'GR 12/1/2020 15:24:46'!
ID
	self shouldBeImplemented.! !

!classDefinition: #Sale category: 'TusLibros' stamp: 'GR 12/1/2020 15:24:54'!
Object subclass: #Sale
	instanceVariableNames: 'total id'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'accessing' stamp: 'GR 12/1/2020 15:24:53' prior: 50888123!
ID
	
	^ id! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 15:26:27' prior: 50888056!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	cashier checkOut.
	
	saleID := self getNextSaleID.
	
	^ cashier createSale ID.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 15:26:54' prior: 50888137!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	cashier checkOut.
	
	saleID := self getNextSaleID.
	
	^ cashier createSale: saleID.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:26:58'!
ERROR!
!RESTInterface methodsFor: 'accessing' stamp: 'GR 12/1/2020 15:27:06'!
getNextSaleID
	self shouldBeImplemented.! !

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 12/1/2020 15:27:38'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID catalog carts salesBook clock merchantProcessor nextSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'accessing' stamp: 'GR 12/1/2020 15:27:36' prior: 50888181!
getNextSaleID
	
	nextSaleID := nextSaleID + 1.
	^nextSaleID asString! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:27:39'!
ERROR!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 12/1/2020 15:28:05' prior: 50888090!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextCartID := 0.
	nextSaleID := 0.
	clock := aClock.
	merchantProcessor := aMerchantProcessor.! !

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 12/1/2020 15:29:50'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID catalog carts salesBook clock merchantProcessor nextSaleID nextID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 12/1/2020 15:29:48' prior: 50888204!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextID := 0.
	clock := aClock.
	merchantProcessor := aMerchantProcessor.! !

Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID catalog carts salesBook clock merchantProcessor nextSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 12/1/2020 15:30:20'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextCartID catalog carts salesBook clock merchantProcessor nextSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 12/1/2020 15:30:24'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextID catalog carts salesBook clock merchantProcessor nextSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 15:30:24' prior: 50884767!
giveCartID

	nextID := nextID +1.
	^nextID asString! !

Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextID catalog carts salesBook clock merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #RESTInterface category: 'TusLibros' stamp: 'GR 12/1/2020 15:30:27'!
Object subclass: #RESTInterface
	instanceVariableNames: 'userList nextID catalog carts salesBook clock merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 15:30:58' prior: 50888158!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	cashier checkOut.
	
	saleID := self getNextID.
	
	^ cashier createSale: saleID.! !
!RESTInterface methodsFor: 'operations -- private' stamp: 'GR 12/1/2020 15:31:22'!
getNextID

	nextID := nextID +1.
	^nextID asString! !
!RESTInterface methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 15:31:22' prior: 50887595!
createCartWithUser: aUsername andPassword: aPassword 
	
	| ID |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	ID := self getNextID.
	
	carts add: ID->( OrderedCollection with: (Cart acceptingItemsOf: catalog) with: aUsername with: DateAndTime now).
	
	^ ID! !

!methodRemoval: RESTInterface #giveCartID stamp: 'GR 12/1/2020 15:31:22'!
giveCartID

	nextID := nextID +1.
	^nextID asString!

!methodRemoval: RESTInterface #getNextSaleID stamp: 'GR 12/1/2020 15:31:27'!
getNextSaleID
	
	nextSaleID := nextSaleID + 1.
	^nextSaleID asString!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 15:31:37'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:31:37'!
ERROR!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:31:37'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 15:31:49'!
createSale: aString 
	self shouldBeImplemented.! !

!methodRemoval: Cashier #createSale: stamp: 'GR 12/1/2020 15:33:43'!
createSale: aString 
	self shouldBeImplemented.!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:35:06'!
ERROR!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:35:13'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 15:44:44' prior: 50888283!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	cashier checkOut.
	
	^ cashier getSaleID.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:44:49'!
ERROR!
!Cashier methodsFor: 'accessing' stamp: 'GR 12/1/2020 15:44:59'!
getSaleID
	self shouldBeImplemented.! !
!Cashier methodsFor: 'accessing' stamp: 'GR 12/1/2020 15:45:13' prior: 50888467!
getSaleID
	
	^ salesBook last getID. ! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:45:17'!
ERROR!
!Sale methodsFor: 'accessing' stamp: 'GR 12/1/2020 15:45:26'!
getID
	self shouldBeImplemented.! !
!Sale methodsFor: 'accessing' stamp: 'GR 12/1/2020 15:45:30' prior: 50888478!
getID
	
	^ id.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:45:32'!
FAILURE!
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 15:47:14' prior: 50883449!
of: aTotal

	"should assert total is not negative or 0!!"
	^self new initializeTotal: aTotal withID: self getNetxID. ! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:47:17'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 15:47:29' prior: 50888489!
of: aTotal

	"should assert total is not negative or 0!!"
	^self new initializeTotal: aTotal withID: self getNextID. ! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:47:30'!
ERROR!
!Sale class methodsFor: 'idGenerator' stamp: 'GR 12/1/2020 15:47:46'!
getNextID
	self shouldBeImplemented.! !

!classDefinition: 'Sale class' category: 'TusLibros' stamp: 'GR 12/1/2020 15:48:12'!
Sale class
	instanceVariableNames: 'nextID'!
!Sale class methodsFor: 'idGenerator' stamp: 'GR 12/1/2020 15:48:10' prior: 50888509!
getNextID
	
	nextID := nextID + 1.
	^ nextID.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:48:13'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 15:49:49' prior: 50888499!
of: aTotal

	"should assert total is not negative or 0!!"
	^self new initializeTotal: aTotal withID: self getNextID. ! !
!Sale class methodsFor: 'idGenerator' stamp: 'GR 12/1/2020 15:49:55' prior: 50888518!
getNextID
	
	nextID ifNil: [ nextID :=0 ].
	nextID := nextID + 1.
	^ nextID.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:50:00'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'GR 12/1/2020 15:50:10'!
Object subclass: #Sale
	instanceVariableNames: 'total id renameMe1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'GR 12/1/2020 15:50:10'!
initializeTotal: aTotal withID: aRenameMe1 
	self shouldBeImplemented.
	total := aTotal.
	renameMe1 := aRenameMe1.! !
!Sale methodsFor: 'initialization' stamp: 'GR 12/1/2020 15:50:37' prior: 50888548!
initializeTotal: aTotal withID: anID 
	
	total := aTotal.
	renameMe1 := anID.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:50:39'!
FAILURE!
!Sale methodsFor: 'initialization' stamp: 'GR 12/1/2020 15:51:11' prior: 50888555!
initializeTotal: aTotal withID: anID 
	
	total := aTotal.
	id := anID.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:51:12'!
FAILURE!

salesBook!

Sale class
	instanceVariableNames: ''!

!classDefinition: 'Sale class' category: 'TusLibros' stamp: 'GR 12/1/2020 15:52:52'!
Sale class
	instanceVariableNames: ''!

!methodRemoval: Sale class #getNextID stamp: 'GR 12/1/2020 15:52:59'!
getNextID
	
	nextID ifNil: [ nextID :=0 ].
	nextID := nextID + 1.
	^ nextID.!
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 15:53:04' prior: 50888526!
of: aTotal

	"should assert total is not negative or 0!!"
	^self new initializeTotal: aTotal! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 15:26:27' prior: 50888445!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	cashier checkOut.
	
	saleID := self getNextSaleID.
	
	^ cashier createSale ID.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 15:57:48' prior: 50888589!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	saleID := self getNextID.
	
	cashier checkOut.
	
	
	
	^ cashier createSale ID.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 15:58:23' prior: 50888610!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	saleID := self getNextID.
	
	cashier setSaleID: saleID.
	
	cashier checkOut.
	
	^ cashier saleID.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 15:58:26'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:58:26'!
ERROR!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 15:58:26'!
ERROR!
!Cashier methodsFor: 'converting' stamp: 'GR 12/1/2020 15:59:40'!
setSaleID: aString 
	self shouldBeImplemented.! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'GR 12/1/2020 16:00:00'!
Object subclass: #Cashier
	instanceVariableNames: 'cart salesBook merchantProcessor creditCard total nextSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'converting' stamp: 'GR 12/1/2020 15:59:59' prior: 50888754!
setSaleID: aSaleID 
	
	nextSaleID := aSaleID.! !
!Cashier methodsFor: 'checkout - private' stamp: 'GR 12/1/2020 16:00:25' prior: 50883160!
createSale

	^ Sale of: total withID: nextSaleID
! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:00:27'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 16:00:33'!
of: aSmallInteger withID: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeOf: aSmallInteger withID: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 16:01:00' prior: 50888780!
of: aTotal withID: anID 

	^self new initializeOf: aTotal withID: anID ! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:01:01'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'GR 12/1/2020 16:01:05'!
Object subclass: #Sale
	instanceVariableNames: 'total id renameMe1 iD'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'GR 12/1/2020 16:01:05'!
initializeOf: aTotal withID: anID 
	self shouldBeImplemented.
	total := aTotal.
	iD := anID.! !
!Sale methodsFor: 'initialization' stamp: 'GR 12/1/2020 16:01:10' prior: 50888804!
initializeOf: aTotal withID: anID 
	
	total := aTotal.
	iD := anID.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:01:15'!
ERROR!
!Cashier methodsFor: 'accessing' stamp: 'GR 12/1/2020 16:01:27'!
saleID
	self shouldBeImplemented.! !
!Cashier methodsFor: 'accessing' stamp: 'GR 12/1/2020 16:01:32' prior: 50888818!
saleID
	
	^nextSaleID! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:01:34'!
FAILURE!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'GR 12/1/2020 16:02:15'!
Object subclass: #Cashier
	instanceVariableNames: 'cart salesBook merchantProcessor creditCard total saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:02:15' prior: 50888822!
saleID
	
	^saleID! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:02:15' prior: 50888767!
setSaleID: aSaleID 
	
	saleID := aSaleID.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:02:15' prior: 50888772!
createSale

	^ Sale of: total withID: saleID
! !

!methodRemoval: Cashier #getSaleID stamp: 'GR 12/1/2020 16:02:33'!
getSaleID
	
	^ salesBook last getID. !

!methodRemoval: RESTInterface #theCart:hasTheProduct:withAmount: stamp: 'GR 12/1/2020 16:03:35'!
theCart: aCartID hasTheProduct: aProduct withAmount: aProductAmount 
	
	| cart amountOfProductInCart |
	
	cart := carts at: aCartID ifAbsent: [^false].
	
	amountOfProductInCart := cart occurrencesOf: aProduct.
	
	^ (cart includes: aProduct) and: (amountOfProductInCart = aProductAmount )!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:04:28' prior: 50888014!
test15CheckoutACartReturnsSaleID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '2' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales')
	
	! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:04:55'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:04:55'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:07:02' prior: 50888868!
test15CheckoutACartReturnsSaleID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: '2' equals: (interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales')! !

Object subclass: #Sale
	instanceVariableNames: 'total iD'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'GR 12/1/2020 16:09:14'!
Object subclass: #Sale
	instanceVariableNames: 'total iD'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #Sale
	instanceVariableNames: 'total id'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'GR 12/1/2020 16:09:28'!
Object subclass: #Sale
	instanceVariableNames: 'total id'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'GR 12/1/2020 16:09:41' prior: 50888810!
initializeOf: aTotal withID: anID 
	
	total := aTotal.
	id := anID.! !

!methodRemoval: Sale class #of: stamp: 'GR 12/1/2020 16:10:05'!
of: aTotal

	"should assert total is not negative or 0!!"
	^self new initializeTotal: aTotal!

!methodRemoval: Sale #initializeTotal: stamp: 'GR 12/1/2020 16:10:15'!
initializeTotal: aTotal

	total := aTotal !

!methodRemoval: Sale #initializeTotal:withID: stamp: 'GR 12/1/2020 16:10:20'!
initializeTotal: aTotal withID: anID 
	
	total := aTotal.
	id := anID.!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:10:26'!
PASSED!

!methodRemoval: Sale #ID stamp: 'GR 12/1/2020 16:10:36'!
ID
	
	^ id!

!methodRemoval: Sale #getID stamp: 'GR 12/1/2020 16:10:40'!
getID
	
	^ id.!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:10:49'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:10:49'!
PASSED!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:11:52' prior: 50888631!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	saleID := self getNextID.
	
	cashier checkoutWithID: saleID.
	
	^ cashier saleID.! !
!Cashier methodsFor: 'checkout' stamp: 'GR 12/1/2020 16:12:22'!
checkOutWithID: aSaleID

	self setSaleID: saleID.
	
	self checkOut.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:12:41' prior: 50889199!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	saleID := self getNextID.
	
	cashier checkOutWithID: saleID.
	
	^ cashier saleID.! !

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:12:45'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:12:45'!
FAILURE!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:12:45'!
FAILURE!
!Cashier methodsFor: 'checkout' stamp: 'GR 12/1/2020 16:13:07' prior: 50889219!
checkOutWithID: aSaleID

	self setSaleID: aSaleID.
	
	self checkOut.! !

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:13:12'!
FAILURE!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:13:24'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:13:27'!
PASSED!

!testRun: #CartTest #test01NewCartsAreCreatedEmpty stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CartTest #test02CanNotAddItemsThatDoNotBelongToStore stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CartTest #test03AfterAddingAnItemTheCartIsNotEmptyAnymore stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CartTest #test04CanNotAddNonPositiveNumberOfItems stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CartTest #test05CanNotAddMoreThanOneItemNotSellByTheStore stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CartTest #test06CartRemembersAddedItems stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CartTest #test07CartDoesNotHoldNotAddedItems stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CartTest #test08CartRemembersTheNumberOfAddedItems stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CashierTest #test01CanNotCheckoutAnEmptyCart stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CashierTest #test02CalculatedTotalIsCorrect stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CashierTest #test03CanNotCheckoutWithAnExpiredCreditCart stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutRegistersASale stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CashierTest #test05CashierChargesCreditCardUsingMerchantProcessor stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:13:29'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:13:29'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:16:46'!
test16CheckOutDeletesTheCart

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self deny: (interface isDefinedTheID: '1').! !

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:16:47'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:17:17' prior: 50889224!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: OrderedCollection new.
	
	saleID := self getNextID.
	
	cashier checkOutWithID: saleID.
	
	carts removeKey: aCartID.
	
	^ cashier saleID.! !

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:17:18'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:17:18'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:21:40'!
test17CanNotListPurchasesOfInvalidUsername

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self
		should: [ interface listPurchases: 'Ete Sech' withPassword: 'hola123' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:21:47' prior: 50889753!
test17CanNotListPurchasesOfInvalidUsername

	self
		should: [ interface listPurchases: 'Ete Sech' withPassword: 'hola123' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError.! !

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 16:21:53'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:22:18'!
listPurchases: aString withPassword: aString2 
	self shouldBeImplemented.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:22:57' prior: 50889786!
listPurchases: aUsername withPassword: aPassword

	self verificateUsername: aUsername andPassword: aPassword.! !

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:22:58'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 16:22:58'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:24:21'!
test18CanListPurchasesOfUserWithNoSales
	
	interface listPurchases: 'C' withPassword: 'hola123'.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:24:52' prior: 50889863!
test18CanListPurchasesOfUserWithNoSales
	
	interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas'.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:28:02' prior: 50889870!
test18CanListPurchasesOfUserWithNoSales
	
	self assert: OrderedCollection new equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:28:05'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:28:37' prior: 50889792!
listPurchases: aUsername withPassword: aPassword

	self verificateUsername: aUsername andPassword: aPassword.
	
	^ OrderedCollection new.! !

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 16:28:38'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:28:38'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:28:51'!
test19CanListPurchasesOfUserWithOneSale
	
	self assert: OrderedCollection new equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:30:14' prior: 50889965!
test19CanListPurchasesOfUserWithOneSale
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory itemSellByTheStore with: 1 with: testObjectsFactory itemSellByTheStorePrice ) 
		equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:30:16'!
FAILURE!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:30:49' prior: 50889974!
test19CanListPurchasesOfUserWithOneSale
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 1.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory itemSellByTheStore with: 1 with: testObjectsFactory itemSellByTheStorePrice ) 
		equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:34:08' prior: 50890000!
test19CanListPurchasesOfUserWithOneSale
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 1.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory bagWithOneElement with: testObjectsFactory itemSellByTheStorePrice ) 
		equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:34:17'!
ERROR!
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:34:34'!
bagWithOneElement
	self shouldBeImplemented.! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:35:16' prior: 50890047!
bagWithOneElement
	
	^ Bag with: self itemSellByTheStore ! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:35:17'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:35:28'!
ERROR!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:35:51'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:35:55'!
ERROR!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:36:41'!
ERROR!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:36:43'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:42:05' prior: 50889890!
listPurchases: aUsername withPassword: aPassword

	| items sale sales |
	self verificateUsername: aUsername andPassword: aPassword.
	
	sale := (salesBook at: aUsername) at: 1.
	
	items := sales getPurchases.
	
	^ OrderedCollection with: items with: sales total.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:42:37' prior: 50890078!
listPurchases: aUsername withPassword: aPassword

	| items sale |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	sale := (salesBook at: aUsername) at: 1.
	
	items := sale getPurchases.
	
	^ OrderedCollection with: items with: sale total.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:43:01' prior: 50890090!
listPurchases: aUsername withPassword: aPassword

	| sale |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	sale := (salesBook at: aUsername) at: 1.
	
	^ OrderedCollection with: sale items with: sale total.! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:43:58'!
ERROR!
!RESTInterface methodsFor: 'initialization' stamp: 'GR 12/1/2020 16:46:19' prior: 50888226!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextID := 0.
	clock := aClock.
	merchantProcessor := aMerchantProcessor.
	userList keysDo: [ :aUsername | salesBook add: aUsername->OrderedCollection new ]! !
!RESTInterface methodsFor: 'initialization' stamp: 'GR 12/1/2020 16:46:51' prior: 50890115!
initializeWithUserList: aUserList andCatalog: aCatalog withMerchantProcessor: aMerchantProcessor withClock: aClock   
	
	userList := aUserList.
	catalog := aCatalog.
	carts := Dictionary new.
	nextID := 0.
	clock := aClock.
	merchantProcessor := aMerchantProcessor.
	salesBook := Dictionary new.
	userList keysDo: [ :aUsername | salesBook add: aUsername->OrderedCollection new ]! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:46:53'!
ERROR!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:51:27' prior: 50890101!
listPurchases: aUsername withPassword: aPassword

	| purchases total |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	purchases := (salesBook at: aUsername) inject: Bag new addingAll: [ :aSale | aSale purchases].
	
	total := (salesBook at: aUsername) inject: 0 into: [ :totalAmount :aSale | totalAmount + aSale total].
	
	^ OrderedCollection with: purchases with: total.! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:51:29'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:51:37'!
ERROR!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:51:43'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:51:54'!
ERROR!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:52:52'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:52:58'!
ERROR!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:53:08'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:54:56'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:54:56'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:55:00'!
ERROR!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:55:03'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 16:55:04'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:55:06'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 16:55:07'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:55:08'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 16:55:09'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:55:11'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 16:55:12'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:55:13'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 16:55:14'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:55:15'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 16:55:15'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:55:20'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:55:21'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:55:22'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:55:23'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:55:23'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 16:55:24'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:55:25'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:55:26'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:55:27'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:55:27'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 16:55:28'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 16:55:30'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 16:55:31'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 16:55:32'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 16:55:32'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:55:35'!
FAILURE!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:55:35'!
FAILURE!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 16:56:01' prior: 50889878!
test18CanListPurchasesOfUserWithNoSales
	
	self assert: (OrderedCollection with: Bag new with: 0) equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:56:06'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:56:08'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:56:08'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:56:09'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:56:09'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 16:56:09'!
PASSED!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:56:11'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:56:11'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 16:57:48'!
FAILURE!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 16:59:50' prior: 50889671!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: (self salesOfUserWithTheCart: aCartID).
	
	saleID := self getNextID.
	
	cashier checkOutWithID: saleID.
	
	carts removeKey: aCartID.
	
	^ cashier saleID.! !
!RESTInterface methodsFor: 'operations -- private' stamp: 'GR 12/1/2020 17:00:13'!
salesOfUserWithTheCart: aCartID

	self ! !
!RESTInterface methodsFor: 'operations -- private' stamp: 'GR 12/1/2020 17:01:00' prior: 50890363!
salesOfUserWithTheCart: aCartID

	^ salesBook at: (self userOfCart: aCartID)! !
!RESTInterface methodsFor: 'accessing' stamp: 'GR 12/1/2020 17:02:00'!
userOfCart: aCartID

	(carts at: aCartID) at: 2 ! !
!RESTInterface methodsFor: 'accessing' stamp: 'GR 12/1/2020 17:02:04' prior: 50890373!
userOfCart: aCartID

	^ (carts at: aCartID) at: 2 ! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 17:02:34'!
ERROR!
!Sale methodsFor: 'accessing' stamp: 'GR 12/1/2020 17:02:43'!
purchases
	self shouldBeImplemented.! !

!classDefinition: #Sale category: 'TusLibros' stamp: 'GR 12/1/2020 17:02:49'!
Object subclass: #Sale
	instanceVariableNames: 'total id purchases'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'accessing' stamp: 'GR 12/1/2020 17:02:47' prior: 50890386!
purchases
	
	^ purchases! !
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 17:04:36'!
of: aTotal withID: anID withItems: anItemList  

	^self new initializeOf: aTotal withID: anID ! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:04:36' prior: 50888847!
createSale

	^ Sale of: total withID: saleID withItems: cart items
! !

!methodRemoval: Sale class #of:withID: stamp: 'GR 12/1/2020 17:04:36'!
of: aTotal withID: anID 

	^self new initializeOf: aTotal withID: anID !
!Sale methodsFor: 'initialization' stamp: 'GR 12/1/2020 17:05:56'!
initializeOf: aTotal withID: anID withItems: anItemList  
	
	total := aTotal.
	id := anID.! !
!Sale class methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:05:56' prior: 50890401!
of: aTotal withID: anID withItems: anItemList  

	^self new initializeOf: aTotal withID: anID withItems: anItemList ! !

!methodRemoval: Sale #initializeOf:withID: stamp: 'GR 12/1/2020 17:05:56'!
initializeOf: aTotal withID: anID 
	
	total := aTotal.
	id := anID.!

!classDefinition: #Sale category: 'TusLibros' stamp: 'GR 12/1/2020 17:06:12'!
Object subclass: #Sale
	instanceVariableNames: 'total id purchases items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'GR 12/1/2020 17:06:11' prior: 50890416!
initializeOf: aTotal withID: anID withItems: anItemList  
	
	total := aTotal.
	id := anID.
	items := anItemList.! !
!Sale methodsFor: 'accessing' stamp: 'GR 12/1/2020 17:06:23' prior: 50890397!
purchases
	
	^ items! !

Object subclass: #Sale
	instanceVariableNames: 'total id items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'GR 12/1/2020 17:06:33'!
Object subclass: #Sale
	instanceVariableNames: 'total id items'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 17:06:51'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:07:30'!
items
	self shouldBeImplemented.
	^items! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 17:08:14' prior: 50887756!
listCart: aCartID 
	
	| cart |
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	^ cart listCart contents.! !
!Cart methodsFor: 'accessing' stamp: 'GR 12/1/2020 17:08:25' prior: 50885259!
listCart
	
	^ items asBag! !
!Cashier methodsFor: 'checkout - private' stamp: 'GR 12/1/2020 17:09:02' prior: 50890407!
createSale

	^ Sale of: total withID: saleID withItems: cart listCart
! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 17:09:07'!
PASSED!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:09:56'!
test19CanListPurchasesOfUserWithSales
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 1.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory bagWithOneElement with: testObjectsFactory itemSellByTheStorePrice ) 
		equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !

!methodRemoval: RESTInterfaceTest #test19CanListPurchasesOfUserWithOneSale stamp: 'GR 12/1/2020 17:09:56'!
test19CanListPurchasesOfUserWithOneSale
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 1.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory bagWithOneElement with: testObjectsFactory itemSellByTheStorePrice ) 
		equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:10:21' prior: 50890493!
test19CanListPurchasesOfUserWithSales
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory bagWithOneElement with: testObjectsFactory itemSellByTheStorePrice ) 
		equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:10:35'!
bagWithElements
	
	^ Bag with: self itemSellByTheStore ! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:10:35' prior: 50890536!
test19CanListPurchasesOfUserWithSales
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory bagWithElements with: testObjectsFactory itemSellByTheStorePrice ) 
		equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !

!methodRemoval: StoreTestObjectsFactory #bagWithOneElement stamp: 'GR 12/1/2020 17:10:35'!
bagWithOneElement
	
	^ Bag with: self itemSellByTheStore !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:11:51' prior: 50890557!
bagWithElements
	
	^ Bag new add: self itemSellByTheStore withOccurrences: 10.! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:11:55'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:11:55'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:13:11'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:13:11'!
FAILURE!

OrderedCollection with: testObjectsFactory bagWithElements with: testObjectsFactory itemSellByTheStorePrice!

testObjectsFactory bagWithElements!
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:14:18' prior: 50890589!
bagWithElements
	
	^ (Bag new add: self itemSellByTheStore withOccurrences: 10).! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:14:48' prior: 50890614!
bagWithElements
	
	^ (Bag new add: self itemSellByTheStore withOccurrences: 10).! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:14:51'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:14:51'!
FAILURE!
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:16:07' prior: 50890620!
bagWithElements
	
	| bag |
	
	bag := Bag new.
	
	bag add: self itemSellByTheStore withOccurrences: 10.
	
	^ bag.! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:16:12'!
FAILURE!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:16:12'!
FAILURE!

OrderedCollection with: testObjectsFactory bagWithElements with: testObjectsFactory itemSellByTheStorePrice!
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/1/2020 17:16:45' prior: 50890562!
test19CanListPurchasesOfUserWithSales
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory bagWithElements with: testObjectsFactory itemSellByTheStorePrice * 10 ) 
		equals: (interface listPurchases: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 17:16:51'!
PASSED!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:16:51'!
PASSED!
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 17:18:28' prior: 50890422!
of: aTotal withID: anID withItems: anItemList  
	
	(aTotal positive) ifFalse: [ self error: self invalidTotalAmountErrorDescription].
	
	^self new initializeOf: aTotal withID: anID withItems: anItemList ! !

0 positive !

0 strictlyPositive !
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 17:19:49' prior: 50890743!
of: aTotal withID: anID withItems: anItemList  
	
	(aTotal strictlyPositive ) ifFalse: [ self error: self invalidTotalAmountErrorDescription].
	
	^self new initializeOf: aTotal withID: anID withItems: anItemList ! !
!Sale class methodsFor: 'instance creation' stamp: 'GR 12/1/2020 17:21:01' prior: 50890754!
of: aTotal withID: anID withItems: anItemList  
	
	^self new initializeOf: aTotal withID: anID withItems: anItemList ! !
!Clock methodsFor: 'no messages' stamp: 'GR 12/1/2020 17:22:26'!
now

	self subclassResponsibility.! !
!RESTInterfaceTest methodsFor: 'tests' stamp: 'GR 12/1/2020 17:25:33'!
test10CanAddProductsToCartWithCartID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self deny: (interface listCart: '1') isEmpty.! !

!methodRemoval: RESTInterfaceTest #test06CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 17:25:33'!
test06CanAddProductsToCartWithCartID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self deny: (interface listCart: '1') isEmpty.!
!RESTInterfaceTest methodsFor: 'tests' stamp: 'GR 12/1/2020 17:25:42'!
test09CanNotListCartWithInvalidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface listCart: '4' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.! !

!methodRemoval: RESTInterfaceTest #test10CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 17:25:42'!
test10CanNotListCartWithInvalidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self
		should: [ interface listCart: '4' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError.!
!RESTInterfaceTest methodsFor: 'tests' stamp: 'GR 12/1/2020 17:25:50'!
test08CanListCartWithValidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	! !

!methodRemoval: RESTInterfaceTest #test09CanListCartWithValidID stamp: 'GR 12/1/2020 17:25:50'!
test09CanListCartWithValidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: (Dictionary with: testObjectsFactory itemSellByTheStore->10 ) equals: (interface listCart: '1')
	
	!
!RESTInterfaceTest methodsFor: 'tests' stamp: 'GR 12/1/2020 17:25:55'!
test07CanListAnEmptyCart

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: Dictionary new equals: (interface listCart: '1')
	
	! !

!methodRemoval: RESTInterfaceTest #test08CanListAnEmptyCart stamp: 'GR 12/1/2020 17:25:55'!
test08CanListAnEmptyCart

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: Dictionary new equals: (interface listCart: '1')
	
	!
!RESTInterfaceTest methodsFor: 'tests' stamp: 'GR 12/1/2020 17:26:14'!
test06CanNotAddProductsToInvalidCart

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError. 
	
	! !

!methodRemoval: RESTInterfaceTest #test07CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 17:26:14'!
test07CanNotAddProductsToInvalidCart

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self
		should: [ interface addToCart: '4' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10. ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidCartError. 
	
	!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 17:26:53'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanNotAddProductsToInvalidCart stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanListAnEmptyCart stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test08CanListCartWithValidID stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test09CanNotListCartWithInvalidID stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanAddProductsToCartWithCartID stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/1/2020 17:26:55'!
PASSED!

----QUIT----(1 December 2020 17:27:34) CuisUniversity-4384.image priorSource: 17802685!

----STARTUP---- (1 December 2020 17:27:54) as /home/grosinov/linux64/CuisUniversity-4384.image!


----QUIT----(1 December 2020 17:28:25) CuisUniversity-4384.image priorSource: 17898213!

----STARTUP---- (1 December 2020 17:29:17) as /home/grosinov/linux64/CuisUniversity-4384.image!

!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 17:29:58' prior: 50890148!
listPurchases: aUsername withPassword: aPassword

	| purchases total |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	purchases := (salesBook at: aUsername) inject: Bag new addingAll: [ :aSale | aSale purchases].
	
	total := (salesBook at: aUsername) inject: 0 into: [ :totalAmount :aSale | totalAmount + aSale total].
	
	^ OrderedCollection with: purchases with: total.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 17:30:06'!
purchasesOf: aUsername

	^ salesBook at: aUsername! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 17:30:06' prior: 50890982!
listPurchases: aUsername withPassword: aPassword

	| purchases total |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	purchases := (self purchasesOf: aUsername) inject: Bag new addingAll: [ :aSale | aSale purchases].
	
	total := (salesBook at: aUsername) inject: 0 into: [ :totalAmount :aSale | totalAmount + aSale total].
	
	^ OrderedCollection with: purchases with: total.! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/1/2020 17:30:18' prior: 50891002!
listPurchases: aUsername withPassword: aPassword

	| purchases total |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	purchases := (self purchasesOf: aUsername) inject: Bag new addingAll: [ :aSale | aSale purchases].
	
	total := (self purchasesOf: aUsername) inject: 0 into: [ :totalAmount :aSale | totalAmount + aSale total].
	
	^ OrderedCollection with: purchases with: total.! !

----QUIT----(1 December 2020 17:31:07) CuisUniversity-4384.image priorSource: 17898400!

----STARTUP---- (1 December 2020 17:32:02) as /home/grosinov/linux64/CuisUniversity-4384.image!


----QUIT----(1 December 2020 17:32:23) CuisUniversity-4384.image priorSource: 17900239!

----STARTUP---- (2 December 2020 14:49:15) as /home/grosinov/linux64/CuisUniversity-4384.image!

!CreditCard class methodsFor: 'instance creation' stamp: 'GR 12/2/2020 14:54:34'!
withNumber: aName expiringOn: aMonth 
	
	^self new initializeExpiringOn: aMonth! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:54:34' prior: 50883492!
notExpiredCreditCard
	
	^CreditCard withNumber: 'Matias Morales' expiringOn: (Month month: today monthIndex year: today yearNumber + 1)! !
!RESTInterface methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:54:34' prior: 50890341!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard withNumber: 'Matias Morales' expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: (self salesOfUserWithTheCart: aCartID).
	
	saleID := self getNextID.
	
	cashier checkOutWithID: saleID.
	
	carts removeKey: aCartID.
	
	^ cashier saleID.! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:54:34' prior: 50883499!
expiredCreditCard
	
	^CreditCard withNumber: 'Matias Morales' expiringOn: (Month month: today monthIndex year: today yearNumber - 1)! !

!methodRemoval: CreditCard class #expiringOn: stamp: 'GR 12/2/2020 14:54:34'!
expiringOn: aMonth 
	
	^self new initializeExpiringOn: aMonth!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/2/2020 14:54:46' prior: 50891059!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard withNumber: aCCN expiringOn: aCCED.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: (self salesOfUserWithTheCart: aCartID).
	
	saleID := self getNextID.
	
	cashier checkOutWithID: saleID.
	
	carts removeKey: aCartID.
	
	^ cashier saleID.! !
!CreditCard class methodsFor: 'instance creation' stamp: 'GR 12/2/2020 14:55:22'!
withNumber: aName expiringOn: aMonth withOwner: anOwner  
	
	^self new initializeExpiringOn: aMonth! !
!RESTInterface methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:55:22' prior: 50891095!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard withNumber: aCCN expiringOn: aCCED withOwner: 'Matias Morales'.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: (self salesOfUserWithTheCart: aCartID).
	
	saleID := self getNextID.
	
	cashier checkOutWithID: saleID.
	
	carts removeKey: aCartID.
	
	^ cashier saleID.! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:55:22' prior: 50891083!
expiredCreditCard
	
	^CreditCard withNumber: 'Matias Morales' expiringOn: (Month month: today monthIndex year: today yearNumber - 1) withOwner: 'Matias Morales'! !
!StoreTestObjectsFactory methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:55:22' prior: 50891051!
notExpiredCreditCard
	
	^CreditCard withNumber: 'Matias Morales' expiringOn: (Month month: today monthIndex year: today yearNumber + 1) withOwner: 'Matias Morales'! !

!methodRemoval: CreditCard class #withNumber:expiringOn: stamp: 'GR 12/2/2020 14:55:22'!
withNumber: aName expiringOn: aMonth 
	
	^self new initializeExpiringOn: aMonth!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/2/2020 14:55:33' prior: 50891124!
checkout: aCartID withCCN: aCCN withCCED: aCCED withCCO: aCCO 
	
	| creditCard cashier cart saleID |
	
	(carts includesKey: aCartID) ifFalse: [ self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	creditCard := CreditCard withNumber: aCCN expiringOn: aCCED withOwner: aCCO.
	
	cashier := Cashier 
			toCheckout: cart
			charging: creditCard 
			throught: merchantProcessor 
			on: clock now
			registeringOn: (self salesOfUserWithTheCart: aCartID).
	
	saleID := self getNextID.
	
	cashier checkOutWithID: saleID.
	
	carts removeKey: aCartID.
	
	^ cashier saleID.! !
!StoreTestObjectsFactory methodsFor: 'credit card' stamp: 'GR 12/2/2020 14:55:48' prior: 50891148!
expiredCreditCard
	
	^CreditCard withNumber: '4852536874523584' expiringOn: (Month month: today monthIndex year: today yearNumber - 1) withOwner: 'Matias Morales'! !
!StoreTestObjectsFactory methodsFor: 'credit card' stamp: 'GR 12/2/2020 14:55:52' prior: 50891157!
notExpiredCreditCard
	
	^CreditCard withNumber: '4852536874523584' expiringOn: (Month month: today monthIndex year: today yearNumber + 1) withOwner: 'Matias Morales'! !
!CreditCard methodsFor: 'initialization' stamp: 'GR 12/2/2020 14:56:06' prior: 50883405!
initializeExpiringOn: aMonth 
	
	expiration := aMonth ! !
!CreditCard methodsFor: 'initialization' stamp: 'GR 12/2/2020 14:56:47'!
initializeWithNumber: aCCN initializeExpiringOn: aMonth 
	
	expiration := aMonth ! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:56:47' prior: 50891117!
withNumber: aName expiringOn: aMonth withOwner: anOwner  
	
	^self new initializeWithNumber: aNumber initializeExpiringOn: aMonth! !

!methodRemoval: CreditCard #initializeExpiringOn: stamp: 'GR 12/2/2020 14:56:47'!
initializeExpiringOn: aMonth 
	
	expiration := aMonth !
!CreditCard methodsFor: 'initialization' stamp: 'GR 12/2/2020 14:57:01'!
initializeWithNumber: aCCN expiringOn: aMonth 
	
	expiration := aMonth ! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:57:01' prior: 50891224!
withNumber: aName expiringOn: aMonth withOwner: anOwner  
	
	^self new initializeWithNumber: aNumber expiringOn: aMonth! !

!methodRemoval: CreditCard #initializeWithNumber:initializeExpiringOn: stamp: 'GR 12/2/2020 14:57:01'!
initializeWithNumber: aCCN initializeExpiringOn: aMonth 
	
	expiration := aMonth !
!CreditCard methodsFor: 'initialization' stamp: 'GR 12/2/2020 14:57:31'!
initializeWithNumber: aCCN expiringOn: aMonth withOwner: aCCO  
	
	expiration := aMonth ! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:57:31' prior: 50891241!
withNumber: aName expiringOn: aMonth withOwner: anOwner  
	
	^self new initializeWithNumber: aNumber expiringOn: aMonth withOwner: anOwner! !

!methodRemoval: CreditCard #initializeWithNumber:expiringOn: stamp: 'GR 12/2/2020 14:57:31'!
initializeWithNumber: aCCN expiringOn: aMonth 
	
	expiration := aMonth !

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'GR 12/2/2020 14:58:15'!
Object subclass: #CreditCard
	instanceVariableNames: 'expiration numer'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'GR 12/2/2020 14:58:16'!
Object subclass: #CreditCard
	instanceVariableNames: 'expiration numer owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'initialization' stamp: 'GR 12/2/2020 14:58:13' prior: 50891253!
initializeWithNumber: aCCN expiringOn: aMonth withOwner: aCCO  
	
	numer := aCCN.
	expiration := aMonth.
	owner := aCCO. ! !

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'GR 12/2/2020 14:58:26'!
Object subclass: #CreditCard
	instanceVariableNames: 'expiration number owner'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:58:26' prior: 50891286!
initializeWithNumber: aCCN expiringOn: aMonth withOwner: aCCO  
	
	number := aCCN.
	expiration := aMonth.
	owner := aCCO. ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'GR 12/2/2020 14:58:44' prior: 50891259!
withNumber: aCCN expiringOn: aMonth withOwner: aCCO  
	
	^self new initializeWithNumber: aCCN expiringOn: aMonth withOwner: aCCO! !
!CreditCard class methodsFor: 'instance creation' stamp: 'GR 12/2/2020 14:59:10' prior: 50891308!
withNumber: aCCN expiringOn: aMonth withOwner: aCCO 

	(aCCO = '') ifTrue: [ self error: self invalidCreditCard ].
	
	^self new initializeWithNumber: aCCN expiringOn: aMonth withOwner: aCCO! !
!CreditCard class methodsFor: 'nil' stamp: 'GR 12/2/2020 14:59:32'!
invalidCreditCard

	^ 'Invalid credit card'! !
!CreditCard class methodsFor: 'error handling' stamp: 'GR 12/2/2020 14:59:54'!
invalidCreditCardErrorDescription

	^ 'Invalid credit card'! !
!CreditCard class methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 14:59:54' prior: 50891316!
withNumber: aCCN expiringOn: aMonth withOwner: aCCO 

	(aCCO = '') ifTrue: [ self error: self invalidCreditCardErrorDescription ].
	
	^self new initializeWithNumber: aCCN expiringOn: aMonth withOwner: aCCO! !

!methodRemoval: CreditCard class #invalidCreditCard stamp: 'GR 12/2/2020 14:59:54'!
invalidCreditCard

	^ 'Invalid credit card'!

12.5685!

12.5685 trim!

12.5685 rounded !

12.5685 floor!

12.5685 *100 floor!

(12.5685 *100) floor!

(12.5685 *100) floor /100 !

(12.5685 *100) floor asFloat /100!

(12.56865 *100) truncated !

(12.56865 *100) truncated /100 !

(12.56865 *100) truncated /100 asFloat!

12.5864 roundDownTo: 2 !

12.5864 roundDownTo: 1 !

12.5864 roundDownTo: 4 !

12.5864 roundTo: 3 !

12.5864 roundTo: 15!

12.5864 roundTo: 15 !

12.5864 truncateTo: 2 !

12.5864 truncateTo: 12.58 !

12.5854 significand !

12.5854 significand !
!Cashier methodsFor: 'checkout - private' stamp: 'GR 12/2/2020 15:18:52' prior: 50883168!
debitTotal
	
	| trimmedTotal |
	
	trimmedTotal := (total*100) truncated /100 asFloat.
	
	merchantProcessor debit: trimmedTotal from: creditCard.
	! !
!Cashier methodsFor: 'checkout - private' stamp: 'GR 12/2/2020 15:19:46' prior: 50891365!
debitTotal
	
	merchantProcessor debit: total from: creditCard.
	! !
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/2/2020 15:31:38'!
listPurchasesOfUser: aUsername withPassword: aPassword

	| purchases total |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	purchases := (self purchasesOf: aUsername) inject: Bag new addingAll: [ :aSale | aSale purchases].
	
	total := (self purchasesOf: aUsername) inject: 0 into: [ :totalAmount :aSale | totalAmount + aSale total].
	
	^ OrderedCollection with: purchases with: total.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 15:31:38' prior: 50890300!
test18CanListPurchasesOfUserWithNoSales
	
	self assert: (OrderedCollection with: Bag new with: 0) equals: (interface listPurchasesOfUser: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 15:31:38' prior: 50889773!
test17CanNotListPurchasesOfInvalidUsername

	self
		should: [ interface listPurchasesOfUser: 'Ete Sech' withPassword: 'hola123' ] 
		raise: Error - MessageNotUnderstood 
		withMessageText: RESTInterface invalidUserError.! !
!RESTInterfaceTest methodsFor: 'as yet unclassified' stamp: 'GR 12/2/2020 15:31:38' prior: 50890651!
test19CanListPurchasesOfUserWithSales
	
	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	interface checkout: '1' withCCN: '4865642166849654' withCCED: (Month month: 8 year: 2021) withCCO: 'Matias Morales'.
	
	self 
		assert: (OrderedCollection with: testObjectsFactory bagWithElements with: testObjectsFactory itemSellByTheStorePrice * 10 ) 
		equals: (interface listPurchasesOfUser: 'Crocken321' withPassword: 'lacontraseniamasseguradetodas').! !

!methodRemoval: RESTInterface #listPurchases:withPassword: stamp: 'GR 12/2/2020 15:31:38'!
listPurchases: aUsername withPassword: aPassword

	| purchases total |
	
	self verificateUsername: aUsername andPassword: aPassword.
	
	purchases := (self purchasesOf: aUsername) inject: Bag new addingAll: [ :aSale | aSale purchases].
	
	total := (self purchasesOf: aUsername) inject: 0 into: [ :totalAmount :aSale | totalAmount + aSale total].
	
	^ OrderedCollection with: purchases with: total.!
!RESTInterface methodsFor: 'operations' stamp: 'GR 12/2/2020 15:39:24' prior: 50890470!
listCart: aCartID 
	
	| cart |
	
	(carts includesKey: aCartID) ifFalse: [self error: self class invalidCartError ].
	
	self checkIfCartTimeExceeded: aCartID.
	
	cart := self cartWithID: aCartID.
	
	^ cart listCart.! !

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test01CreateCartWithValidUsernameAndPasswordReturnsCartID stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test02CanNotCreateCartWithInvalidUsername stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test03CanNotCreateCartWithValidUsernameButInvalidPassword stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test04CreateMoreThanOneCartWithValidUsernameAndPasswordReturnsCartIDForEach stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test05CartIsCreatedAndSaved stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test06CanNotAddProductsToInvalidCart stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test07CanListAnEmptyCart stamp: 'GR 12/2/2020 15:39:29'!
FAILURE!

!testRun: #RESTInterfaceTest #test08CanListCartWithValidID stamp: 'GR 12/2/2020 15:39:29'!
FAILURE!

!testRun: #RESTInterfaceTest #test09CanNotListCartWithInvalidID stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test10CanAddProductsToCartWithCartID stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test11CanNotCheckoutCartWithInvalidID stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test12CanNotAddToCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test13CanNotListCartIf30MinutesPassedSinceLastOperation stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test14CanNotCheckoutIf30MinutesPassedSinceLastOperation stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test15CheckoutACartReturnsSaleID stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test16CheckOutDeletesTheCart stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test17CanNotListPurchasesOfInvalidUsername stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test18CanListPurchasesOfUserWithNoSales stamp: 'GR 12/2/2020 15:39:29'!
PASSED!

!testRun: #RESTInterfaceTest #test19CanListPurchasesOfUserWithSales stamp: 'GR 12/2/2020 15:39:29'!
PASSED!
!RESTInterfaceTest methodsFor: 'tests' stamp: 'GR 12/2/2020 15:39:34' prior: 50890851!
test07CanListAnEmptyCart

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	self assert: Bag new equals: (interface listCart: '1')
	
	! !

!testRun: #RESTInterfaceTest #test07CanListAnEmptyCart stamp: 'GR 12/2/2020 15:39:36'!
PASSED!
!RESTInterfaceTest methodsFor: 'tests' stamp: 'GR 12/2/2020 15:40:08' prior: 50890825!
test08CanListCartWithValidID

	interface createCartWithUser: 'Crocken321' andPassword: 'lacontraseniamasseguradetodas'.
	
	interface addToCart: '1' theProduct: testObjectsFactory itemSellByTheStore withAmount: 10.
	
	self assert: testObjectsFactory bagWithElements equals: (interface listCart: '1')
	
	! !

!testRun: #RESTInterfaceTest #test08CanListCartWithValidID stamp: 'GR 12/2/2020 15:40:09'!
PASSED!

----QUIT----(2 December 2020 15:40:56) CuisUniversity-4384.image priorSource: 17900426!

----STARTUP---- (2 December 2020 15:41:17) as /home/grosinov/linux64/CuisUniversity-4384.image!


----QUIT----(2 December 2020 15:41:29) CuisUniversity-4384.image priorSource: 17917141!